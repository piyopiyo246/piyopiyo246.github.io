/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("widget-position-align",function(e,t){function c(e){}var n=e.Lang,r="align",i="alignOn",s="visible",o="boundingBox",u="offsetWidth",a="offsetHeight",f="region",l="viewportRegion";c.ATTRS={align:{value:null},centered:{setter:"_setAlignCenter",lazyAdd:!1,value:!1},alignOn:{value:[],validator:e.Lang.isArray}},c.TL="tl",c.TR="tr",c.BL="bl",c.BR="br",c.TC="tc",c.RC="rc",c.BC="bc",c.LC="lc",c.CC="cc",c.prototype={initializer:function(){this._posNode||e.error("WidgetPosition needs to be added to the Widget, before WidgetPositionAlign is added"),e.after(this._bindUIPosAlign,this,"bindUI"),e.after(this._syncUIPosAlign,this,"syncUI")},_posAlignUIHandles:null,destructor:function(){this._detachPosAlignUIHandles()},_bindUIPosAlign:function(){this.after("alignChange",this._afterAlignChange),this.after("alignOnChange",this._afterAlignOnChange),this.after("visibleChange",this._syncUIPosAlign)},_syncUIPosAlign:function(){var e=this.get(r);this._uiSetVisiblePosAlign(this.get(s)),e&&this._uiSetAlign(e.node,e.points)},align:function(e,t){return arguments.length?this.set(r,{node:e,points:t}):this._syncUIPosAlign(),this},centered:function(e){return this.align(e,[c.CC,c.CC])},_setAlignCenter:function(e){return e&&this.set(r,{node:e===!0?null:e,points:[c.CC,c.CC]}),e},_uiSetAlign:function(t,r){if(!n.isArray(r)||r.length!==2){e.error("align: Invalid Points Arguments");return}var i=this._getRegion(t),s,o,u;if(!i)return;s=r[0],o=r[1];switch(o){case c.TL:u=[i.left,i.top];break;case c.TR:u=[i.right,i.top];break;case c.BL:u=[i.left,i.bottom];break;case c.BR:u=[i.right,i.bottom];break;case c.TC:u=[i.left+Math.floor(i.width/2),i.top];break;case c.BC:u=[i.left+Math.floor(i.width/2),i.bottom];break;case c.LC:u=[i.left,i.top+Math.floor(i.height/2)];break;case c.RC:u=[i.right,i.top+Math.floor(i.height/2)];break;case c.CC:u=[i.left+Math.floor(i.width/2),i.top+Math.floor(i.height/2)];break;default:}u&&this._doAlign(s,u[0],u[1])},_uiSetVisiblePosAlign:function(e){e?this._attachPosAlignUIHandles():this._detachPosAlignUIHandles()},_attachPosAlignUIHandles:function(){if(this._posAlignUIHandles)return;var t=this.get(o),n=e.bind(this._syncUIPosAlign,this),r=[];e.Array.each(this.get(i),function(i){var s=i.eventName,o=e.one(i.node)||t;s&&r.push(o.on(s,n))}),this._posAlignUIHandles=r},_detachPosAlignUIHandles:function(){var t=this._posAlignUIHandles;t&&((new e.EventHandle(t)).detach(),this._posAlignUIHandles=null)},_doAlign:function(e,t,n){var r=this._posNode,i;switch(e){case c.TL:i=[t,n];break;case c.TR:i=[t-r.get(u),n];break;case c.BL:i=[t,n-r.get(a)];break;case c.BR:i=[t-r.get(u),n-r.get(a)];break;case c.TC:i=[t-r.get(u)/2,n];break;case c.BC:i=[t-r.get(u)/2,n-r.get(a)];break;case c.LC:i=[t,n-r.get(a)/2];break;case c.RC:i=[t-r.get(u),n-r.get(a)/2];break;case c.CC:i=[t-r.get(u)/2,n-r.get(a)/2];break;default:}i&&this.move(i)},_getRegion:function(t){var n;return t?(t=e.Node.one(t),t&&(n=t.get(f))):n=this._posNode.get(l),n},_afterAlignChange:function(e){var t=e.newVal;t&&this._uiSetAlign(t.node,t.points)},_afterAlignOnChange:function(e){this._detachPosAlignUIHandles(),this.get(s)&&this._attachPosAlignUIHandles()}},e.WidgetPositionAlign=c},"3.11.0",{requires:["widget-position"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("widget-stack",function(e,t){function O(e){}var n=e.Lang,r=e.UA,i=e.Node,s=e.Widget,o="zIndex",u="shim",a="visible",f="boundingBox",l="renderUI",c="bindUI",h="syncUI",p="offsetWidth",d="offsetHeight",v="parentNode",m="firstChild",g="ownerDocument",y="width",b="height",w="px",E="shimdeferred",S="shimresize",x="visibleChange",T="widthChange",N="heightChange",C="shimChange",k="zIndexChange",L="contentUpdate",A="stacked";O.ATTRS={shim:{value:r.ie==6},zIndex:{value:0,setter:"_setZIndex"}},O.HTML_PARSER={zIndex:function(e){return this._parseZIndex(e)}},O.SHIM_CLASS_NAME=s.getClassName(u),O.STACKED_CLASS_NAME=s.getClassName(A),O.SHIM_TEMPLATE='<iframe class="'+O.SHIM_CLASS_NAME+'" frameborder="0" title="Widget Stacking Shim" src="javascript:false" tabindex="-1" role="presentation"></iframe>',O.prototype={initializer:function(){this._stackNode=this.get(f),this._stackHandles={},e.after(this._renderUIStack,this,l),e.after(this._syncUIStack,this,h),e.after(this._bindUIStack,this,c)},_syncUIStack:function(){this._uiSetShim(this.get(u)),this._uiSetZIndex(this.get(o))},_bindUIStack:function(){this.after(C,this._afterShimChange),this.after(k,this._afterZIndexChange)},_renderUIStack:function(){this._stackNode.addClass(O.STACKED_CLASS_NAME)},_parseZIndex:function(e){var t;return!e.inDoc()||e.getStyle("position")==="static"?t="auto":t=e.getComputedStyle("zIndex"),t==="auto"?null:t},_setZIndex:function(e){return n.isString(e)&&(e=parseInt(e,10)),n.isNumber(e)||(e=0),e},_afterShimChange:function(e){this._uiSetShim(e.newVal)},_afterZIndexChange:function(e){this._uiSetZIndex(e.newVal)},_uiSetZIndex:function(e){this._stackNode.setStyle(o,e)},_uiSetShim:function(e){e?(this.get(a)?this._renderShim():this._renderShimDeferred(),r.ie==6&&this._addShimResizeHandlers()):this._destroyShim()},_renderShimDeferred:function(){this._stackHandles[E]=this._stackHandles[E]||[];var e=this._stackHandles[E],t=function(e){e.newVal&&this._renderShim()};e.push(this.on(x,t))},_addShimResizeHandlers:function(){this._stackHandles[S]=this._stackHandles[S]||[];var e=this.sizeShim,t=this._stackHandles[S];t.push(this.after(x,e)),t.push(this.after(T,e)),t.push(this.after(N,e)),t.push(this.after(L,e))},_detachStackHandles:function(e){var t=this._stackHandles[e],n;if(t&&t.length>0)while(n=t.pop())n.detach()},_renderShim:function(){var e=this._shimNode,t=this._stackNode;e||(e=this._shimNode=this._getShimTemplate(),t.insertBefore(e,t.get(m)),this._detachStackHandles(E),this.sizeShim())},_destroyShim:function(){this._shimNode&&(this._shimNode.get(v).removeChild(this._shimNode),this._shimNode=null,this._detachStackHandles(E),this._detachStackHandles(S))},sizeShim:function(){var e=this._shimNode,t=this._stackNode;e&&r.ie===6&&this.get(a)&&(e.setStyle(y,t.get(p)+w),e.setStyle(b,t.get(d)+w))},_getShimTemplate:function(){return i.create(O.SHIM_TEMPLATE,this._stackNode.get(g))}},e.WidgetStack=O},"3.11.0",{requires:["base-build","widget"],skinnable:!0});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("widget-position-constrain",function(e,t){function m(e){}var n="constrain",r="constrain|xyChange",i="constrainChange",s="preventOverlap",o="align",u="",a="bindUI",f="xy",l="x",c="y",h=e.Node,p="viewportRegion",d="region",v;m.ATTRS={constrain:{value:null,setter:"_setConstrain"},preventOverlap:{value:!1}},v=m._PREVENT_OVERLAP={x:{tltr:1,blbr:1,brbl:1,trtl:1},y:{trbr:1,tlbl:1,bltl:1,brtr:1}},m.prototype={initializer:function(){this._posNode||e.error("WidgetPosition needs to be added to the Widget, before WidgetPositionConstrain is added"),e.after(this._bindUIPosConstrained,this,a)},getConstrainedXY:function(e,t){t=t||this.get(n);var r=this._getRegion(t===!0?null:t),i=this._posNode.get(d);return[this._constrain(e[0],l,i,r),this._constrain(e[1],c,i,r)]},constrain:function(e,t){var r,i,s=t||this.get(n);s&&(r=e||this.get(f),i=this.getConstrainedXY(r,s),(i[0]!==r[0]||i[1]!==r[1])&&this.set(f,i,{constrained:!0}))},_setConstrain:function(e){return e===!0?e:h.one(e)},_constrain:function(e,t,n,r){if(r){this.get(s)&&(e=this._preventOverlap(e,t,n,r));var i=t==l,o=i?r.width:r.height,u=i?n.width:n.height,a=i?r.left:r.top,f=i?r.right-u:r.bottom-u;if(e<a||e>f)u<o?e<a?e=a:e>f&&(e=f):e=a}return e},_preventOverlap:function(e,t,n,r){var i=this.get(o),s=t===l,a,f,c,h,p,d;return i&&i.points&&v[t][i.points.join(u)]&&(f=this._getRegion(i.node),f&&(a=s?n.width:n.height,c=s?f.left:f.top,h=s?f.right:f.bottom,p=s?f.left-r.left:f.top-r.top,d=s?r.right-f.right:r.bottom-f.bottom),e>c?d<a&&p>a&&(e=c-a):p<a&&d>a&&(e=h)),e},_bindUIPosConstrained:function(){this.after(i,this._afterConstrainChange),this._enableConstraints(this.get(n))},_afterConstrainChange:function(e){this._enableConstraints(e.newVal)},_enableConstraints:function(e){e?(this.constrain(),this._cxyHandle=this._cxyHandle||this.on(r,this._constrainOnXYChange)):this._cxyHandle&&(this._cxyHandle.detach(),this._cxyHandle=null)},_constrainOnXYChange:function(e){e.constrained||(e.newVal=this.getConstrainedXY(e.newVal))},_getRegion:function(e){var t;return e?(e=h.one(e),e&&(t=e.get(d))):t=this._posNode.get(p),t}},e.WidgetPositionConstrain=m},"3.11.0",{requires:["widget-position"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("overlay",function(e,t){e.Overlay=e.Base.create("overlay",e.Widget,[e.WidgetStdMod,e.WidgetPosition,e.WidgetStack,e.WidgetPositionAlign,e.WidgetPositionConstrain])},"3.11.0",{requires:["widget","widget-stdmod","widget-position","widget-position-align","widget-stack","widget-position-constrain"],skinnable:!0});
YUI.add("gallery-popover",function(c){var v="boundingBox",l="contentBox",b="tl",p="t",a="tr",h="rt",k="r",t="rb",u="br",i="b",o="bl",d="lb",m="l",f="lt",w=27,e=50,q=28,s=18;var n={initializer:function(){},bindUI:function(){this.after("arrowPositionChange",function(y){this._arrow.removeClass(this.getClassName("arrow",y.prevVal));this._arrowMask.removeClass(this.getClassName("arrow","mask",y.prevVal));this._arrow.addClass(this.getClassName("arrow",y.newVal));this._arrowMask.addClass(this.getClassName("arrow","mask",y.newVal))})},renderUI:function(){this._arrow=c.Node.create('<span class="'+this.getClassName("arrow")+'">◣</span>');this._arrowMask=c.Node.create('<span class="'+this.getClassName("arrow","mask")+'"></span>');this.get(v).append(this._arrow).append(this._arrowMask);var y=this.get("arrowPosition");this._arrow.addClass(this.getClassName("arrow",y));this._arrowMask.addClass(this.getClassName("arrow","mask",y));if(c.UA.webkit&&c.UA.os==="windows"){this._arrow.addClass("win-webkit");this._arrow.addClass(c.UA.chrome?"win-chrome":"win-safari")}else{if(c.UA.gecko&&c.UA.os==="windows"){this._arrow.addClass("win-gecko");this._arrow.addClass("win-firefox");if(c.UA.gecko>=1.9&&c.UA.gecko<2){this._arrow.addClass("win-firefox-3")}}}},syncUI:function(){},alignToElement:function(A,N){var z,B,K,M,C,I,D=this.get("arrowPosition"),y,H,J,G,L;if(this.get("showSquare")){s=8}switch(D){case b:z=[c.WidgetPositionAlign.TL,c.WidgetPositionAlign.BC];B={x:-q,y:s};break;case p:z=[c.WidgetPositionAlign.TC,c.WidgetPositionAlign.BC];B={x:0,y:s};break;case a:z=[c.WidgetPositionAlign.TR,c.WidgetPositionAlign.BC];B={x:q,y:s};break;case h:z=[c.WidgetPositionAlign.TR,c.WidgetPositionAlign.LC];B={x:-s,y:-q};break;case k:z=[c.WidgetPositionAlign.RC,c.WidgetPositionAlign.LC];B={x:-s,y:0};break;case t:z=[c.WidgetPositionAlign.BR,c.WidgetPositionAlign.LC];B={x:-s,y:q};break;case u:z=[c.WidgetPositionAlign.BR,c.WidgetPositionAlign.TC];B={x:q,y:-s};break;case i:z=[c.WidgetPositionAlign.BC,c.WidgetPositionAlign.TC];B={x:0,y:-s};break;case o:z=[c.WidgetPositionAlign.BL,c.WidgetPositionAlign.TC];B={x:-q,y:-s};break;case d:z=[c.WidgetPositionAlign.BL,c.WidgetPositionAlign.RC];B={x:s,y:q};break;case m:z=[c.WidgetPositionAlign.LC,c.WidgetPositionAlign.RC];B={x:s,y:0};break;case f:z=[c.WidgetPositionAlign.TL,c.WidgetPositionAlign.RC];B={x:s,y:-q}}x(this._arrow);x(this._arrowMask);this.align(A,z);K=this._posNode.get("region");M=[K.left+B.x,K.top+B.y];this.move(M);if(N){this.constrain(null,N);K=this._posNode.get("region");C=[K.left,K.top];if(D===b||D===p||D===a||D===o||D===i||D===u){if(M[0]!==C[0]){I=M[0]-C[0];this._arrow.setX(this._arrow.getX());this._arrow.setStyle("right","auto");y=this._arrow.getX()+I;if(y+w>K.right){y=K.right-w}else{if(y<K.left){y=K.left}}this._arrow.setX(y);this._arrowMask.setX(this._arrowMask.getX());this._arrowMask.setStyle("right","auto");H=this._arrowMask.getX()+I;if(H+e>K.right){H=K.right-e}else{if(H<K.left){H=K.left}}this._arrowMask.setX(H)}if(M[1]!==C[1]){I=M[1]-C[1];K=this._posNode.get("region");M=[K.left,K.top+I];this.move(M)}}else{if(D===f||D===m||D===d||D===h||D===k||D===t){if(M[1]!==C[1]){I=M[1]-C[1];this._arrow.setY(this._arrow.getY());this._arrow.setStyle("bottom","auto");J=this._arrow.getY()+I;if(J+w>K.bottom){J=K.bottom-w}else{if(J<K.top){J=K.top}}this._arrow.setY(J);this._arrowMask.setY(this._arrowMask.getY());this._arrowMask.setStyle("bottom","auto");G=this._arrowMask.getY()+I;if(G+e>K.bottom){G=K.bottom-e}else{if(G<K.top){G=K.top}}this._arrowMask.setY(J)}if(M[0]!==C[0]){I=M[0]-C[0];K=this._posNode.get("region");M=[K.left+I,K.top];this.move(M)}}}}if(!this._positionMarkerNode){this._positionMarkerNode=c.DOM.create('<div class="popover-position-marker"></div>');c.one("body").append(this._positionMarkerNode)}if(this.get("arrowPosition")==="br"&&this.get("accordian")){this.get("srcNode").getDOMNode().parentNode.style.bottom=""}c.DOM.setXY(this._positionMarkerNode,this._posNode.get("region"));this.align(this._positionMarkerNode,[c.WidgetPositionAlign.TL,c.WidgetPositionAlign.BL]);if(this.get("arrowPosition")==="br"){var E=this;if(!this.get("isRefresh")||!this.get("refreshBottom")||!this.get("refreshRight")){j(E,A)}else{g(E,A)}}if(this.get("extraCSS")){this.get("srcNode").ancestor(".yui3-popover").addClass(this.get("extraCSS"))}}};var r={TOPLEFT:b,TOP:p,TOPRIGHT:a,RIGHTTOP:h,RIGHT:k,RIGHTBOTTOM:t,BOTTOMRIGHT:u,BOTTOM:i,BOTTOMLEFT:o,LEFTBOTTOM:d,LEFT:m,LEFTTOP:f,CSS_PREFIX:"yui3-popover",ATTRS:{arrowPosition:{value:a,validator:function(y){return(y===b||y===p||y===a||y===o||y===i||y===u||y===f||y===m||y===d||y===h||y===k||y===t)}},accordian:{value:false,validator:function(y){return(typeof y==="boolean")}},isRefresh:{value:false},refreshBottom:{value:null},refreshRight:{value:null},extraCSS:{value:""},showSquare:{value:false}}};function x(y){y.setStyle("top","").setStyle("right","").setStyle("bottom","").setStyle("left","")}function j(z,y){(function(){var C=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(E){window.setTimeout(E,1000/60)}})();var D=function(E){return parseInt(E.replace("px",""),10)};var A=z.get("srcNode").getDOMNode();var B=A.parentNode;C(function(){if(!B.style.bottom){var G=D(B.style.top),E;E=310;B.style.bottom=(-1*G)-E+"px"}C(function(){B.style.top=""})})})()}function g(z,y){(function(){var C=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(E){window.setTimeout(E,1000/60)}})();var D=function(E){return parseInt(E.replace("px",""),10)};var A=z.get("srcNode").getDOMNode();var B=A.parentNode;B.style.display="none";C(function(){B.style.top="";B.style.left="";B.style.bottom=z.get("refreshBottom");B.style.right=z.get("refreshRight");C(function(){B.style.display="block"})})})()}c.Popover=c.Base.create("popover",c.Widget,[c.WidgetStdMod,c.WidgetPosition,c.WidgetStack,c.WidgetPositionAlign,c.WidgetPositionConstrain],n,r)},"0.0.1",{requires:F.config.modules["gallery-popover"].requires||[],optional:F.config.modules["gallery-popover"].optional||[]});YUI.add("focus-tracker",function(e){var a=/^text|search|tel|url|email|password|datetime|date|month|week|time|datetime-local|number|range|color$/i;function b(){var g;try{g=e.one(document.activeElement)}catch(f){console.warn("Caught error from document.activeElement",f);return false}return g}function c(){var f=b(),g;if(!f){return false}g=f.get("tagName").toUpperCase();if(g==="INPUT"){return a.test(f.get("type"))}else{if(g==="TEXTAREA"||g==="SELECT"){return true}}}function d(){var f=b();if(f&&e.Lang.isFunction(f.blur)){try{f.blur()}catch(g){}}}e.focusTracker={get:b,isInput:c,blur:d}},"0.0.1",{requires:F.config.modules["focus-tracker"].requires||[],optional:F.config.modules["focus-tracker"].optional||[]});YUI.add("better-throttle",function(b){function a(h,f,i,e){var j,c;j=0;i=i||null;function k(){if(c){c.cancel();c=undefined}}function d(){k();h.apply(i,arguments)}function g(){var l=(new Date()).getTime();if(e){k()}else{if(l-j>f){j=l;d.apply(i,arguments);return}}if(!c){c=b.later(f,i,d,arguments)}}return g}b.betterThrottle=a},"0.0.1",{requires:[]});/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("dump",function(e,t){var n=e.Lang,r="{...}",i="f(){...}",s=", ",o=" => ",u=function(e,t){var u,a,f=[],l=n.type(e);if(!n.isObject(e))return e+"";if(l=="date")return e;if(e.nodeType&&e.tagName)return e.tagName+"#"+e.id;if(e.document&&e.navigator)return"window";if(e.location&&e.body)return"document";if(l=="function")return i;t=n.isNumber(t)?t:3;if(l=="array"){f.push("[");for(u=0,a=e.length;u<a;u+=1)n.isObject(e[u])?f.push(t>0?n.dump(e[u],t-1):r):f.push(e[u]),f.push(s);f.length>1&&f.pop(),f.push("]")}else if(l=="regexp")f.push(e.toString());else{f.push("{");for(u in e)if(e.hasOwnProperty(u))try{f.push(u+o),n.isObject(e[u])?f.push(t>0?n.dump(e[u],t-1):r):f.push(e[u]),f.push(s)}catch(c){f.push("Error: "+c.message)}f.length>1&&f.pop(),f.push("}")}return f.join("")};e.dump=u,n.dump=u},"3.11.0",{requires:["yui-base"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("querystring-stringify-simple",function(e,t){var n=e.namespace("QueryString"),r=encodeURIComponent;n.stringify=function(t,n){var i=[],s=n&&n.arrayKey?!0:!1,o,u,a;for(o in t)if(t.hasOwnProperty(o))if(e.Lang.isArray(t[o]))for(u=0,a=t[o].length;u<a;u++)i.push(r(s?o+"[]":o)+"="+r(t[o][u]));else i.push(r(o)+"="+r(t[o]));return i.join("&")}},"3.11.0",{requires:["yui-base"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("io-base",function(e,t){function o(t){var n=this;n._uid="io:"+s++,n._init(t),e.io._map[n._uid]=n}var n=["start","complete","end","success","failure","progress"],r=["status","statusText","responseText","responseXML"],i=e.config.win,s=0;o.prototype={_id:0,_headers:{"X-Requested-With":"XMLHttpRequest"},_timeout:{},_init:function(t){var r=this,i,s;r.cfg=t||{},e.augment(r,e.EventTarget);for(i=0,s=n.length;i<s;++i)r.publish("io:"+n[i],e.merge({broadcast:1},t)),r.publish("io-trn:"+n[i],t)},_create:function(t,n){var r=this,s={id:e.Lang.isNumber(n)?n:r._id++,uid:r._uid},o=t.xdr?t.xdr.use:null,u=t.form&&t.form.upload?"iframe":null,a;return o==="native"&&(o=e.UA.ie&&!l?"xdr":null,r.setHeader("X-Requested-With")),a=o||u,s=a?e.merge(e.IO.customTransport(a),s):e.merge(e.IO.defaultTransport(),s),s.notify&&(t.notify=function(e,t,n){r.notify(e,t,n)}),a||i&&i.FormData&&t.data instanceof i.FormData&&(s.c.upload.onprogress=function(e){r.progress(s,e,t)},s.c.onload=function(e){r.load(s,e,t)},s.c.onerror=function(e){r.error(s,e,t)},s.upload=!0),s},_destroy:function(t){i&&!t.notify&&!t.xdr&&(u&&!t.upload?t.c.onreadystatechange=null:t.upload?(t.c.upload.onprogress=null,t.c.onload=null,t.c.onerror=null):e.UA.ie&&!t.e&&t.c.abort()),t=t.c=null},_evt:function(t,r,i){var s=this,o,u=i.arguments,a=s.cfg.emitFacade,f="io:"+t,l="io-trn:"+t;this.detach(l),r.e&&(r.c={status:0,statusText:r.e}),o=[a?{id:r.id,data:r.c,cfg:i,arguments:u}:r.id],a||(t===n[0]||t===n[2]?u&&o.push(u):(r.evt?o.push(r.evt):o.push(r.c),u&&o.push(u))),o.unshift(f),s.fire.apply(s,o),i.on&&(o[0]=l,s.once(l,i.on[t],i.context||e),s.fire.apply(s,o))},start:function(e,t){this._evt(n[0],e,t)},complete:function(e,t){this._evt(n[1],e,t)},end:function(e,t){this._evt(n[2],e,t),this._destroy(e)},success:function(e,t){this._evt(n[3],e,t),this.end(e,t)},failure:function(e,t){this._evt(n[4],e,t),this.end(e,t)},progress:function(e,t,r){e.evt=t,this._evt(n[5],e,r)},load:function(e,t,r){e.evt=t.target,this._evt(n[1],e,r)},error:function(e,t,r){e.evt=t,this._evt(n[4],e,r)},_retry:function(e,t,n){return this._destroy(e),n.xdr.use="flash",this.send(t,n,e.id)},_concat:function(e,t){return e+=(e.indexOf("?")===-1?"?":"&")+t,e},setHeader:function(e,t){t?this._headers[e]=t:delete this._headers[e]},_setHeaders:function(t,n){n=e.merge(this._headers,n),e.Object.each(n,function(e,r){e!=="disable"&&t.setRequestHeader(r,n[r])})},_startTimeout:function(e,t){var n=this;n._timeout[e.id]=setTimeout(function(){n._abort(e,"timeout")},t)},_clearTimeout:function(e){clearTimeout(this._timeout[e]),delete this._timeout[e]},_result:function(e,t){var n;try{n=e.c.status}catch(r){n=0}n>=200&&n<300||n===304||n===1223?this.success(e,t):this.failure(e,t)},_rS:function(e,t){var n=this;e.c.readyState===4&&(t.timeout&&n._clearTimeout(e.id),setTimeout(function(){n.complete(e,t),n._result(e,t)},0))},_abort:function(e,t){e&&e.c&&(e.e=t,e.c.abort())},send:function(t,n,i){var s,o,u,a,f,c,h=this,p=t,d={};n=n?e.Object(n):{},s=h._create(n,i),o=n.method?n.method.toUpperCase():"GET",f=n.sync,c=n.data,e.Lang.isObject(c)&&!c.nodeType&&!s.upload&&e.QueryString&&e.QueryString.stringify&&(n.data=c=e.QueryString.stringify(c));if(n.form){if(n.form.upload)return h.upload(s,t,n);c=h._serialize(n.form,c)}c||(c="");if(c)switch(o){case"GET":case"HEAD":case"DELETE":p=h._concat(p,c),c="";break;case"POST":case"PUT":n.headers=e.merge({"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},n.headers)}if(s.xdr)return h.xdr(p,s,n);if(s.notify)return s.c.send(s,t,n);!f&&!s.upload&&(s.c.onreadystatechange=function(){h._rS(s,n)});try{s.c.open(o,p,!f,n.username||null,n.password||null),h._setHeaders(s.c,n.headers||{}),h.start(s,n),n.xdr&&n.xdr.credentials&&l&&(s.c.withCredentials=!0),s.c.send(c);if(f){for(u=0,a=r.length;u<a;++u)d[r[u]]=s.c[r[u]];return d.getAllResponseHeaders=function(){return s.c.getAllResponseHeaders()},d.getResponseHeader=function(e){return s.c.getResponseHeader(e)},h.complete(s,n),h._result(s,n),d}}catch(v){if(s.xdr)return h._retry(s,t,n);h.complete(s,n),h._result(s,n)}return n.timeout&&h._startTimeout(s,n.timeout),{id:s.id,abort:function(){return s.c?h._abort(s,"abort"):!1},isInProgress:function(){return s.c?s.c.readyState%4:!1},io:h}}},e.io=function(t,n){var r=e.io._map["io:0"]||new o;return r.send.apply(r,[t,n])},e.io.header=function(t,n){var r=e.io._map["io:0"]||new o;r.setHeader(t,n)},e.IO=o,e.io._map={};var u=i&&i.XMLHttpRequest,a=i&&i.XDomainRequest,f=i&&i.ActiveXObject,l=u&&"withCredentials"in new XMLHttpRequest;e.mix(e.IO,{_default:"xhr",defaultTransport:function(t){if(!t){var n={c:e.IO.transports[e.IO._default](),notify:e.IO._default==="xhr"?!1:!0};return n}e.IO._default=t},transports:{xhr:function(){return u?new XMLHttpRequest:f?new ActiveXObject("Microsoft.XMLHTTP"):null},xdr:function(){return a?new XDomainRequest:null},iframe:function(){return{}},flash:null,nodejs:null},customTransport:function(t){var n={c:e.IO.transports[t]()};return n[t==="xdr"||t==="flash"?"xdr":"notify"]=!0,n}}),e.mix(e.IO.prototype,{notify:function(e,t,n){var r=this;switch(e){case"timeout":case"abort":case"transport error":t.c={status:0,statusText:e},e="failure";default:r[e].apply(r,[t,n])}}})},"3.11.0",{requires:["event-custom-base","querystring-stringify-simple"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("datatype-xml-parse",function(e,t){var n=e.Lang;e.mix(e.namespace("XML"),{parse:function(e){var t=null;if(n.isString(e))try{n.isUndefined(ActiveXObject)||(t=new ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.loadXML(e))}catch(r){try{n.isUndefined(DOMParser)||(t=(new DOMParser).parseFromString(e,"text/xml")),n.isUndefined(Windows.Data.Xml.Dom)||(t=new Windows.Data.Xml.Dom.XmlDocument,t.loadXml(e))}catch(i){}}return n.isNull(t)||n.isNull(t.documentElement)||t.documentElement.nodeName==="parsererror",t}}),e.namespace("Parsers").xml=e.XML.parse,e.namespace("DataType"),e.DataType.XML=e.XML},"3.11.0");
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("io-xdr",function(e,t){function a(e,t,n){var r='<object id="io_swf" type="application/x-shockwave-flash" data="'+e+'" width="0" height="0">'+'<param name="movie" value="'+e+'">'+'<param name="FlashVars" value="yid='+t+"&uid="+n+'">'+'<param name="allowScriptAccess" value="always">'+"</object>",i=s.createElement("div");s.body.appendChild(i),i.innerHTML=r}function f(t,n,r){return n==="flash"&&(t.c.responseText=decodeURI(t.c.responseText)),r==="xml"&&(t.c.responseXML=e.DataType.XML.parse(t.c.responseText)),t}function l(e,t){return e.c.abort(e.id,t)}function c(e){return u?i[e.id]!==4:e.c.isInProgress(e.id)}var n=e.publish("io:xdrReady",{fireOnce:!0}),r={},i={},s=e.config.doc,o=e.config.win,u=o&&o.XDomainRequest;e.mix(e.IO.prototype,{_transport:{},_ieEvt:function(e,t){var n=this,r=e.id,s="timeout";e.c.onprogress=function(){i[r]=3},e.c.onload=function(){i[r]=4,n.xdrResponse("success",e,t)},e.c.onerror=function(){i[r]=4,n.xdrResponse("failure",e,t)},e.c.ontimeout=function(){i[r]=4,n.xdrResponse(s,e,t)},e.c[s]=t[s]||0},xdr:function(t,n,i){var s=this;return i.xdr.use==="flash"?(r[n.id]=i,o.setTimeout(function(){try{n.c.send(t,{id:n.id,uid:n.uid,method:i.method,data:i.data,headers:i.headers})}catch(e){s.xdrResponse("transport error",n,i),delete r[n.id]}},e.io.xdr.delay)):u?(s._ieEvt(n,i),n.c.open(i.method||"GET",t),setTimeout(function(){n.c.send(i.data)},0)):n.c.send(t,n,i),{id:n.id,abort:function(){return n.c?l(n,i):!1},isInProgress:function(){return n.c?c(n.id):!1},io:s}},xdrResponse:function(e,t,n){n=r[t.id]?r[t.id]:n;var s=this,o=u?i:r,a=n.xdr.use,l=n.xdr.dataType;switch(e){case"start":s.start(t,n);break;case"success":s.success(f(t,a,l),n),delete o[t.id];break;case"timeout":case"abort":case"transport error":t.c={status:0,statusText:e};case"failure":s.failure(f(t,a,l),n),delete o[t.id]}},_xdrReady:function(t,r){e.fire(n,t,r)},transport:function(t){t.id==="flash"&&(a(e.UA.ie?t.src+"?d="+(new Date).valueOf().toString():t.src,e.id,t.uid),e.IO.transports.flash=function(){return s.getElementById("io_swf")})}}),e.io.xdrReady=function(t,n){var r=e.io._map[n];e.io.xdr.delay=0,r._xdrReady.apply(r,[t,n])},e.io.xdrResponse=function(t,n,r){var i=e.io._map[n.uid];i.xdrResponse.apply(i,[t,n,r])},e.io.transport=function(t){var n=e.io._map["io:0"]||new e.IO;t.uid=n._uid,n.transport.apply(n,[t])},e.io.xdr={delay:100}},"3.11.0",{requires:["io-base","datatype-xml-parse"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("json-parse",function(e,t){var n=e.config.global.JSON;e.namespace("JSON").parse=function(e,t,r){return n.parse(typeof e=="string"?e:e+"",t,r)}},"3.11.0",{requires:["yui-base"]});
YUI.add("gallery-flickr-api",function(a){YUI.namespace("flickrAPITransactions");var l=a.config.flickr.flags.enable_client_fullpath_api?a.config.flickrAPI.flickr_api_uri:"/services/rest/",n={format:"json",clientType:"yui-3-flickrapi-module"},g="flapicb",d=60000,h=YUI.flickrAPITransactions,c=function(){return true},k=function(){return true},i=function(){return true},b={last_response_id:0,id_map:{},response_map:{},setResponse:function(q,p){var o=b;o.response_map[q]=p;return o.response_map[q]},setId:function(r,q){var p=b,o=q;p.id_map[r]=o;p.last_response_id=o;return o}},f=function(r){var p="";for(var q in r){if(r.hasOwnProperty(q)){p+=q+"="+r[q]+"&"}}return p.substr(0,p.length-1)},j=function(v,s,o,q){var u=b,t,p;if(q){try{t=a.JSON.parse(s[1].responseText)}catch(r){a.log("invalid JSON","error","flickrAPI")}p=[{params:s[2].params,data:t}].concat(s)}else{t=(u.response_map[u.id_map[s[0].tId]])?u.response_map[u.id_map[s[0].tId]][0]:null;p=[{params:s[0].data,data:t}].concat(s)}if(t&&o){if(t.stat==="ok"){return v.apply(a,p)}else{if("fail"){a.log(t.message,"error","flickrAPI");return this.failure.apply(a,p)}}}else{if(o===0){this.failure.apply(a,p)}else{if(v){return v.apply(a,p)}}}},e=function(q,s,r){var p=b.last_response_id+1,o=a.Get.script(q+"?"+f(s)+"&jsoncallback=YUI.flickrAPITransactions."+g+p+"&cachebust="+(new Date()).getTime(),r);b.setId(o.tId,p);h[g+p]=function(t){var u=b.setResponse(p,arguments);if(u){a.later(1000,a,function(){delete h[g+p]})}};return o},m=function(o,q,p){a.use("io",function(r){r.io(o,{method:"POST",data:f(q),timeout:d,on:p,xdr:{credentials:true},"arguments":{params:q}})})};a.flickrAPI={callMethod:function(q,t,p,v,r){v=v||{};if(typeof v.timeout!=="number"){v.timeout=d}oYUIPOSTConf=v;t=t||{};var s=l,o;t=a.merge(a.config.flickrAPI,t);if(t.flickr_api_uri){s=t.flickr_api_uri;delete t.flickr_api_uri}a.Object.each(t,function(y,w,x){x[w]=encodeURIComponent(y)});t.method=q;if(a.Lang.isFunction(p)){p={success:p,failure:c,progress:k,timeout:i}}if(a.Lang.isObject(p)){v=a.merge(v,{onSuccess:function(){a.fire("flickrAPI:success");return j.apply(p,[p.success,arguments,1])},onFailure:function(){if(b.response_map[b.id_map[arguments[0].tId]]!==null){a.log("Your request (ID:"+arguments[0].tId+") has failed.","error","flickrAPI");a.fire("flickrAPI:failure");return j.apply(p,[p.failure,arguments,0])}},onProgress:function(){a.fire("flickrAPI:progress");return j.apply(p,[a.Lang.isFunction(p.progress)?p.progress:function(){},arguments,null])},onTimeout:function(){a.log("Your request (ID:"+arguments[0].tId+") has timed out","error","flickrAPI");h[g+b.id_map[arguments[0].tId]]=function(){a.log("A response callback was fired but suppressed because of a timeout enforced by configuration.","warn","flickrAPI")};b.response_map[b.id_map[arguments[0].tId]]=null;a.Get.abort(arguments[0].tId);a.fire("flickrAPI:timeout");return j.apply(p,[p.timeout,arguments,0])}});oYUIPOSTConf=a.merge(oYUIPOSTConf,{success:function(){a.fire("flickrAPI:success");return j.apply(p,[p.success,arguments,1,1])},failure:function(){a.log("Your request (ID:"+arguments[0].tId+") has failed.","error","flickrAPI");a.fire("flickrAPI:failure");return j.apply(p,[p.failure,arguments,0,1])},timeout:function(){a.log("Your request (ID:"+arguments[0].tId+") has timed out","error","flickrAPI");a.fire("flickrAPI:timeout");return j.apply(p,[p.timeout,arguments,0,1])}})}v.scope=a;var u=a.merge(v.data,n,t);v.data=u;o=s+"?"+f(u);if(r){return{uri:s,params:u,full_url:o}}else{if(/(?:add|create|delete|edit|mute|post|record|remove|set|submit|unmute|move|sort|hide|block|unblock|insert|promote|login|cancel)[a-zA-Z]*$/.test(u.method)||o.length>a.config.maxURLLength){u.nojsoncallback=1;return m(s,u,oYUIPOSTConf)}else{return e(s,u,v)}}}}},"gallery-a-002",{requires:["event"]});YUI.add("sprintf",function(b){function a(e,d){for(var f=[];d>0;f[--d]=e){}return f.join("")}function c(){var h=0,l,j=arguments[h++],e=[],g,d,k,n,q="";while(j){if(g=/^[^\x25]+/.exec(j)){e.push(g[0])}else{if(g=/^\x25{2}/.exec(j)){e.push("%")}else{if(g=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(j)){if(((l=arguments[g[1]||h++])==null)||(l==undefined)){throw ("Too few arguments.")}if(/[^s]/.test(g[7])&&(typeof(l)!="number")){throw ("Expecting number but found "+typeof(l))}switch(g[7]){case"b":l=l.toString(2);break;case"c":l=String.fromCharCode(l);break;case"d":l=parseInt(l);break;case"e":l=g[6]?l.toExponential(g[6]):l.toExponential();break;case"f":l=g[6]?parseFloat(l).toFixed(g[6]):parseFloat(l);break;case"o":l=l.toString(8);break;case"s":l=((l=String(l))&&g[6]?l.substring(0,g[6]):l);break;case"u":l=Math.abs(l);break;case"x":l=l.toString(16);break;case"X":l=l.toString(16).toUpperCase();break}l=(/[def]/.test(g[7])&&g[2]&&l>=0?"+"+l:l);k=g[3]?g[3]=="0"?"0":g[3].charAt(1):" ";n=g[5]-String(l).length-q.length;d=g[5]?a(k,n):"";e.push(q+(g[4]?l+d:d+l))}else{throw ("sprintf failure")}}}j=j.substring(g[0].length)}return e.join("")}b.sprintf=c},"0.0.1");YUI.add("transjax-base",function(d){var a={};function c(f,e){if(!d.Lang.isObject(a[f])){a[f]={}}if(d.Lang.isObject(e)){d.mix(a[f],e)}}function b(){var g,l,k,f,e,j;g=Array.prototype.slice.call(arguments);l=g.shift();k=g.shift();e=a[l];if(arguments.length>1){if(d.Lang.isObject(e)){f=e[k]}if(d.Lang.isUndefined(f)){return k}g.unshift(f);return d.sprintf.apply(window,g)}else{j={};for(var h in e){if(e.hasOwnProperty(h)){j[h]=e[h]}}return j}}d.transjax={add:c,get:b}},"0.0.1",{requires:["sprintf"]});YUI.add("global-dialog-transjax",function(a){a.transjax.add("global-dialog",{button_confirm:'OKAY',button_cancel:'CANCEL'})},"0.0.1",{requires:["transjax-base"]});(function(){var a="page-context";YUI.add(a,function(d){var f=[""];function e(g){if(f[f.length-1]!==g){f.push(g);d.fire("PageContext:set",{newVal:g,oldVal:f[f.length-2]||""});return true}return false}function c(h){var j,g=f.length;for(j=g-1;j>0;j-=1){if(f[j]===h){f.splice(j,1);d.fire("PageContext:unset",{newVal:f[f.length-1]||"",oldVal:h});return true}}return false}function b(){return f[f.length-1]}d.PageContext={set:e,unset:c,get:b}},"0.0.1",{requires:F.config.modules[a].requires||[],optional:F.config.modules[a].optional||[]})}());YUI.add("keyboard-shortcut-legend-transjax",function(a){a.transjax.add("keyboard-shortcut-legend",{header_no_context:'Keyboard shortcuts for this page',header_context:'Keyboard shortcuts for this view',instructions:'This dialog lists all of the keyboard shortcuts available on this particular page. Press any key on your keyboard to hear what it does.',enable_shortcuts:'Enable keyboard shortcuts',saving:'Saving...',saved:'Saved!',unable_to_save:'Unable to save',button_close:'CLOSE',shortcut_description:'Show all keyboard shortcuts',esc_description:'Close a dialog, like this one',esc_description_screenreader:'(press escape again to close this dialog)',general:'General',navigation:'Navigation',lightbox:'Light Box',map:'Map',actions:'Actions',you_can_reenable_shortcuts_in_prefs:'You can always <a href="/account/prefs/shortcuts/?from=extend">re-enable keyboard shortcuts</a> later in your account settings, under Sharing &amp; Extending.',change_layout:'change',qwerty_layout:'QWERTY layout',spanish_layout:'Spanish layout',qwertz_layout:'QWERTZ layout',azerty_layout:'AZERTY layout',dvorak_layout:'Dvorak layout',spanish:'Spanish',layout_selector_description:'Select a keyboard layout',up_arrow:'Up arrow',down_arrow:'Down arrow',left_arrow:'Left arrow',right_arrow:'Right arrow'})},"0.0.1",{requires:F.config.modules["keyboard-shortcut-legend-transjax"].requires||[]});YUI.add("keyboard-shortcut-legend-layouts",function(e){var d,c,f,b,a;d=[[{keyCode:27,sub:"esc",sup:"",className:"esc"},{sub:"F1",sup:"",className:"func"},{sub:"F2",sup:"",className:"func"},{sub:"F3",sup:"",className:"func"},{sub:"F4",sup:"",className:"func"},{sub:"F5",sup:"",className:"func"},{sub:"F6",sup:"",className:"func"},{sub:"F7",sup:"",className:"func"},{sub:"F8",sup:"",className:"func"},{sub:"F9",sup:"",className:"func"},{sub:"F10",sup:"",className:"func"},{sub:"F11",sup:"",className:"func"},{sub:"F12",sup:"",className:"func"},{sub:"F13",sup:"",className:"func"}],[{keyCode:192,sub:"`",sup:"~"},{keyCode:49,sub:"1",sup:"!"},{keyCode:50,sub:"2",sup:"@"},{keyCode:51,sub:"3",sup:"#"},{keyCode:52,sub:"4",sup:"$"},{keyCode:53,sub:"5",sup:"%"},{keyCode:54,sub:"6",sup:"^"},{keyCode:55,sub:"7",sup:"&"},{keyCode:56,sub:"8",sup:"*"},{keyCode:57,sub:"9",sup:"("},{keyCode:48,sub:"0",sup:")"},{keyCode:189,sub:"-",sup:"_"},{keyCode:187,sub:"=",sup:"+"},{keyCode:8,sub:"delete",sup:"",className:"delete"}],[{keyCode:81,sub:"Q",sup:""},{keyCode:87,sub:"W",sup:""},{keyCode:69,sub:"E",sup:""},{keyCode:82,sub:"R",sup:""},{keyCode:84,sub:"T",sup:""},{keyCode:89,sub:"Y",sup:""},{keyCode:85,sub:"U",sup:""},{keyCode:73,sub:"I",sup:""},{keyCode:79,sub:"O",sup:""},{keyCode:80,sub:"P",sup:""},{keyCode:219,sub:"[",sup:"{"},{keyCode:221,sub:"]",sup:"}"},{keyCode:220,sub:"\\",sup:"|"}],[{keyCode:65,sub:"A",sup:""},{keyCode:83,sub:"S",sup:""},{keyCode:68,sub:"D",sup:""},{keyCode:70,sub:"F",sup:""},{keyCode:71,sub:"G",sup:""},{keyCode:72,sub:"H",sup:""},{keyCode:74,sub:"J",sup:""},{keyCode:75,sub:"K",sup:""},{keyCode:76,sub:"L",sup:""},{keyCode:186,sub:";",sup:":"},{keyCode:222,sub:"'",sup:'"'},{keyCode:13,sub:"return",sup:"",className:"return"}],[{keyCode:90,sub:"Z",sup:""},{keyCode:88,sub:"X",sup:""},{keyCode:67,sub:"C",sup:""},{keyCode:86,sub:"V",sup:""},{keyCode:66,sub:"B",sup:""},{keyCode:78,sub:"N",sup:""},{keyCode:77,sub:"M",sup:""},{keyCode:188,sub:",",sup:"<"},{keyCode:190,sub:".",sup:">"},{keyCode:191,sub:"/",sup:"?"},{keyCode:16,sub:"shift",sup:"",className:"shift"},{keyCode:38,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","up_arrow")+"</span>&uarr;",sup:""}],[{keyCode:32,sub:"",sup:"",className:"space"},{keyCode:37,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","left_arrow")+"</span>&larr;",sup:""},{keyCode:40,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","down_arrow")+"</span>&darr;",sup:""},{keyCode:39,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","right_arrow")+"</span>&rarr;",sup:"",className:"right-arrow"}]];b=[[{keyCode:27,sub:"esc",sup:"",className:"esc"},{sub:"F1",sup:"",className:"func"},{sub:"F2",sup:"",className:"func"},{sub:"F3",sup:"",className:"func"},{sub:"F4",sup:"",className:"func"},{sub:"F5",sup:"",className:"func"},{sub:"F6",sup:"",className:"func"},{sub:"F7",sup:"",className:"func"},{sub:"F8",sup:"",className:"func"},{sub:"F9",sup:"",className:"func"},{sub:"F10",sup:"",className:"func"},{sub:"F11",sup:"",className:"func"},{sub:"F12",sup:"",className:"func"},{sub:"F13",sup:"",className:"func"}],[{sub:"<",sup:">"},{keyCode:49,sub:"1",sup:"!"},{keyCode:50,sub:"2",sup:'"'},{keyCode:51,sub:"3",sup:"#"},{keyCode:52,sub:"4",sup:"$"},{keyCode:53,sub:"5",sup:"%"},{keyCode:54,sub:"6",sup:"&"},{keyCode:55,sub:"7",sup:"/"},{keyCode:56,sub:"8",sup:"("},{keyCode:57,sub:"9",sup:")"},{keyCode:48,sub:"0",sup:"="},{keyCode:222,sub:"'",sup:"?"},{sub:"¡",sup:"¿"},{keyCode:8,sub:"delete",sup:"",className:"delete"}],[{keyCode:81,sub:"Q",sup:""},{keyCode:87,sub:"W",sup:""},{keyCode:69,sub:"E",sup:""},{keyCode:82,sub:"R",sup:""},{keyCode:84,sub:"T",sup:""},{keyCode:89,sub:"Y",sup:""},{keyCode:85,sub:"U",sup:""},{keyCode:73,sub:"I",sup:""},{keyCode:79,sub:"O",sup:""},{keyCode:80,sub:"P",sup:""},{sub:"`",sup:"^"},{keyCode:107,sub:"+",sup:"*"},{sub:"Ç",sup:""}],[{keyCode:65,sub:"A",sup:""},{keyCode:83,sub:"S",sup:""},{keyCode:68,sub:"D",sup:""},{keyCode:70,sub:"F",sup:""},{keyCode:71,sub:"G",sup:""},{keyCode:72,sub:"H",sup:""},{keyCode:74,sub:"J",sup:""},{keyCode:75,sub:"K",sup:""},{keyCode:76,sub:"L",sup:""},{sub:"Ñ",sup:""},{sub:"´",sup:"¨"},{keyCode:13,sub:"return",sup:"",className:"return"}],[{keyCode:90,sub:"Z",sup:""},{keyCode:88,sub:"X",sup:""},{keyCode:67,sub:"C",sup:""},{keyCode:86,sub:"V",sup:""},{keyCode:66,sub:"B",sup:""},{keyCode:78,sub:"N",sup:""},{keyCode:77,sub:"M",sup:""},{keyCode:188,sub:",",sup:";"},{keyCode:190,sub:".",sup:":"},{keyCode:109,sub:"-",sup:"_"},{keyCode:16,sub:"shift",sup:"",className:"shift"},{keyCode:38,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","up_arrow")+"</span>&uarr;",sup:""}],[{keyCode:32,sub:"",sup:"",className:"space"},{keyCode:37,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","left_arrow")+"</span>&larr;",sup:""},{keyCode:40,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","down_arrow")+"</span>&darr;",sup:""},{keyCode:39,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","right_arrow")+"</span>&rarr;",sup:"",className:"right-arrow"}]];c=[[{keyCode:27,sub:"esc",sup:"",className:"esc"},{sub:"F1",sup:"",className:"func"},{sub:"F2",sup:"",className:"func"},{sub:"F3",sup:"",className:"func"},{sub:"F4",sup:"",className:"func"},{sub:"F5",sup:"",className:"func"},{sub:"F6",sup:"",className:"func"},{sub:"F7",sup:"",className:"func"},{sub:"F8",sup:"",className:"func"},{sub:"F9",sup:"",className:"func"},{sub:"F10",sup:"",className:"func"},{sub:"F11",sup:"",className:"func"},{sub:"F12",sup:"",className:"func"},{sub:"F13",sup:"",className:"func"}],[{sub:"^",sup:"˚"},{keyCode:49,sub:"1",sup:"!"},{keyCode:50,sub:"2",sup:'"'},{keyCode:51,sub:"3",sup:"§"},{keyCode:52,sub:"4",sup:"$"},{keyCode:53,sub:"5",sup:"%"},{keyCode:54,sub:"6",sup:"&"},{keyCode:55,sub:"7",sup:"/"},{keyCode:56,sub:"8",sup:"("},{keyCode:57,sub:"9",sup:")"},{keyCode:48,sub:"0",sup:"="},{keyCode:191,sub:"ß",sup:"?"},{sub:"´",sup:"`"},{keyCode:8,sub:"delete",sup:"",className:"delete"}],[{keyCode:81,sub:"Q",sup:"@"},{keyCode:87,sub:"W",sup:""},{keyCode:69,sub:"E",sup:"€"},{keyCode:82,sub:"R",sup:""},{keyCode:84,sub:"T",sup:""},{keyCode:90,sub:"Z",sup:""},{keyCode:85,sub:"U",sup:""},{keyCode:73,sub:"I",sup:""},{keyCode:79,sub:"O",sup:""},{keyCode:80,sub:"P",sup:""},{sub:"Ü",sup:""},{keyCode:107,sub:"+",sup:"*"},{keyCode:13,sub:"return",sup:"",className:"return-top"},{keyCode:13,sub:"",sup:"",className:"return-middle"}],[{keyCode:65,sub:"A",sup:""},{keyCode:83,sub:"S",sup:""},{keyCode:68,sub:"D",sup:""},{keyCode:70,sub:"F",sup:""},{keyCode:71,sub:"G",sup:""},{keyCode:72,sub:"H",sup:""},{keyCode:74,sub:"J",sup:""},{keyCode:75,sub:"K",sup:""},{keyCode:76,sub:"L",sup:""},{sub:"Ö",sup:""},{sub:"Ä",sup:""},{sub:"#",sup:"'"},{keyCode:13,sub:"",sup:"",className:"return"}],[{sub:"<",sup:">"},{keyCode:89,sub:"Y",sup:""},{keyCode:88,sub:"X",sup:""},{keyCode:67,sub:"C",sup:""},{keyCode:86,sub:"V",sup:""},{keyCode:66,sub:"B",sup:""},{keyCode:78,sub:"N",sup:""},{keyCode:77,sub:"M",sup:""},{keyCode:188,sub:",",sup:";"},{keyCode:190,sub:".",sup:":"},{keyCode:109,sub:"_",sup:"-"},{keyCode:16,sub:"shift",sup:"",className:"shift"},{keyCode:38,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","up_arrow")+"</span>&uarr;",sup:""}],[{keyCode:32,sub:"",sup:"",className:"space"},{keyCode:37,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","left_arrow")+"</span>&larr;",sup:""},{keyCode:40,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","down_arrow")+"</span>&darr;",sup:""},{keyCode:39,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","right_arrow")+"</span>&rarr;",sup:"",className:"right-arrow"}]];f=[[{keyCode:27,sub:"esc",sup:"",className:"esc"},{sub:"F1",sup:"",className:"func"},{sub:"F2",sup:"",className:"func"},{sub:"F3",sup:"",className:"func"},{sub:"F4",sup:"",className:"func"},{sub:"F5",sup:"",className:"func"},{sub:"F6",sup:"",className:"func"},{sub:"F7",sup:"",className:"func"},{sub:"F8",sup:"",className:"func"},{sub:"F9",sup:"",className:"func"},{sub:"F10",sup:"",className:"func"},{sub:"F11",sup:"",className:"func"},{sub:"F12",sup:"",className:"func"},{sub:"F13",sup:"",className:"func"}],[{sub:"2",sup:"",className:"small-text"},{keyCode:49,sub:"1",sup:"&"},{keyCode:50,sub:"2",sup:"é"},{keyCode:51,sub:"3",sup:'"'},{keyCode:52,sub:"4",sup:"'"},{keyCode:53,sub:"5",sup:"("},{keyCode:54,sub:"6",sup:"-"},{keyCode:55,sub:"7",sup:"è"},{keyCode:56,sub:"8",sup:"_"},{keyCode:57,sub:"9",sup:"ç"},{keyCode:48,sub:"0",sup:"à"},{sub:"˚",sup:")"},{keyCode:109,sub:"+",sup:"="},{keyCode:8,sub:"delete",sup:"",className:"delete"}],[{keyCode:65,sub:"A",sup:""},{keyCode:90,sub:"Z",sup:""},{keyCode:69,sub:"E",sup:"€"},{keyCode:82,sub:"R",sup:""},{keyCode:84,sub:"T",sup:""},{keyCode:89,sub:"Y",sup:""},{keyCode:85,sub:"U",sup:""},{keyCode:73,sub:"I",sup:""},{keyCode:79,sub:"O",sup:""},{keyCode:80,sub:"P",sup:""},{sub:"¨",sup:"^"},{sub:"$",sup:"£"},{keyCode:13,sub:"return",sup:"",className:"return-top"},{keyCode:13,sub:"",sup:"",className:"return-middle"}],[{keyCode:81,sub:"Q",sup:""},{keyCode:83,sub:"S",sup:""},{keyCode:68,sub:"D",sup:""},{keyCode:70,sub:"F",sup:""},{keyCode:71,sub:"G",sup:""},{keyCode:72,sub:"H",sup:""},{keyCode:74,sub:"J",sup:""},{keyCode:75,sub:"K",sup:""},{keyCode:76,sub:"L",sup:""},{keyCode:77,sub:"M",sup:""},{sub:"ù",sup:"%"},{sub:"*",sup:"µ"},{keyCode:13,sub:"",sup:"",className:"return"}],[{sub:"<",sup:">"},{keyCode:87,sub:"W",sup:""},{keyCode:88,sub:"X",sup:""},{keyCode:67,sub:"C",sup:""},{keyCode:86,sub:"V",sup:""},{keyCode:66,sub:"B",sup:""},{keyCode:78,sub:"N",sup:""},{keyCode:188,sub:",",sup:"?"},{keyCode:59,sub:";",sup:"."},{keyCode:191,sub:":",sup:"/"},{sub:"!",sup:"§"},{keyCode:16,sub:"shift",sup:"",className:"shift"},{keyCode:38,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","up_arrow")+"</span>&uarr;",sup:""}],[{keyCode:32,sub:"",sup:"",className:"space"},{keyCode:37,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","left_arrow")+"</span>&larr;",sup:""},{keyCode:40,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","down_arrow")+"</span>&darr;",sup:""},{keyCode:39,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","right_arrow")+"</span>&rarr;",sup:"",className:"right-arrow"}]];a=[[{keyCode:27,sub:"esc",sup:"",className:"esc"},{sub:"F1",sup:"",className:"func"},{sub:"F2",sup:"",className:"func"},{sub:"F3",sup:"",className:"func"},{sub:"F4",sup:"",className:"func"},{sub:"F5",sup:"",className:"func"},{sub:"F6",sup:"",className:"func"},{sub:"F7",sup:"",className:"func"},{sub:"F8",sup:"",className:"func"},{sub:"F9",sup:"",className:"func"},{sub:"F10",sup:"",className:"func"},{sub:"F11",sup:"",className:"func"},{sub:"F12",sup:"",className:"func"},{sub:"F13",sup:"",className:"func"}],[{keyCode:192,sub:"`",sup:"~"},{keyCode:49,sub:"1",sup:"!"},{keyCode:50,sub:"2",sup:"@"},{keyCode:51,sub:"3",sup:"#"},{keyCode:52,sub:"4",sup:"$"},{keyCode:53,sub:"5",sup:"%"},{keyCode:54,sub:"6",sup:"^"},{keyCode:55,sub:"7",sup:"&"},{keyCode:56,sub:"8",sup:"*"},{keyCode:57,sub:"9",sup:"("},{keyCode:48,sub:"0",sup:")"},{keyCode:219,sub:"[",sup:"{"},{keyCode:221,sub:"]",sup:"}"},{keyCode:8,sub:"delete",sup:"",className:"delete"}],[{keyCode:222,sub:"'",sup:'"'},{keyCode:188,sub:",",sup:"<"},{keyCode:190,sub:".",sup:">"},{keyCode:80,sub:"P",sup:""},{keyCode:89,sub:"Y",sup:""},{keyCode:70,sub:"F",sup:""},{keyCode:71,sub:"G",sup:""},{keyCode:67,sub:"C",sup:""},{keyCode:82,sub:"R",sup:""},{keyCode:76,sub:"L",sup:""},{keyCode:191,sub:"/",sup:"?"},{keyCode:187,sub:"=",sup:"+"},{keyCode:220,sub:"\\",sup:"|"}],[{keyCode:65,sub:"A",sup:""},{keyCode:79,sub:"O",sup:""},{keyCode:69,sub:"E",sup:""},{keyCode:85,sub:"U",sup:""},{keyCode:73,sub:"I",sup:""},{keyCode:68,sub:"D",sup:""},{keyCode:72,sub:"H",sup:""},{keyCode:84,sub:"T",sup:""},{keyCode:78,sub:"N",sup:""},{keyCode:83,sub:"S",sup:""},{keyCode:189,sub:"-",sup:"_"},{keyCode:13,sub:"return",sup:"",className:"return"}],[{keyCode:186,sub:";",sup:":"},{keyCode:81,sub:"Q",sup:""},{keyCode:74,sub:"J",sup:""},{keyCode:75,sub:"K",sup:""},{keyCode:88,sub:"X",sup:""},{keyCode:66,sub:"B",sup:""},{keyCode:77,sub:"M",sup:""},{keyCode:87,sub:"W",sup:""},{keyCode:86,sub:"V",sup:""},{keyCode:90,sub:"Z",sup:""},{keyCode:16,sub:"shift",sup:"",className:"shift"},{keyCode:38,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","up_arrow")+"</span>&uarr;",sup:""}],[{keyCode:32,sub:"",sup:"",className:"space"},{keyCode:37,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","left_arrow")+"</span>&larr;",sup:""},{keyCode:40,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","down_arrow")+"</span>&darr;",sup:""},{keyCode:39,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","right_arrow")+"</span>&rarr;",sup:"",className:"right-arrow"}]];e.keyboardShortcutLegendLayouts={qwerty:d,spanish:b,qwertz:c,azerty:f,dvorak:a}},"0.0.1",{requires:F.config.modules["keyboard-shortcut-legend-layouts"].requires||[],optional:F.config.modules["keyboard-shortcut-legend-layouts"].optional||[]});YUI.add("keyboard-shortcut-manager",function(c){var j=[],e,i=false,a=c.UA,g=false,h,d;d={altKey:false,ctrlKey:false,shiftKey:false,metaKey:false};function k(p){var o=c.merge(d,{}),n=true;if(!i){return}e=c.PageContext.get();if(c.focusTracker.isInput()){return}else{if(p.altKey){o.altKey=true}if(p.ctrlKey){o.ctrlKey=true}if(p.metaKey){o.metaKey=true}if(p.shiftKey){o.shiftKey=true}if(j[p.keyCode]){c.Object.each(j[p.keyCode],function(s,r,q){n=true;c.Object.each(s.modifiers,function(u,t,v){if(n&&u!==o[t]){n=false}});if(n&&(s.context[0]==="*"||c.Array.indexOf(s.context,e)>-1)){s.handler.call(s.scope,p)}},this)}}}function l(s,z,n,A,x){var r,w,q,u,p,v,t,y;if(typeof arguments[0]==="object"){r=arguments[0];w=r.legend;s=r.keystring;z=r.handler;n=r.context;A=r.scope;x=r.modifiers}x=c.merge(d,x);if(c.Lang.isString(n)){n=[n]}if(!g){m()}q=s.split(",");u=q.length;p=A||window;v=c.guid();if(F&&F.keyListener){F.keyListener.detach(q)}for(t=0;t<u;t++){y=parseInt(q[t],10);if(!j[y]){j[y]={}}j[y][v]={handler:z,context:n,modifiers:x,scope:p}}if(c.config.flickr.flags.enable_keyboard_shortcut_legend&&c.keyboardShortcutLegend&&c.keyboardShortcutLegend.register&&w){c.Array.each(n,function(o){var B=c.clone(w,true);B.keyCodes=q;B.context=o;c.keyboardShortcutLegend.register(B)})}return{detach:function(){for(t=0;t<u;t++){y=parseInt(q[t],10);if(j[y]&&j[y][v]){j[y][v]=undefined;delete j[y][v]}}}}}function b(){h=c.on("key",k,"html","down:")}function f(){if(c.keyboardShortcutLegend&&c.keyboardShortcutLegend.show){l({keystring:"191,109",handler:c.keyboardShortcutLegend.show,context:"*"});l({keystring:"191",handler:c.keyboardShortcutLegend.show,context:"*",modifiers:{shiftKey:true}})}}function m(){if(F&&F.keyListener){if(F.keyListener.enabled&&c.config.flickr.flags.enable_keyboard_shortcuts){i=true}else{i=false}}else{if((a.gecko||a.webkit>531||a.ie>7||a.opera>11)&&c.config.flickr.flags.enable_keyboard_shortcuts){i=true}}if(i){b()}g=true;if(i&&c.config.flickr.flags.enable_keyboard_shortcut_legend){f()}}c.keyboardShortcutManager={register:l,isEnabled:function(){return i},disable:function(){i=false;c.config.flickr.flags.enable_keyboard_shortcuts=false},enable:function(){i=true;c.config.flickr.flags.enable_keyboard_shortcuts=true},destroy:function(){i=false;g=false;if(h){h.detach()}}}},"0.0.1",{requires:F.config.modules["keyboard-shortcut-manager"].requires});YUI.add("global-dialog",function(b){var a=function(){var c=this,e=(b.UA.ie&&(b.UA.ie<7||(typeof document.documentMode!=="undefined"?document.documentMode===5:false)||!document.compatMode.match(/css1compat/i)))||(navigator.userAgent.match(/(ipod|ipad|iphone)/i&&navigator.userAgent.match(/Version\/[1234]\s/i))),d="global_dialog",f=(b.UA.ie&&b.UA.ie<7);this.spinner=null;this.is_modal=false;this.events_on=false;this.o_shadows=null;this.is_showing=false;this.style=(typeof b.config!=="undefined"&&typeof b.config.flickr!=="undefined"&&!b.config.flickr.is_zeus?"style_2009":"default");this.last_style=null;this.on_escape_handler=null;this.esc_to_close=true;this.o=null;this.o_container=null;this.o_cover=null;this.timestamp=null;this.get_elements=function(){if(!c.o_cover){c.o_cover=b.one("#global-dialog-background")}if(!c.o||!c.o_container){c.o=b.one("#"+d);if(!c.o){return false}else{c.o_container=c.o.one("div.global_dialog_container");if(c.o){c.o_shadows={left:b.one("div.shadow_l"),right:b.one("div.shadow_r")};return true}}}else{return true}};this.reposition=function(){var h,g,i;if(e){if(window.innerWidth){g=window.pageXOffset;i=window.pageYOffset}else{g=document.body.scrollLeft;i=document.body.scrollTop}}if(!c.get_elements()){if(e){if(c.spinner){c.spinner.style.top=(i+parseInt((document.documentElement.clientHeight||document.body.clientHeight)/2,10)+"px")}c.position_cover()}return false}h=parseInt(c.o_container.get("offsetHeight"),10);if(h&&c.o_shadows&&c.o_shadows.left&&c.o_shadows.right){c.o_shadows.left.setStyle("height",(h+"px"));c.o_shadows.right.setStyle("height",(h+"px"))}c.o.setStyle("marginLeft",-(c.o.get("offsetWidth")/2)+"px");c.o.setStyle("marginTop",-(c.o.get("offsetHeight")/2)+"px");c.o.setStyle("left","50%");c.o.setStyle("top","50%");if(e){c.o.setStyle("top",(i+parseInt((document.documentElement.clientHeight||document.body.clientHeight)/2,10)+"px"))}};this.show=function(g){if(typeof g!=="undefined"&&typeof g.loading!=="undefined"){c.set_loading(g.loading?true:false)}if(!c.get_elements()){return false}if(g&&g.esc_to_close===false){this.esc_to_close=false}else{this.esc_to_close=true}if(typeof g!=="undefined"){if((typeof g.modal==="undefined")||(typeof g.modal!=="undefined"&&g.modal!==false)){c.set_modal(true)}else{c.set_modal(false)}if(typeof g.style!=="undefined"){c.set_style(g.style)}else{c.set_style(c.style)}if(typeof g.width!=="undefined"){c.set_width(g.width)}c.set_short_message_style((typeof g.short_message!=="undefined"&&g.short_message))}else{c.set_modal(true)}if(!c.is_showing){if(g&&typeof g.left!=="undefined"){c.o.setStyle("left",g.left);c.o.setStyle("top",g.top);c.o.setStyle("display","block");c.is_showing=true}else{c.o.setStyle("left","-9999px");c.o.setStyle("top","-9999px");c.o.setStyle("display","block");c.reposition();c.is_showing=true}}};this.hide=function(g){if(b.focusTracker&&b.focusTracker.isInput()){b.focusTracker.blur()}c.set_modal();if(e){c.detach_events()}c.detach_key_events();if(g&&g.loading){c.set_loading(true)}else{c.set_loading(false)}if(!c.get_elements()){return false}if(c.is_showing){c.o.setStyle("display","none");c.is_showing=false}c.on_escape_handler=null;if(c.modal_remove_handler&&c.modal_remove_handler.detach){c.modal_remove_handler.detach()}if(c.modal_remove_key_handler&&c.modal_remove_key_handler.detach){c.modal_remove_key_handler.detach()}};this.set_width=function(g){if(!c.get_elements()){return false}if(g){c.o.setStyle("width","auto");c.o_container.setStyle("width",g+(g==="auto"?"":"px"))}else{c.o.setStyle("width","auto");c.o_container.setStyle("width",(b.UA.ie&&b.UA.ie<7?"334px":"320px"))}c.reposition()};this.set_style=function(g){if(!c.get_elements()){return false}if(c.last_style){c.o.removeClass(c.last_style)}if(g){c.o.addClass(g)}c.last_style=g;c.reposition()};this.set_short_message_style=function(g){c.use_short_message_style=g;if(!c.get_elements()){return false}c.o.removeClass("style_2009");if(g){c.o.removeClass("global_dialog");c.o.addClass("global-dialog-short-msg");if(c.is_modal){c.modal_remove_handler=c.o_cover.once("click",function(){c.hide()});c.modal_remove_key_handler=b.once("key",function(){if(!b.keyboardShortcutManager.isEnabled()){return}if(!this.esc_to_close){return}if(b.PageContext){b.PageContext.unset(b.PageContext.get())}c.hide()},window,"down:13,27")}}else{c.o.removeClass("global-dialog-short-msg");c.o.addClass("global_dialog")}c.reposition()};this.set_spinner=function(g){if(g){if(!c.spinner){c.spinner=document.createElement("div");c.spinner.className="global_dialog_spinner";document.body.appendChild(c.spinner);if(e){c.position_cover()}}c.spinner.style.display="block"}else{if(c.spinner){c.spinner.style.display="none"}}};this.set_modal=function(g){c.is_modal=g;if(!c.o_cover){return false}if(g){if(e){c.o_cover.setStyle("position","absolute");c.position_cover();c.attach_events()}else{c.o_cover.setStyle("position","fixed")}c.attach_key_events();var h=35;c.o_cover.setStyle("backgroundColor","#000");c.o_cover.setStyle("opacity",h/100);c.o_cover.setStyle("MozOpacity",h/100);c.o_cover.setStyle("filter","alpha(opacity="+h+")");c.o_cover.setStyle("display","block")}else{c.o_cover.setStyle("position","absolute");c.o_cover.setStyle("display","none");c.detach_events();c.detach_key_events()}};this.set_loading=function(g){if(!c.o_cover){return false}if(g){c.set_spinner(g);c.o_cover.removeClass("loaded");c.o_cover.addClass("loading");if(!c.is_modal){c.set_modal(true)}}else{c.set_spinner(g);c.o_cover.removeClass("loading");c.o_cover.addClass("loaded");if(c.is_modal){c.set_modal(false)}}};this.set_aria=function(g){if(!g||typeof g!=="object"){return}if(g["aria-labelledby"]){c.o.setAttribute("aria-labelledby",g["aria-labelledby"])}if(g["aria-describedby"]){c.o.setAttribute("aria-describedby",g["aria-describedby"])}};this.remove_existing_dialog=function(){if(c.o){try{c.o._node.parentNode.removeChild(c.o._node);c.o=null;return true}catch(g){return false}}};this.create_dialog=function(j,h){if(c.o){c.remove_existing_dialog();c.o=null}c.timestamp=(new Date()).getTime();c.last_style=null;c.is_showing=false;var i=document.createElement("div");document.body.appendChild(i);c.o=b.one(i);c.o.set("id","global_dialog");c.o.set("className","global_dialog");c.o.setAttribute("role","dialog");var g="";if(b.config.flickr.flags.enable_global_dialog_maximizer){b.log("assign maximizer handler");c.o.on("click",function(k){if(k.target.test(".global-dialog-admin-maximizer a")){k.preventDefault();c.o.addClass("global-dialog-maximized")}});g='<div class="global-dialog-admin-maximizer">admins only: <a href="#">maximize global dialog</a></div>'}c.o.set("innerHTML",'<div id="global-dialog-container" class="global_dialog_container"><div class="wrapper">'+j+"</div>"+g+"</div>");c.o_container=null;c.get_elements();if(h&&h.style){c.set_style(h.style)}else{c.set_style(c.style)}if(h&&h.width){c.set_width(h.width)}else{c.set_width()}return c};this.create_confirmation_dialog=function(h,s,p){var n,q,o,i,j,g,m,t,l,r,k;if(b.Lang.isObject(h)){n=b.Lang.isString(h.hd)?h.hd:"";q=b.Lang.isString(h.bd)?h.bd:"";o=b.Lang.isString(h.ft)?h.ft:""}else{q=b.Lang.isString(h)?h:""}i={CONFIRM:b.transjax.get("global-dialog","button_confirm"),CANCEL:b.transjax.get("global-dialog","button_cancel"),width:330,loading:false,modal:true,confirm_butt_class:"Butt",cancel_butt_class:"CancelButt",checkboxes:[],photo:{},scope:window};if(!b.Lang.isObject(p)){p={}}i=b.mix(p,i);t=b.guid();l=b.guid();j="";if(i.photo&&i.photo.url){j='<div class="photo_container"><img src="'+i.photo.url+'"'+(i.photo.width?' width="'+i.photo.width+'"':"")+(i.photo.height?' height="'+i.photo.height+'"':"")+"></div>"}g="";if(i.checkboxes.length){b.Array.each(i.checkboxes,function(u){g+='<div><label><input type="checkbox">&nbsp; '+u+"</label></div>"})}k=' <input type="button" class="'+i.confirm_butt_class+'" value="'+i.CONFIRM+'" id="'+t+'">';if(i.confirm_butt_class==="BigAssButt"){k=' <a href="#" class="'+i.confirm_butt_class+'" id="'+t+'"><span></span>'+i.CONFIRM+"</a>"}m=(n?'<div class="hd">'+n+"</div>":"")+'<div class="bd">'+q+j+g+'</div><div class="bd button_container confirmation_button_container">'+k+' <input type="button" class="'+i.cancel_butt_class+'" value="'+i.CANCEL+'" id="'+l+'"></div>'+(o?'<div class="ft">'+o+"</div>":"");b.global_dialog.remove_existing_dialog();b.global_dialog.create_dialog(m,i).show(i);r=b.delegate("click",function(v){var w,u;w=(v.target.get("id")===t);u={};if(i.checkboxes.length){u.checkboxes=[];c.o_container.all('input[type="checkbox"]').each(function(x){u.checkboxes.push(x.get("checked"))})}b.global_dialog.hide();if(b.Lang.isFunction(s)){s.apply(i.scope,[w,u])}v.preventDefault();r.detach()},c.o_container,'.button_container input[type="button"], .button_container a.BigAssButt')};this.create_alert_dialog=function(l,m,k){var h,j,i,g;h={CONFIRM:b.transjax.get("global-dialog","button_confirm"),width:330,loading:false,modal:true};if(!b.Lang.isObject(k)){k={}}h=b.mix(k,h);i=b.guid();j='<div class="hd">'+l+'</div><div class="bd button_container"> <input type="button" class="Butt" value="'+h.CONFIRM+'" id="'+i+'"></div>';b.global_dialog.remove_existing_dialog();b.global_dialog.create_dialog(j,h).show(h);b.delegate("click",function(){b.global_dialog.hide();if(b.Lang.isFunction(m)){m.apply(window,[true])}},this.o_container,"#"+i)};this.position_cover=function(h){var g,i;if(!h){h=b.one(c.o_cover)}c.get_elements();if(h){if(window.innerWidth){g=window.pageXOffset;i=window.pageYOffset}else{g=document.body.scrollLeft;i=document.body.scrollTop}h.setStyle("width","100%");h.setStyle("height",(b.one("body").get("offsetHeight"))+"px");h.setStyle("top",i+"px");h.setStyle("left",g+"px")}};this.legacy_resize_handler=function(){c.reposition();c.position_cover()};this.legacy_scroll_handler=function(){c.reposition();c.position_cover()};this.key_handler=function(h){if(!b.keyboardShortcutManager.isEnabled()){return}var g=h.which||h.keyCode;if(g===27){if(!this.esc_to_close){return}if(b.PageContext){b.PageContext.unset(b.PageContext.get())}c.hide()}};this.attach_events=function(){if(c.events_on){return false}c.events_on=true;if(!b.UA.ios){c.resize_event_handle=b.on("resize",c.legacy_resize_handler,window,c,true);c.scroll_event_handle=b.on("scroll",c.legacy_scroll_handler,window,c,true)}};this.attach_key_events=function(){c.key_event_handle=b.on("key",c.key_handler,window,"up:27",c,true)};this.detach_events=function(){if(!c.events_on){return false}c.events_on=false;if(c.resize_event_handle){c.resize_event_handle.detach()}if(c.scroll_event_handle){c.scroll_event_handle.detach()}};this.detach_key_events=function(){if(c.key_event_handle){c.key_event_handle.detach()}};this.get_elements()};b.global_dialog=new a()},"0.0.1",{requires:F.config.modules["global-dialog"].requires||[],optional:F.config.modules["global-dialog"].optional||[]});YUI.add("keyboard-shortcut-legend",function(c){var m=false,N="keyboard-shortcut-legend",L,E={},o=false,C=false,f,w,d=2000,x="keylayout",B,y,t,i,G,s,H,P=0,U=true,q=false,v,r=890,b=584,A=[],k=[c.transjax.get("keyboard-shortcut-legend","navigation"),c.transjax.get("keyboard-shortcut-legend","actions"),c.transjax.get("keyboard-shortcut-legend","lightbox"),c.transjax.get("keyboard-shortcut-legend","map"),c.transjax.get("keyboard-shortcut-legend","general")];function R(){c.all(".keyboard-shortcut-legend-trigger").on("click",J);B=c.Cookie.get(x)||u();m=true}function u(){var V="qwerty";if(c.config.flickr.flags.enable_keyboard_shortcut_legend_keyboard_layouts){if(c.config.flickr.lang==="de-de"){V="qwertz"}else{if(c.config.flickr.lang==="fr-fr"){V="azerty"}else{if(c.config.flickr.lang==="es-us"){V="spanish"}}}}return V}function J(X){var W=c.PageContext.get(),V={};if(o){O(X);return}y=c.keyboardShortcutLegendLayouts[B];if(W!==""&&W!=="lightbox"&&W!=="flickrMap"){c.PageContext.unset(W);W=c.PageContext.get()}c.Array.each(A,function(Y,Z){if(Y.context===W||Y.context==="*"){c.Array.each(k,function(ab,aa){if(Y.group===ab){if(!V[ab]){V[ab]=[]}V[ab].push(Y)}})}});c.Array.each(k,function(Z,Y){if(V[Z]){V[Z].sort(K)}});if(E[W+B]){L=E[W+B]}else{L='<div class="hd keyboard-shortcut-legend-hd"><h2 id="keyboard-shortcut-legend-header">'+c.transjax.get("keyboard-shortcut-legend","header_"+(W===""?"no_context":"context"))+'</h2><label class="killswitch-container"><span class="spinner">'+c.transjax.get("keyboard-shortcut-legend","saving")+'</span><span class="success"><span class="msg-icon"></span>'+c.transjax.get("keyboard-shortcut-legend","saved")+'</span><span class="alert"><span class="msg-icon"></span>'+c.transjax.get("keyboard-shortcut-legend","unable_to_save")+'</span><input type="checkbox" class="killswitch" tabindex="1" checked>'+c.transjax.get("keyboard-shortcut-legend","enable_shortcuts")+'</label><a href="#" class="keyboard-shortcut-legend-close"></a></div><div class="bd keyboard-shortcut-legend-bd '+B+'-layout"><p id="keyboard-shortcut-legend-instructions" class="obscured">'+c.transjax.get("keyboard-shortcut-legend","instructions")+"</p>";c.Array.each(y,function(Z,Y){L+='<ul class="keyboard-row row-'+Y+'">';c.Array.each(Z,function(aa){L+="<li"+(aa.className?' class="'+aa.className+'"':"")+' id="key-'+aa.keyCode+'"><span class="key-container"><a href="#" class="key-height" role="button" tabindex="-1"><span class="key">'+(aa.sup?'<span class="sup">'+aa.sup+"</span>":"")+(aa.sub?'<span class="sub">'+aa.sub+"</span>":"")+"</span></a></span></li>"});L+="</ul>"});if(c.config.flickr.flags.enable_keyboard_shortcut_legend_keyboard_layouts){L+='<div class="layout-tools"><span class="layout-description show"><span class="selected-layout">'+c.transjax.get("keyboard-shortcut-legend",B+"_layout")+'</span> (<a href="#" class="layout-change" role="button" tabindex="1">'+c.transjax.get("keyboard-shortcut-legend","change_layout")+'</a>)</span><span id="layout-selector-desc" class="obscured">'+c.transjax.get("keyboard-shortcut-legend","layout_selector_description")+'</span><select class="layout-selector" aria-label="layout-selector-desc"><option value="qwerty"'+(B==="qwerty"?" selected":"")+'>QWERTY</option><option value="spanish"'+(B==="spanish"?" selected":"")+">"+c.transjax.get("keyboard-shortcut-legend","spanish")+'</option><option value="qwertz"'+(B==="qwertz"?" selected":"")+'>QWERTZ</option><option value="azerty"'+(B==="azerty"?" selected":"")+'>AZERTY</option><option value="dvorak"'+(B==="dvorak"?" selected":"")+">Dvorak</option></select></div>"}L+='<hr><div class="shortcuts" role="document">';c.Array.each(k,function(Z,Y){if(V[Z]){L+='<div class="group"><h4>'+Z+"</h4><ul>";c.Array.each(V[Z],function(aa,ab){L+='<li id="shortcut-'+Y+"-"+ab+'"><kbd'+((aa.key==="&larr;"||aa.key==="&rarr;")?' class="arrow"':"")+">"+aa.key+'</kbd><span id="shortcut-'+Y+"-"+ab+'-desc">'+aa.description+"</span></li>"});L+="</ul></div>"}});L+='</div><div class="mask"></div></div>';E[W+B]=L}U=(c.DOM.winHeight()>b&&c.DOM.winWidth()>r);c.PageContext.set(N);c.global_dialog.remove_existing_dialog();c.global_dialog.create_dialog(L,{width:U?842:633}).show({loading:false,modal:true});c.global_dialog.set_aria({"aria-labelledby":"keyboard-shortcut-legend-header","aria-describedby":"keyboard-shortcut-legend-instructions"});o=true;f=c.one(".keyboard-shortcut-legend-hd .killswitch");f.set("checked",c.config.flickr.flags.enable_keyboard_shortcuts);if(q){q=false;c.one(".keyboard-shortcut-legend-bd .layout-tools .layout-change").focus()}else{f.focus()}h(f,true);if(!U){c.one(".keyboard-shortcut-legend-bd").addClass("mini");c.global_dialog.reposition()}c.Array.each(k,function(Z,Y){if(V[Z]){c.Array.each(V[Z],function(aa,ac){var ab=c.one("#shortcut-"+Y+"-"+ac),ad=false;c.Array.each(aa.keyCodes,function(af){var ae=c.one("#key-"+af);if(ae){ad=true;ae.addClass("highlight");ae.on(["focus","mouseover"],function(ag){z({blur:(ag.type==="mouseover")});ab.addClass("highlight")});ae.on(["blur","mouseout"],function(ag){z()});ab.on("mouseover",function(ag){z();ae.addClass("super-highlight")});ab.on("mouseout",function(ag){z()});ae.one("a.key-height").setAttribute("aria-describedby",ab.get("id")+"-desc")}});if(!ad){ab.remove()}})}});t=c.all(".keyboard-shortcut-legend-bd .keyboard-row li");i=c.all(".keyboard-shortcut-legend-bd .shortcuts li");c.once("click",O,".keyboard-shortcut-legend-close");c.keyboardShortcutManager.register({keystring:"27",handler:O,context:N});c.all(".keyboard-shortcut-legend-bd a.key-height").on("click",function(Y){Y.preventDefault()});c.all(".keyboard-shortcut-legend-hd .killswitch").on("click",function(Y){h(Y.target)});if(c.config.flickr.flags.enable_keyboard_shortcut_legend_keyboard_layouts){c.all(".keyboard-shortcut-legend-bd .layout-change").on("click",l);c.all(".keyboard-shortcut-legend-bd .layout-selector").on("change",g)}v=c.on("resize",c.betterThrottle(I,50));if(c.config.flickr.flags.enable_keyboard_shortcuts){H=true;c.keyboardShortcutManager.disable();e()}if(X&&X.preventDefault){X.preventDefault()}}function K(W,V){if(W.order>V.order){return 1}else{if(V.order>W.order){return -1}}return 0}function z(V){if(!V){V={}}if(V.blur&&s&&typeof s.blur==="function"){s.blur();s=null}t.removeClass("super-highlight");i.removeClass("highlight")}function I(W){var V=(c.DOM.winHeight()>b&&c.DOM.winWidth()>r);if(V!==U){O();J()}}function T(){S();c.one(".keyboard-shortcut-legend-hd .spinner").addClass("show");w=new Date().getTime()}function p(X){var V=new Date().getTime(),W=V-w;if(W>=d||!X){c.one(".keyboard-shortcut-legend-hd .spinner").removeClass("show");D(X)}else{setTimeout(function(){c.one(".keyboard-shortcut-legend-hd .spinner").removeClass("show");D(X)},d-W)}}function h(X,Y){var V=c.one(".keyboard-shortcut-legend-bd"),W=c.one(".keyboard-shortcut-legend-bd .mask");if(!Y){T()}if(X.get("checked")){if(W){W.setStyle("display","none")}if(!Y){Q(function(Z){p(Z);if(!Z){if(W){W.setStyle("display","block")}c.keyboardShortcutManager.disable();X.set("checked",false)}})}}else{W.setStyle("width",V.get("offsetWidth"));W.setStyle("height",V.get("offsetHeight"));W.setStyle("display","block");if(!Y){a(function(Z){p(Z);if(!Z){W.setStyle("display","none");c.keyboardShortcutManager.enable();X.set("checked",true)}})}}}function D(W){var V=c.one(W?".keyboard-shortcut-legend-hd .success":".keyboard-shortcut-legend-hd .alert");V.addClass("show");setTimeout(S,d)}function S(){c.all(".keyboard-shortcut-legend-hd .success, .keyboard-shortcut-legend-hd .alert").removeClass("show")}function Q(V){if(!V){V=function(){}}c.flickrAPI.callMethod("flickr.prefs.setPrefs",{disable_keyboard_shortcuts:0},{success:function(){C=false;H=true;e();V(true)},failure:function(){V(false)}})}function a(V){if(!V){V=function(){}}c.flickrAPI.callMethod("flickr.prefs.setPrefs",{disable_keyboard_shortcuts:1},{success:function(){C=true;H=false;M();V(true)},failure:function(){V(false)}})}function l(V){c.one(".keyboard-shortcut-legend-bd .layout-description").removeClass("show");c.one(".keyboard-shortcut-legend-bd .layout-selector").addClass("show").focus();if(V&&typeof V.preventDefault==="function"){V.preventDefault()}}function g(W){var V;B=W.target.get("value");V={domain:".flickr.com",path:"/",expires:(new Date((new Date()).getTime()+10*365*60*60*24*1000))};c.Cookie.set(x,B,V);q=true;O();J()}function n(W){var V;if(W.keyCode===32&&W.target.test(".keyboard-shortcut-legend-bd .layout-tools .layout-change")){l(W);return}else{if(c.focusTracker.isInput()||W.altKey||W.ctrlKey||W.metaKey||W.keyCode===9||c.one(".keyboard-shortcut-legend-bd .layout-tools").contains(W.target)){return}else{if(W.keyCode===27){P++}if(P>1){O();P=0;W.preventDefault();return}V=c.one("#key-"+W.keyCode);if(V){s=V.one("a.key-height");s.focus()}W.preventDefault()}}}function e(){G=c.on("key",n,"html","down:")}function M(){if(G&&typeof G.detach==="function"){G.detach()}}function O(V){c.global_dialog.remove_existing_dialog();c.global_dialog.hide();c.PageContext.unset(N);v.detach();M();if(H){c.keyboardShortcutManager.enable()}o=false;if(C){c.global_dialog.create_alert_dialog('<span class="reenable-msg">'+c.transjax.get("keyboard-shortcut-legend","you_can_reenable_shortcuts_in_prefs")+"</span>",c.global_dialog.hide,{width:280})}if(V&&V.preventDefault){V.preventDefault()}}function j(V){if(!m){R()}if(!V.context){V.context=""}if(!V.group){V.group=c.transjax.get("keyboard-shortcut-legend","general")}if(!V.order&&V.order!==0){V.order=50}A.push(V)}c.keyboardShortcutLegend={show:J,hide:O,register:j};j({keyCodes:[191,109],key:"?",description:c.transjax.get("keyboard-shortcut-legend","shortcut_description"),context:"*",order:0});j({keyCodes:[27],key:"esc",description:c.transjax.get("keyboard-shortcut-legend","esc_description")+' <span class="obscured">'+c.transjax.get("keyboard-shortcut-legend","esc_description_screenreader")+"</span>",context:"*",order:1})},"0.0.1",{requires:F.config.modules["keyboard-shortcut-legend"].requires||[],optional:F.config.modules["keyboard-shortcut-legend"].optional||[]});YUI.add("menus",function(e){var a={};function d(f){a[f.id]=new c(f);return a[f.id]}function b(){e.fire("flickr-menus:hide")}e.menus={add:d,hide:b};function c(f){c.superclass.constructor.apply(this,arguments)}c.NAME="Menu";c.ATTRS={id:{value:""},popover:{},context:{},button_node:{},constrain_node:{},open_on_hover:{value:false},hide_delay:{},scroll:{value:false},button_evt_listeners:{},click_to_hide_handle:{},escape_key_listener:{},use_touch_events:{value:("ontouchstart" in document.documentElement)},show_timer:{},hide_timer:{},hidden_prop:{value:""},onHide:{}};e.extend(c,e.Base,{initializer:function(f){this.set("scroll",f.scroll);this.set("id",f.id);this.set("popover",f.popover);this.set("context",f.context);if(f.button_node instanceof e.Node){this.set("button_node",f.button_node)}else{f.button_node=undefined;delete f.button_node}if(f.constrain_node instanceof e.Node){this.set("constrain_node",f.constrain_node)}else{f.constrain_node=undefined;delete f.constrain_node}e.on("flickr-menus:hide",function(g){if(g==="source:nav-selecta-container"){return}this.hide()},this);this.attachWindowHideHandler();this.attachButtonActionHandler();this.after("button_nodeChange",this.attachButtonActionHandler,this)},show:function(){if(this.get("popover").get("visible")){return false}if(this.get("button_node")){this.get("button_node").addClass("ActiveButt")}e.fire("flickr-menus:hide");if(this.get("button_node")){this.get("popover").alignToElement(this.get("button_node"),this.get("constrain_node")||e.one("#main"))}this.get("popover").show();e.PageContext.set(this.get("context"));e.later(20,this,function(){var g,f;if(!this.get("click_to_hide_handle")){g=e.one("body").on(this.get("use_touch_events")?"touchstart":"click",function(h){if(this.get("popover").get("boundingBox").contains(h.target)||!h.target.ancestor("body",true)){return}this.hide()},this);this.set("click_to_hide_handle",g)}if(!this.get("escape_key_listener")){f=e.keyboardShortcutManager.register({keystring:"27",handler:function(h){this.hide()},context:this.get("context"),scope:this});this.set("escape_key_listener",f)}});if(this.get("scroll")){e.one("#"+this.get("id")).vis.animScrollIntoView(true,40,true)}e.fire("menus:show")},hide:function(){if(!this.get("popover").get("visible")){return false}if(this.get("button_node")){this.get("button_node").removeClass("ActiveButt")}this.get("popover").hide();e.PageContext.unset(this.get("context"));if(this.get("escape_key_listener")){this.get("escape_key_listener").detach();this.set("escape_key_listener",undefined)}if(this.get("click_to_hide_handle")){this.get("click_to_hide_handle").detach();this.set("click_to_hide_handle",undefined)}e.fire("menus:hide");if(typeof this.get("onHide")==="function"){this.get("onHide")()}},toggle:function(){if(this.get("popover").get("visible")){this.hide()}else{this.show()}},attachButtonActionHandler:function(){var g,f,k,j,h=[];if(this.get("button_evt_listeners")){g=this.get("button_evt_listeners");for(f=g.length-1;f>=0;f--){g[f].detach()}this.set("button_evt_listeners",[])}if(this.get("open_on_hover")){j=function(i){if(i.currentTarget.hasClass("DisabledButt")){return}if(i.type==="mouseenter"&&i.currentTarget.hasClass("open")){var l=e.focusTracker.get();if(l.getDOMNode().tagName!=="BODY"){l.blur();this.show()}}if(i.type==="mouseenter"){this.show();return}if(i.type==="touchstart"){i.stopImmediatePropagation()}if(i.type==="mousemove"&&!i.currentTarget.hasClass("open")){this.show();return}if(i.type==="focus"&&document[this.get("hidden_prop")]){return}if(!i.currentTarget.hasClass("open")||i.type==="mouseleave"||i.type==="blur"){this.toggle();i.halt()}};h.push(this.get("button_node").on("focus",j,this));h.push(this.get("button_node").on("blur",j,this));if(this.get("use_touch_events")){h.push(this.get("button_node").on("touchstart",j,this))}h.push(this.get("button_node").on("mouseenter",j,this));h.push(this.get("button_node").on("mouseleave",j,this));h.push(this.get("button_node").once("mousemove",j,this))}else{k=function(l){l.preventDefault();if(l.currentTarget.hasClass("DisabledButt")){return}this.toggle();try{l.currentTarget.blur()}catch(i){}};h.push(this.get("button_node").on("click",k,this))}this.set("button_evt_listeners",h)},attachWindowHideHandler:function(){if(typeof document.hidden!=="undefined"){this.set("hidden_prop","hidden")}else{if(typeof document.mozHidden!=="undefined"){this.set("hidden_prop","mozHidden")}else{if(typeof document.msHidden!=="undefined"){this.set("hidden_prop","msHidden")}else{if(typeof document.webkitHidden!=="undefined"){this.set("hidden_prop","webkitHidden")}}}}}})},"0.0.1",{requires:F.config.modules.menus.requires||[],optional:F.config.modules.menus.optional||[]});YUI.add("global-nav",function(c){var k={banners:["#refresh-announcement","#subscription-announcement","#storage-announcement","#https-announcement","#groups-opt"],eyebrow:"#eyebrow",nav:"#global-nav",searchBox:"#gn-search-field",searchButt:"#global-nav .search-icon",menuParent:".gn-menu-parent"},i={banners:[],eyebrow:null,nav:null,searchBox:null,searchButt:null,menuParents:null},j={touch:"ontouchstart" in document.documentElement},f=null;var d=995;var a={node:{},visible:{value:false},boundingBox:{readOnly:true,getter:function(){return this.get("node")}}};var e=100;var h=function(n){n=n||{};this.addAttrs(c.clone(a,true),n)};h.prototype.show=function(){var n=this.get("node");this.set("visible",true);f=window.setTimeout(function(){n.addClass("open");f=null},e)};h.prototype.hide=function(){if(f){window.clearTimeout(f);f=null}this.get("node").removeClass("open");this.set("visible",false)};h.prototype.alignToElement=function(){};function m(){i.eyebrow=c.one(k.eyebrow);i.nav=c.one(k.nav);i.searchBox=c.one(k.searchBox);i.searchButt=c.one(k.searchButt);i.menuParents=i.nav.all(k.menuParent);for(var p=0,n=k.banners.length;p<n;p++){var o=c.one(k.banners[p]);if(o){i.banners.push(o)}}g();b();l();c.on("Liquid:resize",c.betterThrottle(function(q){l()},50))}function b(){c.augment(h,c.Attribute);for(var p=0,n=i.menuParents.size();p<n;p++){var q=i.menuParents.item(p);var o="gn-menu-"+q.getData("context");c.menus.add({id:o,popover:new h({node:q}),context:o,button_node:q,open_on_hover:(q.getData("context")==="account")?false:true})}i.nav.removeClass("no-js")}function g(){if(!i.searchBox){return}i.searchBox.on(["focus","blur"],function(n){i.searchButt.toggleClass("focused",n.type==="focus")})}function l(){var p=false;if(j.touch||(document.body.offsetWidth&&document.body.offsetWidth<d)||(document.compatMode==="CSS1Compat"&&document.documentElement&&document.documentElement.offsetWidth<d)||(window.innerWidth<d)){p=true}i.nav.toggleClass("scrolling-header",p);if(i.eyebrow){i.eyebrow.toggleClass("scrolling-header",p)}for(var o=0,n=i.banners.length;o<n;o++){i.banners[o].toggleClass("scrolling-header",p)}}c.globalNav={init:m}},"0.0.1",{requires:F.config.modules["global-nav"].requires||[],optional:F.config.modules["global-nav"].optional||[]});if(YAHOO===void 0||!YAHOO){var YAHOO={}}YAHOO.i13n=YAHOO.i13n||{},YAHOO.i13n.EventTypes=function(){function c(g,f,h){this.yqlid=g,this.eventName=f,this.spaceidPrefix=h}var a="richview",d="contentmodification";c.prototype={getYQLID:function(){return this.yqlid},getEventName:function(){return this.eventName}};var b={pageview:new c("pv","pageview",""),simple:new c("lv","event","P"),linkview:new c("lv","linkview","P"),richview:new c(a,a,"R"),contentmodification:new c(a,d,"R"),dwell:new c("lv","dwell","D")};return{getEventByName:function(f){return b[f]}}}(),YAHOO.i13n.Rapid=function(aH){function at(){}function az(a){this.map={},this.count=0,a&&this.absorb(a)}function av(){this.map={},this.count=0}function ay(j,r){if(!j){return null}null===r&&(r=!1);var f=new av,b=aD.getAttribute(j,aD.data_action_outcome);b&&f.set("outcm",b);var h=aD.getAttribute(j,"data-ylk");if(null===h||0===h.length){return f}for(var p=h.split(aD.ylk_pair_delim),m=0,q=p.length;q>m;m++){var v=p[m].split(aD.ylk_kv_delim);if(2===v.length){var g=v[0],k=v[1];null!==g&&""!==g&&null!==k&&(k.length>aD.MAX_VALUE_LENGTH&&(k=k.substring(0,aD.MAX_VALUE_LENGTH)),8>=g.length&&aD.MAX_VALUE_LENGTH>=k.length&&("_p"!==g||r)&&f.set(g,k))}}return f}function aL(b,a,c){return a>b?a:b>c?c:b}function aJ(a){z.set("A_sid",YAHOO.i13n.A_SID||aD.rand()),z.set("_w",aD.rmProto(window.location.href).substring(0,aD.MAX_VALUE_LENGTH)),a?z.absorb(a):aH.keys&&z.absorb(aH.keys)}function ar(h){var m=YAHOO.i13n,c=YAHOO.i13n.TEST_ID||h.test_id,a=document.location+"";aJ(h.keys),c&&(c=aD.norm(""+c));var b=300,g=700,k={version:"3.18.5",keys:z,getReferrer:function(){return aD.norm(aD.clref(h.referrer||document.referrer))},spaceid:aD.norm(YAHOO.i13n.SPACEID||h.spaceid),yrid:aD.norm(h.yrid||""),oo:h.oo?"1":"0",nol:h.nol?"1":"0",yql_enabled:h.yql_enabled!==!1,ywa:h.ywa||null,ywa_dpid:null,ywa_cf_override:m.YWA_CF_MAP||{},ywa_action_map:m.YWA_ACTION_MAP||{},ywa_outcome_map:m.YWA_OUTCOME_MAP||{},fing:1==h.use_fing,USE_RAPID:h.use_rapid!==!1,linktrack_attribut:h.lt_attr||"text",tracked_mods:h.tracked_mods||[],lt_attr:h.lt_attr||"text",client_only:h.client_only,text_link_len:h.text_link_len||-1,test_id:c,yql_host:h.yql_host||"geo.query.yahoo.com",yql_path:h.yql_path||"/v1/public/yql",compr_timeout:h.compr_timeout||g,compr_on:h.compr_on!==!1,compr_type:h.compr_type||"deflate",webworker_file:YAHOO.i13n.WEBWORKER_FILE||h.webworker_file||"rapidworker-1.1.js",nofollow_classname:h.nofollow_class||"rapidnofollow",no_click_listen:h.rapid_noclick_resp||"rapid-noclick-resp",nonanchor_track_class:h.nonanchor_track_class||"rapid-nonanchor-lt",anc_pos_attr:"data-rapid_p",deb:h.debug===!0,ldbg:a.indexOf("yhldebug=1")>0,addmod_timeout:h.addmodules_timeout||300,ult_token_capture:"boolean"==typeof h.ult_token_capture?h.ult_token_capture:!1,track_type:h.track_type||"data-tracktype",dwell_on:h.dwell_on!==!1,async_all_clicks:h.async_all_clicks===!0,click_postmsg:h.click_postmsg||{},apv:h.apv!==!1,apv_time:h.apv_time||1000,apv_px:h.apv_px||500,ex:h.ex===!0,persist_asid:h.persist_asid===!0,track_right_click:h.track_right_click===!0,gen_bcookie:h.gen_bcookie===!0,skip_attr:h.skip_attr||"data-rapid-skip",parse_dom:h.parse_dom===!0,pageview_on_init:h.pageview_on_init!==!1};k.ywa_action_map[YAHOO.i13n.EventTypes.getEventByName("richview").getEventName()]=100,!k.ywa||k.ywa.project_id&&0!=k.ywa.project_id&&aD.isNumeric(k.ywa.project_id)||(aG("Invalid YWA project id: null or not numeric."),k.ywa=null);var p=1*k.compr_timeout;k.compr_timeout=aD.isNum(p)?aL(p,b,g):g;var f=1*h.click_timeout,j=500;return k.click_timeout=aD.isNum(f)?f:j,k}function au(){z.set("A_sid",aD.rand())}function aB(){return"Rapid-"+G.version+"("+(new Date).getTime()+"):"}function aI(a){console.warn("RAPID WARNING: "+a)}function aG(a){console.error("RAPID ERROR: "+a)}function ax(a){G.ldbg&&console.log(aB()+a)}function aq(){var h=document.cookie;if(this.cookieMap={},/[^=]+=[^=;]?(?:; [^=]+=[^=]?)?/.test(h)){for(var f=h.split(/;\s/g),l=null,g=null,j=null,d=0,b=f.length;b>d;d++){if(j=f[d].match(/([^=]+)=/i),j instanceof Array){try{l=aD.dec(j[1]),g=aD.dec(f[d].substring(j[1].length+1))}catch(k){aG(k)}}else{l=aD.dec(f[d]),g=l}("B"===l||"BX"===l||"TT"===l||G.ywa&&l==="fpc"+G.ywa.project_id||"fpc"===l||"ywandp"===l||0===l.indexOf("ywadp")||"D"===l)&&(this.cookieMap[l]=g)}}}function aA(){if(G.ult_token_capture&&YAHOO.i13n.__handled_ult_tokens__!==!0){YAHOO.i13n.__handled_ult_tokens__=!0;var b=window.document.location+"";if(b.match(/;_yl[a-z]{1}=/)){G.ldbg&&ax("Found ULT Token on URL."),aw.sendGeoT(b)}else{var a=new aq,c=a.getCookieByName("D");c&&(aD.clearCookie("D","/",".yahoo.com"),aw.sendGeoT(c))}}}function aE(){return Math.floor((new Date).valueOf()/1000)}function aM(d,b,g){var c=new Date,f="";c.setTime(c.getTime()+1000*g),f="; expires="+c.toGMTString();var a=d+"="+b+f+"; path=/";document.cookie=a}function aF(){return""+Math.floor(4294967295*Math.random())}function an(b){var a,c=[];for(a in b){b[a]&&c.push(a+":"+b[a])}return encodeURIComponent(c.join(";"))}function ap(c,a){c=c||"";var f=decodeURIComponent(c).split(";"),b={};for(i=0,excl=f.length;excl>i;i++){var d=f[i].split(":");b[d[0]]=d[1]}return a?b[a]:b}function aK(){function a2(b){var a="cf";return a+=10>b&&"0"!==(""+b).charAt(0)?"0"+b:b}function aP(){void 0!==window.ITTs&&aD.isArr(window.ITTs)&&0!==window.ITTs.length||(window.ITTs=[{}]),window.ITTs[0].setFPCookies||(window.ITTs[0].setFPCookies=function(){var c="fpc",a=new aq,g=ap(a.getCookieByName(c));g[G.ywa.project_id]=window.ITTs[0].FPCV,aM(c,an(g),31536000);var b=a.getCookieByName(c+G.ywa.project_id);b&&aD.clearCookie(c+G.ywa.project_id)})}function aT(g,b,l,c){G.ldbg&&ax(g);var k=new Image,a=null;k.onload=k.onabort=k.onerror=function(){b&&l?b[l]=1:c&&(clearTimeout(a),c.call(null))},k.src=g,c&&(a=setTimeout(function(){c.call(null)},G.click_timeout)),setTimeout(function(){k=null},100000)}function aW(c,a){for(var g in c){if(aD.hasOwn(c,g)){var b=G.ywa_cf_override[g];b&&(a[b]=c[g])}}}function a0(Y,R,a9,be,bc,I,P){function a7(b,a){var c=a?"%3B":";";return b+(a9?c+b:"")}var bb=new aq,V=bb.getYWAFPC();bb.getYWADPID(),be=be||{},"c"!==Y&&aP();var a6=[aD.curProto(),G.ywa.host||"a.analytics.yahoo.com","/fpc.pl?"],bf=G.ywa.project_id,ba=G.ywa.document_group,C={};G.test_id&&(C["14"]=G.test_id);var H=["_cb="+aD.rand(),".ys="+G.spaceid,"a="+bf,"b="+aD.enc(G.ywa.document_name||document.title),"d="+aD.enc(new Date),"f="+aD.enc(window.location.href),"j="+aD.sr("x"),"k="+aD.cold(),"t="+aE(),"l=true"];if(P){for(var bd in P){aD.hasOwn(P,bd)&&H.push(bd+"="+aD.enc(P[bd]))}}if(ba&&""!==ba&&H.push("c="+aD.enc(ba)),G.ywa_dpid&&H.push("dpid="+G.ywa_dpid),"c"===Y){be.x=12;var a8="12";a9&&(a8=aD.enc(a8+";"+a9)),H.splice(0,0,"x="+a8)}else{"e"===Y&&H.push("x="+R+(a9?";"+a9:""))}V&&H.push("fpc="+aD.enc(V));var S=G.ywa.member_id;S&&H.push("m="+S),""!==G.getReferrer()&&H.push("e="+aD.enc(G.getReferrer()));var N={};aD.aug(N,aS().getAll()),aD.aug(N,I),aW(N,C),aD.hasOwn(N,"A_apv")&&(C["15"]=N.A_apv),"e"===Y&&bc&&aW(bc,C);var e=G.ywa.cf;aD.aug(C,e,function(a){return !aD.isResCF(a)});for(var o in C){aD.hasOwn(C,o)&&H.push(a2(o)+"="+a7(aD.enc(C[o]),1))}if(("e"===Y||"c"===Y)&&H.push("ca=1"),"p"!==Y&&H.push("resp=img"),"c"===Y){for(var t in be){if(aD.hasOwn(be,t)&&"x"!==t){var q=be[t];try{q=aD.enc(a7(q)),aD.isSafari&&(q=q.replace(/'/g,"%27"))}catch(D){aG(D)}H.push(a2(t)+"="+q)}}}return a6.join("")+H.join("&")}function a5(){return"rapid_if_"+aD.rand()}function a3(b){var a="display:none;";!aD.isIE||6!==aD.ieV&&7!==aD.ieV&&8!==aD.ieV?aD.sa(b,"style",a):b.style.setAttribute("cssText",a,0)}function aN(b){var a=null;if(aD.isIE&&8>=aD.ieV){var c="";aD.isSecure()&&6==aD.ieV&&(c='src="https://geo.yahoo.com/b.html"'),a=document.createElement("<iframe "+c+' name="'+b+'"></iframe>')}else{a=document.createElement("iframe")}return a.name=b,a}function aR(){setTimeout(function(){var a=aN("");aD.addEvent(a,"load",function(){aD.rmBodyEl(a)}),aD.appBodyEl(a)},1)}function aY(q,x){var c=null,a=aD.make("form"),b=aD.make("input"),k=a5(),g=a5(),s="application/x-www-form-urlencoded;charset=UTF-8";c=aN(k),a3(c),a3(a),a.id=g,a.method="POST",a.action=aX(x),a.target=k,aD.isIE&&7>=aD.ieV?a.setAttribute("enctype",s):(a.setAttribute("enctype",s),a.setAttribute("encoding",s)),b.name="q",b.value=q,aD.isIE&&aD.ieV>=10&&(b.type="submit"),a.appendChild(b);var m="load",u=function(){var o="";if(G.ldbg&&(!aD.isIE||aD.ieV>=9)){var l=c.contentDocument||c.contentWindow.document;o=l.body.innerHTML}aD.rmEvent(c,m,u),setTimeout(function(){aD.rmBodyEl(c),aD.rmBodyEl(a)},0),G.ldbg&&ax("iframe resp: "+o),aD.isIE&&7>=aD.ieV&&aR()};aD.addEvent(c,m,u),aD.appBodyEl(c),aD.appBodyEl(a),a.submit()}function aX(c){var a=G.deb,g=aD.rand(),b=[aD.curProto(),G.yql_host,G.yql_path,"?yhlVer=2&yhlClient=rapid&yhlS=",G.spaceid,a===!0?"&yhlEnv=staging":"",a===!0||G.ldbg?"&debug=true&diagnostics=true":"",aD.isIE&&aD.ieV?"&yhlUA=ie"+aD.ieV:"",aD.isIE&&8==aD.ieV?"&format=json":"","&yhlCT=2","&yhlBTMS=",(new Date).valueOf(),"&yhlClientVer=",G.version,"&yhlRnd=",g,"&yhlCompressed=",c||0,G.gen_bcookie?"&yhlBcookie=1":""].join("");return G.ldbg&&ax(b),b}function a1(c,a){var g=aD.getXHR(),b=aX(a);g.open("POST",b,!0),g.withCredentials=!0,g.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),G.ldbg&&(g.onreadystatechange=function(){4===g.readyState&&ax(g.status+":xhr response: "+g.responseText)}),g.send(c)}function a4(c,a,g){var b={};return aD.isObj(c)?(aD.aug(b,c,g),b):b}function aZ(l,g){var q={m:aD.norm(l.moduleName),l:[]};l.moduleYLK&&(q.ylk=l.moduleYLK.getAll());for(var k=l.links,m=function(a){var o="_p"===a;return g&&o?!0:"sec"!==a&&!o},c=0,b=k.length;b>c;c++){q.l.push(a4(k[c],g,m))}return q}function aV(g,b){var l=[],c=null;for(var k in g){if(aD.hasOwn(g,k)&&(c=g[k])){var a=aZ(c,b);a.l.length>0?l.push(a):G.ldbg&&ax('Not capturing 0 links mod: "'+c.moduleName+'"')}}return l}function aO(b,a){return b?"pv":a&&a.event?a.event.type.getYQLID():"lv"}function h(c,a,k,b,g){return[{t:aO(a,g),s:G.spaceid,pp:aS(a,b).getAll(),_ts:aE(),lv:aV(c,k)}]}function aS(c,a){var b=az.makeFromPP(G.keys);return b.absorb(a),c&&b.set("A_",1),b}function v(c,a,g){var b="select * from x where a = '"+c+"'";return(a?"q=":"")+(g?aD.enc(b):b)}function B(b){var a={bp:X(),r:b.call(0),yrid:G.yrid,optout:G.oo,nol:G.nol};return aD.toJSON(a)}function y(c,a,k){var b={};k.event&&aD.aug(b,k.event.data),k.pp&&aD.aug(b,k.pp);var g=B(function(){return h([c],a,!0,b,k)});aQ(g,a)}function W(c,a,k,b){var g=B(function(){return h(c,a,!1,k,b)});aQ(g)}function U(a){return a.identifier}function aQ(m){function C(c,a){0===a&&(c=c.replace(/'/g,"\\'")),b&&ax("body: "+c),aD.hasCORS()?(g=v(c,!0,!0),a1(g,a)):(g=v(c,0,0),aY(g,a))}function k(){q||(q=!0,C(m,0),b&&ax("sent in failSend"))}var b=G.ldbg,g="",l=K[G.compr_type];if(G.compr_on&&aD.hasWorkers()&&l>1&&m.length>2048){b&&ax("Looking for worker:"+G.webworker_file+", compr timeout:"+G.compr_timeout);var x=new Worker(G.webworker_file),q=!1,A=null,D=0;x.onerror=function(a){clearTimeout(A),k(),aI(a.message),x.terminate()},x.onmessage=function(c){clearTimeout(A);var a=aD.tms();q||(q=!0,C(c.data,l)),b&&ax("Ratio ("+c.data.length+"/"+m.length+"): "+(100*c.data.length/m.length).toFixed(2)+"% -> C_T: "+(a-D)+" ms ("+a+"-"+D+")"),x.terminate()},b&&ax("posting to worker: "+m),D=aD.tms(),x.postMessage({type:l,json:m}),A=setTimeout(function(){k(),x.terminate()},G.compr_timeout)}else{C(m,0)}}function w(b,a,c){return aD.curProto()+d+"/"+b+["?s="+(c?c:G.spaceid),"t="+aD.rand()+","+Math.random(),"_I="+G.yrid,"_AO="+G.oo,"_NOL="+G.nol,"_R="+aD.enc(G.getReferrer()),("c"===b?"_K=":"_P=")+p(a)].join("&")}function p(b){var a=new az(X(!1));return a.absorb(G.keys.getAll()),a.set("_ts",aE()),b&&(b instanceof az?a.absorb(b.getAll()):aG("Internal error in buildGeoPP: not PP type")),G.version+"%05"+a.ser()}function j(b){var a=[w("c")+"&_C="+aD.ser(b.data)];return a.join("&")}function n(b,a){var c=b[a];return c&&aD.isNum(c)&&c>=0?c:null}function f(b){var a=aD.getAttribute(b,aD.DATA_ACTION),c=aD.getAttribute(b,aD.data_action_outcome);return null!==a?n(G.ywa_action_map,a):null!==c?n(G.ywa_outcome_map,c):null}var d=YAHOO.i13n.beacon_server||"geo.yahoo.com",X=function(b){var a={_pl:1,A_v:G.version},c=G.getReferrer();return c&&b!==!1&&(a._R=c.substring(0,aD.MAX_VALUE_LENGTH)),G.test_id&&(a.test=G.test_id),G.ex&&(a._ex=1),a._bt||(a._bt="rapid"),a},aU=function(){var c=null,a=[],g=0,b=G.addmod_timeout;return function(q,l,e,r){clearTimeout(c);var k=+new Date-g;if(a=aD.uniqConcat(a,q,U),k>b){g=+new Date,W(a,l,e,r),a=[]}else{var m=b-k;c=setTimeout(function(){G.ldbg&&ax("queueing send in addMods"),W(a,l,e,r),a=[]},m)}}}();return{sendGeoT:function(b){var a=[aD.curProto(),d,"/t?",b].join("");aT(a)},sendGeoPV:function(){aT(w("b"))},sendRapidNoDelay:function(l,k,m,g,b){if(!G.yql_enabled||b){var q=null;m&&(q=new az(m)),aT(w(k?"b":"p",q))}else{W(l,k,m,g)}},sendRapid:function(c,a,g,b){aU(c,a,g,b)},sendRefreshedContent:y,sendYWAEvent:function(b){var a=null,g=null,c=b.name;G.ywa_action_map&&c&&(a=n(G.ywa_action_map,c)),null!==a&&(G.ywa_outcome_map&&b.outcome&&(g=n(G.ywa_outcome_map,b.outcome)),aT(a0("e",a,g,null,b.data)))},sendULTEvent:function(c,b){var g={};c&&c.data&&(g=c.data);var a=w("p",new az(g),b||0);c.type&&(a+="&_V="+c.type.spaceidPrefix),aT(a)},sendDwell:function(a){this.sendULTEvent(a,a.data.s)},sendEvents:function(a){G.USE_RAPID&&this.sendULTEvent(a),G.ywa&&this.sendYWAEvent(a)},sendClick:function(r){var H=null,g="",C="",A=null,E=!1,I=null;if(G.USE_RAPID&&(g=j(r)),G.ywa){var o=r.data,x=r.targetElement,q={18:o.sec,19:o.slk,20:o._p};"A_cl" in o&&(q["130"]=o.A_cl),A=x?f(x):n(G.ywa_outcome_map,r.outcome),G.ywa_cf_override&&aW(o,q),C=a0("c",0,A,q)}if(G.async_all_clicks||!r.synch){return g&&aT(g),C&&aT(C),void 0}if(aD.prevDef(r.event),H=function(){if(!E){E=!0;var a=r.targetElement.href;if(G.click_postmsg.origin){var e=G.click_postmsg.window||top,c=G.click_postmsg.payload||{};c.href=a,e.postMessage(aD.toJSON(c),G.click_postmsg.origin)}else{r.hasTargetTop?top.document.location=a:document.location=a}}},G.USE_RAPID){if(G.ywa){var b=new Image,D=new Image,k=0;b.onload=b.onerror=b.onabort=D.onload=D.onerror=D.onabort=function(){2===++k&&(clearTimeout(I),H())},b.src=g,D.src=C,I=setTimeout(H,G.click_timeout),setTimeout(function(){b=null,D=null},100000)}else{aT(g,0,0,H)}}else{G.ywa&&aT(C,0,0,H)}},sendYWAPV:function(k){function c(){g[0].removeChild(b)}var m=a0("p",0,0,0,0,k),g=document.getElementsByTagName("head"),l="true";if(0!==g.length){var b=aD.make("script",{defer:l,async:l,type:"text/javascript",src:m});aD.isIE?b.onreadystatechange=function(){var a=this.readyState;("loaded"===a||"complete"===a)&&(b.onload=b.onreadystatechange=null,c())}:aD.isWebkit?b.addEventListener("load",c):b.onload=c,g[0].appendChild(b)}},sendInternalSearch:function(b,a){b=b||"",aD.isNum(a)||(a=0);var g={isk:b,isr:a},c=a0("e","INTERNAL_SEARCH",null,null,null,null,g);aT(c)},sendYWAECommerce:function(m,k){var x={},q={PRODUCT_VIEW:1,ADD_TO_CART:1,CANCELLED_SALE:1,PENDING_SALE:1,SALE:1},b={amount:"xa",orderId:"oc",tax:"xt",shipping:"xs",discount:"xd",sku:"p",units:"q",amounts:"r"};if(!(m in q)){return aG("invalid YWA ecommerce action: "+m),void 0}for(var r in k){if(aD.hasOwn(k,r)&&r in b){var g=b[r];x[g]=k[r]}}"SALE"===m&&(m=1);var l=a0("e",m,null,null,null,null,x);aT(l)}}}function aC(g,l,d,b,f,j){var h="",k=null,m={sec:l,_p:d};return j?(m.slk=f||"section",k=ay(b)):(b.setAttribute(G.anc_pos_attr,d),h=aD.getLT(b,g),h&&""!==h?k=ay(b):h="_ELINK_",m.slk=h),null!==k&&aD.aug(m,k.getAll()),m}function am(){var a={};return{addModule:function(b,c){a[aD.norm(b)]=c},addModules:function(g){var d=aD.isArr(g),j=[];d||aD.isStr(g)&&(g=Array(g),d=!0);for(var f in g){if(aD.hasOwn(g,f)){var h=d?g[f]:f,c=aD.trim(g[f]);if(this.exists(h)){aG('addModules() called with prev processed id:"'+h+'"')}else{var b=ad(c,h);b&&(this.addModule(h,b),j.push(b))}}}return j},getModules:function(){return a},refreshModule:function(c,f,d,e){var b=a[aD.norm(c)];b?b.refreshModule(c,f,d,e):aG("refreshModule called on unknown section: "+b)},removeModule:function(b){var c=a[aD.norm(b)];c&&(c.removeHandlers(),delete a[b])},destroy:function(){for(var b in a){aD.hasOwn(a,b)&&this.removeModule(b)}a={}},exists:function(b){return a[aD.norm(b)]}}}function ai(b,a){return aD.hasClass(b,"rapid_track_href")?"href":aD.hasClass(b,"rapid_track_text")?"text":aD.hasClass(b,"rapid_track_title")?"title":aD.hasClass(b,"rapid_track_id")?"id":a}function Q(a){return"input"===a.nodeName.toLowerCase()&&"submit"===aD.getAttribute(a,"type")}function ak(b,a){var c=ae(b,a);F=c,c&&aw.sendClick(c)}function ac(c,a,d){var b=aD.getAttribute;return a.target&&"_blank"===a.target.toLowerCase()||2===c.which||4===c.button||c.altKey||c.ctrlKey||c.shiftKey||c.metaKey||"on"===b(a,"data-nofollow")||b(a,"href")&&"javascript:"===b(a,"href").substr(0,11).toLowerCase()||aD.hasClass(a,G.nofollow_classname)||aD.hasClass(d,G.nofollow_classname)}function af(c,a,f,b){f=f||{};var d=null;return c?(d=YAHOO.i13n.EventTypes.getEventByName(c),f._E=d.getEventName(),a=f._E):f._E=a||"_",b&&(f.outcm=b),{type:d,name:a,data:f,outcome:b}}function ae(o,y){o=o||event;for(var h=aD.getTarget(o),b="button",k="input",w="",v=!1,x=null;h&&(w=h.nodeName.toLowerCase())&&"a"!==w&&w!==b&&!Q(h)&&!aD.hasClass(h,G.nonanchor_track_class);){h=h.parentNode}if(!h||aD.hasClass(h,G.no_click_listen)){return 0}if(aD.hasClass(h,G.nonanchor_track_class)){x={pos:0,sec:y.moduleName,slk:"_"};var A=ay(h,1);A&&aD.aug(x,A.getAll())}else{var j=aD.getAttribute(h,G.anc_pos_attr);if(x=y.getLinkAtPos(j),!x){return 0}w===k||w===b||ac(o,h,y.moduleElement)||(v=!0)}if(!x.tar){var q=aD.getAttribute(h,"href");q&&(x.tar=aD.extDomain(q)),q&&x.tar||(x.tar=aD.extDomain(window.document.location+""))}x.tar_uri||(x.tar_uri=h.pathname?h.pathname.substring(0,aD.MAX_VALUE_LENGTH):"");var m=y.moduleYLK;if(m){var g=m.getAll();aD.aug(x,g,function(a){return !(a in x)})}return x.A_xy=aD.xy(o),x.A_sr=aD.sr(),"contextmenu"==o.type&&(x.A_cl=3,v=!1),{data:x,event:o,moduleElement:y.moduleElement,targetElement:h,synch:v,hasTargetTop:h&&h.target&&"_top"===h.target.toLowerCase()}}function ao(d,b,g,c,f){var a={};return aD.aug(a,c),a.sec=d,a.slk=b,a._p=g,{data:a,outcome:f,event:null,moduleElement:null,targetElement:null,synch:!1,hasTargetTop:!1}}function ag(k,w,g){w||(w=document);for(var b=k.split(","),f=[],j=0,q=b.length;q>j;j++){for(var p=w.getElementsByTagName(b[j]),v=0,x=p.length;x>v;v++){var h=p[v];(!g||g.call(0,h))&&f.push(h)}}var m=f[0];return m?(m.sourceIndex?f.sort(function(c,a){return c.sourceIndex-a.sourceIndex}):m.compareDocumentPosition&&f.sort(function(c,a){return 3-(6&c.compareDocumentPosition(a))}),f):[]}function aj(h,m,f,b){m||(m=document);var d=h.split(",");f=f||[];var g=m.childNodes;if("true"!==aD.getAttribute(m,G.skip_attr)){for(var k=0,j=g.length;j>k;k++){var l=g[k];aD.isTagOfInterest(l,d)&&(!b||b.call(0,l))&&f.push(l),"true"!==aD.getAttribute(l,G.skip_attr)?aj(h,l,f,b):"true"===aD.getAttribute(l,G.skip_attr)&&f.push(l)}}var p=f[0];return p?(p.sourceIndex?f.sort(function(c,a){return c.sourceIndex-a.sourceIndex}):p.compareDocumentPosition&&f.sort(function(c,a){return 3-(6&c.compareDocumentPosition(a))}),f):[]}function ad(o,y){function d(m,B){var e=[];B=B||1;for(var c=0,a=m.length;a>c;c++){if("div"===m[c].tagName.toLowerCase()){var v=m[c],r=ay(v),s=aC(A,o,1,v,r.map.slk||q.map.slk,!0);p.push(s),e.push(s)}else{var s=aC(A,o,B++,m[c]);p.push(s),e.push(s)}}if("true"===aD.getAttribute(b,G.skip_attr)){var s=aC(A,o,1,v,q.map.slk,!0);p.push(s),e.push(s)}return e}var b=document.getElementById(y),j="a,button,input";if(!b){return aI("Specified module not in DOM: "+y),null}var q=ay(b),p=[],x=G.parse_dom?aj(j,b):ag(j,b),A=ai(b,G.lt_attr),h=x.length,k=aD.getAttribute(b,G.track_type);d(x);var w={moduleYLK:q,links:p,moduleName:o,trackType:k,moduleElement:b,refreshModule:function(B,m,v,C){function f(a){return !aD.getAttribute(a,G.anc_pos_attr)}var D=G.parse_dom?aj(j,document.getElementById(B),null,f):ag(j,document.getElementById(B),f);if(m===!0||D.length>0){var l=d(D,h+1);if(h+=D.length,G.USE_RAPID||C.event){var n={};aD.aug(n,this),n.links=l,(m===!0||v)&&aw.sendRefreshedContent(n,m,C)}}else{aD.ldbg&&ax("refreshModule("+B+") - no new links.")}m===!0&&(G.ywa&&aw.sendYWAPV(C.pp),G.apv&&al&&al.reInit())},removeHandlers:function(){aD.rmEvent(b,"click",g),G.track_right_click&&aD.rmEvent(b,"contextmenu",g)},getLinkAtPos:function(a){return a>p.length?null:p[a-1]},identifier:y},g=function(a){ak(a,w)};return aD.addEvent(b,"click",g),G.track_right_click&&aD.addEvent(b,"contextmenu",g),w}function ab(c,a,b){if(G.ldbg&&ax("beaconPageview called, pp="+aD.fData(c)),a&&!G.persist_asid&&au(),G.USE_RAPID&&aw.sendRapidNoDelay([],!0,c,null,b),G.ywa){var d=az.makeFromPP(G.keys);d.absorb(c),aw.sendYWAPV(d.getAll())}G.apv&&null!=al&&al.reInit()}function Z(){var g=null,d=function(){var a=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;return a},j=lastApvTime=(new Date).getTime(),f=d(),h=-1,c=function(){var m=d(),o=-1===h?m-f:m-h,l=o>0?0:1;if(Math.abs(o)>G.apv_px){var k={A_apv:1,A_apx:m,A_asd:l};ab(k,!1,!0),h=m,lastApvTime=(new Date).getTime()}},b=function(){null!=g&&clearTimeout(g);var a=(new Date).getTime();G.apv_time>a-j&&(f=d(),lastApvTime=a),g=setTimeout(function(){c()},G.apv_time)};aD.addEvent(window,"scroll",b),this.reInit=function(){f=d(),h=-1,j=lastApvTime=(new Date).getTime()},this.destroy=function(){aD.rmEvent(window,"scroll",b)}}function aa(){aA(),G.ldbg&&ax("tracked_mods: "+aD.fData(G.tracked_mods));var a=ah.addModules(G.tracked_mods);G.USE_RAPID&&G.pageview_on_init&&aw.sendRapidNoDelay(a,1==G.client_only),G.ywa&&G.pageview_on_init&&aw.sendYWAPV(),G.apv&&aD.executeOnLoad(function(){al=new Z})}function J(A){var I=navigator.userAgent,j=Object.prototype,b=I.match(/MSIE\s[^;]*/)||I.match(/Trident\/[^;]*/)?1:0,f=/KHTML/.test(I)?1:0,w=null!==I.match(/(iPhone|iPad|iPod)/gi),C=(I.indexOf("android")>-1,w&&null!==I.match(/AppleWebKit/)),B=null!==I.match(/AppleWebKit/)&&null===I.match(/Chrome/),H=RegExp(/\ufeff|\uffef|[\u0000-\u001f]|[\ue000-\uf8ff]/g),L=RegExp(/[\u007f-\u00a0]|\s{2,}/g),q="http://",d="https://",E="class",k=" ",x=300,D=-1,y="https:"===window.location.protocol;return b&&(D=navigator.appVersion.match(/MSIE/)?parseFloat(navigator.appVersion.split("MSIE")[1]):parseFloat(navigator.appVersion.split("; rv:")[1])),{ca:"%01",cb:"%02",cc:"%03",cd:"%04",ce:"%05",cf:"%06",cg:"%07",ch:"%08",ylk_kv_delim:A.ylk_kv_delim||":",ylk_pair_delim:A.ylk_pair_delim||";",DATA_ACTION:"data-action",data_action_outcome:"data-action-outcome",isIE:b,isIOSSafari:C,isSafari:B,isWebkit:f,ieV:D,MAX_VALUE_LENGTH:x,hasOwn:function(c,a){return j.hasOwnProperty.call(c,a)},enc:encodeURIComponent,dec:decodeURIComponent,curProto:function(){return y?d:q},isSecure:function(){return y},strip:function(m){for(var h={"/":"P",";":"1","?":"P","&":"1","#":"P"},s={url:m,clean:"",cookie:"",keys:[]},l=0;-1!==m.indexOf("_yl",l);){var p=m.indexOf("_yl",l);if(p>l&&(s.clean+=m.slice(l,p-1)),l=p+3,h[m.charAt(p-1)]&&"="===m.charAt(p+4)){s.ult=1;var g="_yl"+m.charAt(p+3),c="";for(p+=5;m.length>p&&!h[m.charAt(p)];p++){c+=m.charAt(p)}s.keys.push(g),s[g]=c,"_ylv"!==g&&(s.cookie+="&"+g+"="+c),h[m.charAt(p)]&&"P"===h[m.charAt(p)]&&(s.clean+=m.charAt(p)),l=p+1}else{s.clean+=m.slice(p-1,l)}}return s.ult&&(s.cookie=s.cookie.substr(1),s.clean+=m.substr(l),"0"===s._ylv),s},prevDef:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},appBodyEl:function(a){document.body.appendChild(a)},rmBodyEl:function(a){document.body.removeChild(a)},sa:function(c,a,g){c.setAttribute(a,g)},make:function(g,a){var h=document.createElement(g);if(a&&this.isObj(a)){for(var c in a){this.sa(h,c,a[c])}}return h},getXHR:function(){function c(){for(var h=!1,m=a.length,g=0;m>g;g++){try{h=a[g]()}catch(l){continue}break}return h}var a=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];return c()},hasLS:function(){try{return"localStorage" in window&&null!==window.localStorage}catch(a){return !1}},hasCORS:function(){return b&&10>D?!1:"withCredentials" in new XMLHttpRequest?!0:"undefined"!=typeof XDomainRequest?!0:!1},hasWorkers:function(){return !!window.Worker},clearCookie:function(c,a,g){a=a?a:"/",g=g?g:"",document.cookie=c+"= ; path="+a+"; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Domain="+g+";"},uniqConcat:function(h,c,m){function g(s){for(var o=0,p=s.length;p>o;o++){var n=s[o];if(n){var u=m(n);a[u]||(a[u]=1,l.push(n))}}}var l=[],a={};return g(h),g(c),l},trim:function(a){return a?a.replace(/^\s\s*/,"").replace(/\s\s*$/,""):a},extDomain:function(c){var a=c.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i);return a&&a[1]},getAttribute:function(c,a){var g="";return document.documentElement.hasAttribute||a!==E||(a="className"),c&&c.getAttribute&&(g=c.getAttribute(a,2)),g},isDate:function(a){return"[object Date]"===j.toString.call(a)},isArr:function(a){return"[object Array]"===j.toString.apply(a)},isStr:function(a){return"string"==typeof a},isNum:function(a){return"number"==typeof a&&isFinite(a)},isNumeric:function(a){return a-0==a&&(a+"").replace(/^\s+|\s+$/g,"").length>0},isObj:function(a){return a&&"object"==typeof a},rTN:function(c){try{if(c&&3===c.nodeType){return c.parentNode}}catch(a){aG(a)}return c},getTarget:function(c){var a=c.target||c.srcElement;return this.rTN(a)},addEvent:function(c,a,g){c.addEventListener?c.addEventListener(a,g,!1):c.attachEvent&&c.attachEvent("on"+a,g)},rmEvent:function(c,a,g){c.removeEventListener?c.removeEventListener(a,g,!1):c.detachEvent&&c.detachEvent("on"+a,g)},aug:function(g,a,h){if(a){for(var c in a){if(this.hasOwn(a,c)){if(h&&!h.call(null,c)){continue}g[c]=a[c]}}}},rmProto:function(a){return a?a.substr(0,7)===q?a.substr(7,a.length):a.substr(0,8)===d?a.substr(8,a.length):a:""},norm:function(a){return null===a?"":(a=""+a,this.trim(a.replace(L," ").replace(H,"")))},_hasClass:function(g,a){var h,c=!1;return g&&a&&(h=this.getAttribute(g,E)||"",c=a.exec?a.test(h):a&&(k+h+k).indexOf(k+a+k)>-1),c},hasClass:function(g,a){if(this.isArr(a)){for(var h=0,c=a.length;c>h;h++){if(this._hasClass(g,a[h])){return !0}}return !1}return this.isStr(a)?this._hasClass(g,a):!1},quote:function(h){var c=/["\\\x00-\x1f\x7f-\x9f]/g,m={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},g='"',l='"';if(h.match(c)){var a=h.replace(c,function(o){var n=m[o];return"string"==typeof n?n:(n=o.charCodeAt(),"\\u00"+Math.floor(n/16).toString(16)+(o%16).toString(16))});return g+a+g}return l+h+l},sfy:function(T){if(!T&&""!==T){return{}}var aN,N=typeof T;if("undefined"===N){return"undefined"}if("number"===N||"boolean"===N){return""+T}if("string"===N){return this.quote(T)}if("function"==typeof T.toJSON){return this.sfy(T.toJSON())}if(this.isDate(T)){var g=T.getUTCMonth()+1,M=T.getUTCDate(),R=T.getUTCFullYear(),W=T.getUTCHours(),V=T.getUTCMinutes(),Y=T.getUTCSeconds(),aO=T.getUTCMilliseconds();return 10>g&&(g="0"+g),10>M&&(M="0"+M),10>W&&(W="0"+W),10>V&&(V="0"+V),10>Y&&(Y="0"+Y),100>aO&&(aO="0"+aO),10>aO&&(aO="0"+aO),'"'+R+"-"+g+"-"+M+"T"+W+":"+V+":"+Y+"."+aO+'Z"'}if(aN=[],this.isArr(T)){for(var P=0,U=T.length;U>P;P++){aN.push(this.sfy(T[P]))}return"["+aN.join(",")+"]"}if("object"===N){for(var S in T){if(this.hasOwn(T,S)){var h=typeof S,X=null;if("string"===h){X=this.quote(S)}else{if("number"!==h){continue}X='"'+S+'"'}if(h=typeof T[S],"function"!==h&&"undefined"!==h){var O="";O=null===T[S]?'""':0===T[S]?0:this.sfy(T[S]),aN.push(X+":"+O)}}}return"{"+aN.join(",")+"}"}},toJSON:function(){var a=null;return function(c){return a||(a="object"==typeof JSON&&JSON.stringify&&6!==D&&7!==D&&8!==D?JSON.stringify:this.sfy),a.call(this,c)}}(),executeOnLoad:function(m){var h=!1,s=function(a){(document.addEventListener||a&&"load"===a.type||"complete"===document.readyState)&&(h=!0,l(),m.call(this))},l=function(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",s,!1),window.removeEventListener("load",s,!1)):(document.detachEvent("onreadystatechange",s),window.detachEvent("onload",s))};if("complete"===document.readyState){setTimeout(s)}else{if(document.addEventListener){document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)}else{document.attachEvent("onreadystatechange",s),window.attachEvent("onload",s);var p=!1;try{p=null==window.frameElement&&document.documentElement}catch(g){}p&&p.doScroll&&function c(){if(!h){try{p.doScroll("left")}catch(a){return setTimeout(c,50)}l(),m.call(this)}}()}}},getLinkContent:function(g){for(var a,h=0,c="";(a=g.childNodes[h])&&a;h++){1===a.nodeType&&("img"===a.nodeName.toLowerCase()&&(c+=(this.getAttribute(a,"alt")||"")+" "),c+=this.getLinkContent(a))}return c},fData:function(a){return this.isStr(a)?a:this.toJSON(a)},getLT:function(c,a){if(!c){return"_"}var g="";return a=a.toLowerCase(),g="input"===c.nodeName.toLowerCase()?this.getAttribute(c,"value"):"text"===a?f?c.textContent:c.innerText?c.innerText:c.textContent:"href"===a?this.rmProto(this.getAttribute(c,"href")):this.getAttribute(c,a)||"",g=this.norm(g),""===g&&(g=this.norm(this.getLinkContent(c)),g||(g=this.norm(this.rmProto(this.getAttribute(c,"href"))))),""===g?"_":g},clref:function(c){if(0!==c.indexOf(q)&&0!==c.indexOf(d)){return""}var a=this.strip(c);return a.clean||a.url},cold:function(){return screen?screen.colorDepth||screen.pixelDepth:"unknown"},sr:function(a){return screen?screen.width+(a?a:",")+screen.height:""},xy:function(g){function c(){var n=document.documentElement,m=document.body;return n&&(n.scrollTop||n.scrollLeft)?[n.scrollTop,n.scrollLeft]:m?[m.scrollTop,m.scrollLeft]:[0,0]}var l=null,h=g.pageX,a=g.pageY;return b&&(l=c()),h||0===h||(h=g.clientX||0,b&&(h+=l[1])),a||0===a||(a=g.clientY||0,b&&(a+=l[0])),h+","+a},hasCC:function(g){for(var a=0,h=g.length;h>a;a++){var c=g.charCodeAt(a);if(32>c||"="===c){return !0}}return !1},isValidPair:function(c,a){return c.length>8||a.length>aD.MAX_VALUE_LENGTH?(aI("Invalid key/value pair ("+c+"="+a+") Size must be < 8/300 respectively."),!1):!0},ser:function(p,l){if(!p){return""}void 0===typeof l&&(l=!0);var v=[],m="";for(var s in p){if(this.hasOwn(p,s)){var h=s,g=p[s];if(null===h||null===g){continue}if(h+="",g+="",g.length>aD.MAX_VALUE_LENGTH&&(g=g.substring(0,aD.MAX_VALUE_LENGTH)),!this.isValidPair(h,g)){continue}if(!this.hasCC(h)&&!this.hasCC(g)){m="",g=this.trim(g),""!==g&&" "!==g||!l||(g="_");try{m=this.enc(h+""+g),aD.isSafari&&(m=m.replace(/'/g,"%27"))}catch(u){m="_ERR_ENCODE_",aG(u)}v.push(m)}}}return v.join(this.cd)},rand:function(){for(var g=0,a="",h="";16>g++;){var c=Math.floor(62*Math.random());h=10>c?c:String.fromCharCode(36>c?c+55:c+61),a+=h}return a},tms:function(){return +new Date},cookEn:function(){var c=navigator.cookieEnabled?1:0,a="rapidtc";return void 0!==navigator.cookieEnabled||c||(document.cookie=a+"=1",c=-1!=document.cookie.indexOf("testcookie")?!0:!1,document.cookie=a+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"),c},isResCF:function(c){var a={14:1,15:1,18:1,19:1,20:1};return a[c]},isTagOfInterest:function(g,a){for(var h=0,c=a.length;c>h;h++){if(g.tagName&&g.tagName.toLowerCase()==a[h].toLowerCase()){return !0}}return !1}}}("undefined"==typeof console||console.log===void 0)&&(console={log:function(){}}),console.error===void 0&&(console.error=console.log),console.warn===void 0&&(console.warn=console.log),at.prototype={ser:function(){return aD.ser(this.map)},set:function(b,a){var c=a?aD.norm(a):a;(void 0===c||null===c)&&(c=""),null!==c&&aD.isStr(c)&&(c=c.replace(/\\/g,"\\\\")),c.length>aD.MAX_VALUE_LENGTH&&(c=c.substring(0,aD.MAX_VALUE_LENGTH)),aD.isValidPair(b,c)&&(this.map[aD.norm(b)]=c,this.count++)},get:function(a){return this.map[a]},getAll:function(){return this.map},absorb:function(b){if(b&&aD.isObj(b)){for(var a in b){aD.hasOwn(b,a)&&this.set(a,b[a])}}},absorb_filter:function(b,a){if(b&&aD.isObj(b)){for(var c in b){(!a||a.call(null,c))&&aD.hasOwn(b,c)&&this.set(c,b[c])}}},getSize:function(){return this.count}},az.prototype=new at,az.prototype.constructor=at,av.prototype=new at,av.prototype.constructor=at,az.makeFromPP=function(b){var a=new az;return b&&a.absorb(b.getAll()),a};var z=new az,aD=J(aH),ah=new am,K={none:0,gzip:1,lzw:2,deflate:3};aq.prototype={getYWAFPC:function(){if(!G.ywa){return null}var c=this.cookieMap["fpc"+G.ywa.project_id],a=this.cookieMap.fpc,f=ap(a),b=null;if(a&&(b=f[G.ywa.project_id]),c&&(aD.clearCookie("fpc"+G.ywa.project_id),!b)){f[G.ywa.project_id]=c;var d=an(f);aM("fpc",d,315360000),b=c}return b?b:null},getCookieByName:function(a){return this.cookieMap[a]},getYWADPID:function(){if(G.ywa){var d,b="ywandp",g="ywadp"+G.ywa.project_id,c=ap(this.cookieMap[b]),f=c[G.ywa.project_id];if(void 0===f||null===f||""===f){d=this.cookieMap[g],c[G.ywa.project_id]=d?d:aF(),f=c[G.ywa.project_id];var a=an(c);aM(b,a,315360000),this.cookieMap[b]=a}G.ywa_dpid=f}}};var G=ar(aH),aw=aK(),al=null,F=null;return aa(),{init:function(){},beaconEvent:function(c,a,d){G.ldbg&&ax('beaconEvent: event="'+c+'" data='+aD.fData(a)+" outcome="+d);var b=af(0,c,a,d);aw.sendEvents(b)},beaconRichView:function(b,a){G.ldbg&&ax("beaconRichView: outcome="+a);var c=af("richview","",b,a);aw.sendEvents(c)},beaconClick:function(c,a,f,b,d){!b&&d&&(b={}),d&&(b.outcm=d),aw.sendClick(ao(c,a,f,b,d))},addModules:function(d,b,g){G.ldbg&&ax("addModules() called: mods="+aD.fData(d)+" isPage: "+b),g=g||{};var c={A_am:1};g.pp&&aD.aug(c,g.pp);var f=!1;switch(b||(b=!1),b){case 1:case"1":case !0:b=!0;break;case 2:case"2":f=!0,b=!1,g.event=af("contentmodification","",{});break;case 0:case"0":case !1:default:b=!1}if(!G.yql_enabled){return b?ab(c,!1):g.event&&this.beaconRichView(c,g.event.outcome),void 0}g&&g.event&&b&&(aG("Cannot track event type and pageview at same time."),g.event=null);var a=ah.addModules(d);(0!==a.length||g.event)&&((G.USE_RAPID||g.event)&&(b||g.event||g.pp?(g.event&&g.event.data&&aD.aug(c,g.event.data),aw.sendRapidNoDelay(a,b,c,g)):aw.sendRapid(a,b,c,g)),b===!0&&(G.ywa&&aw.sendYWAPV(c),G.apv&&al&&al.reInit()))},addModulesAsRichView:function(c,a){var d=af("richview","",{},a),b=!0;this.addModules(c,!1,{event:d}),G.yql_enabled||(b=!1),G.ywa&&b&&aw.sendYWAEvent(d)},refreshModule:function(g,d,j,f){G.ldbg&&ax("refreshModule called: mod="+g+" isPV: "+d+" sendLinks: "+j+" options: "+aD.fData(f));var h=!1;switch(f=f||{},d||(d=!1),d){case 1:case"1":case !0:d=!0;break;case 2:case"2":h=!0,d=!1,f.event=af("contentmodification","",{});break;case 0:case"0":case !1:default:d=!1}if(!G.yql_enabled){var c=f.pp||{};return d?ab(c,!1):f.event&&this.beaconRichView(c,f.event.outcome),void 0}var b=j===!1?!1:!0;d&&f&&f.event&&(f.event=null),ah.refreshModule(g,d,b,f)},refreshModuleAsRichView:function(c,a){var d=af("richview","",{},a),b=!0;this.refreshModule(c,!1,!0,{event:d}),G.yql_enabled||(b=!1),G.ywa&&b&&aw.sendYWAEvent(d)},removeModule:function(a){ah.removeModule(a)},isModuleTracked:function(a){return G.ldbg&&ax("isTracked called: "+a),ah&&void 0!==ah.exists(a)},destroy:function(){ax("destroy called"),ah.destroy(),null!==al&&(al.destroy(),al=null)},reInit:function(a){return G.ldbg&&ax("reInit called with: "+aD.fData(a)),a=a||{},a.spaceid?(z=new az,G=ar(a),aD=J(a),void 0):(aG("Invalid spid in reInit config: "+aD.fData(a)),void 0)},beaconPageview:function(a){ab(a,!0)},beaconECommerce:function(b,a){G.ywa&&aw.sendYWAECommerce(b,a)},beaconInternalSearch:function(b,a){G.ywa&&aw.sendInternalSearch(b,a)},getCurrentSID:function(){return z.get("A_sid")},notifyHistoryPushStateCalled:function(){browserEventManager.historyStateChanged()},beaconLinkViews:function(g,f,k){G.ldbg&&ax("beaconLinkViews() called: eventType: "+b),k=k||{};var h={A_lv:2};k.pp&&aD.aug(h,k.pp);var d=!1,b=!1;switch(f){case 1:case"1":case !0:b=!0;break;case 2:case"2":d=!0,b=!1,k.event=af("contentmodification","",{});break;case 0:case"0":case !1:default:b=!1}if(!G.yql_enabled){return b?ab(h,!1):k.event&&this.beaconRichView(h,k.event.outcome),void 0}if(k&&k.event&&b&&(aG("Cannot track event type and pageview at same time."),k.event=null),0!==g.length||k.event){var j=[];g.forEach(function(l){var c=new av;c.absorb_filter(l,function(n){return"sec"!=n&&"_links"!=n});var p=[],m=1;l._links.forEach(function(e){var n={sec:l.sec,_p:m++};aD.aug(n,e),p.push(n)});var a={moduleName:l.sec,moduleYLK:c,links:p};j.push(a)}),(G.USE_RAPID||k.event)&&(b||k.event||k.pp?(k.event&&k.event.data&&aD.aug(h,k.event.data),aw.sendRapidNoDelay(j,b,h,k)):aw.sendRapid(j,b,h,k))}}}};YUI.add("rapid-tracker",function(d){var c=false,a;var b={ok:c,_queue:[],init:function(h){var j,f,g;if(!c){d.one("body").on("click",function(l){var i=l.target.ancestor(".ywa-track",true);if(i){b.beacon(i.getAttribute("data-ywa-name"))}})}try{a=new (YAHOO.i13n.Rapid||YAHOO.i13n.Track)(h);a.init();d.mix(this,a);for(j=0,f=this._queue.length;j<f;j++){g=this._queue.shift();this.beaconEvent(g.key,g.data)}c=true}catch(k){c=false}},beacon:function(f,e){if(!e){e=""}if(!a){this._queue.push({key:f,data:e})}else{a.beaconEvent(f,e)}}};d.rapidTracker=b},"1.0.0");/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("intl",function(e,t){var n={},r="yuiRootLang",i="yuiActiveLang",s=[];e.mix(e.namespace("Intl"),{_mod:function(e){return n[e]||(n[e]={}),n[e]},setLang:function(e,t){var n=this._mod(e),s=n[i],o=!!n[t];return o&&t!==s&&(n[i]=t,this.fire("intl:langChange",{module:e,prevVal:s,newVal:t===r?"":t})),o},getLang:function(e){var t=this._mod(e)[i];return t===r?"":t},add:function(e,t,n){t=t||r,this._mod(e)[t]=n,this.setLang(e,t)},get:function(t,n,r){var s=this._mod(t),o;return r=r||s[i],o=s[r]||{},n?o[n]:e.merge(o)},getAvailableLangs:function(t){var n=e.Env._loader,r=n&&n.moduleInfo[t],i=r&&r.lang;return i?i.concat():s}}),e.augment(e.Intl,e.EventTarget),e.Intl.publish("intl:langChange",{emitFacade:!0})},"3.11.0",{requires:["intl-base","event-custom"]});
YUI.add("cache-simple",function(a){CacheSimple=function(){};CacheSimple.prototype={cache:{},add:function(b,c,d){this.cache[b]={response:c,payload:d}},retrieve:function(b){return this.cache[b]},clear:function(){this.cache={}}};a.CacheSimple=CacheSimple},"0.0.1");YUI.add("node-visibility",function(b){var p,n,g,l,o,a,q,r,e=window,t=window.document,s,i;n={resize:[],scroll:[]};i=(F.config.flickr.flags.enable_uh_eyebrow&&b.one("#eyebrow"))?b.one("#eyebrow").get("offsetHeight"):0;s=(F.config.flickr.flags.enable_global_nav&&b.one("#global-nav"))?b.one("#global-nav").get("offsetHeight")+i:0;function k(u){b.Array.each(n.scroll,function(v){v(u)})}function c(u){b.Array.each(n.resize,function(v){v(u)})}g={register:function(v,w){var u=n[v].push(w);return{detach:function(){n[v][u]=function(){}}}}};b.on("scroll",b.betterThrottle(k,50));b.on("resize",b.betterThrottle(c,50));function j(){var u=j.region;if(!u){u={};u.height=b.DOM.winHeight();u.width=b.DOM.winWidth();u.top=Math.max(t.body.scrollTop||0,t.documentElement.scrollTop||0,e.pageYOffset||0);u.left=Math.max(t.body.scrollLeft||0,t.documentElement.scrollLeft||0,e.pageXOffset||0);u.right=u.left+u.width;u.bottom=u.top+u.height;u[0]=u.top;u[1]=u.left;j.region=u}return u}function d(){j.region=undefined}g.register("resize",d);g.register("scroll",d);function m(v,u){var w={};if(b.Lang.isNumber(u[0])){w.left=v.left-u[0];w.right=v.right+u[0];w.width=v.width+u[0]*2;if(w.width<1){w.width=1;w.left=Math.floor((v.right+v.left)/2);w.right=w.left+1}w[0]=w.top}if(b.Lang.isNumber(u[1])){w.top=v.top-u[1];w.bottom=v.bottom+u[1];w.height=v.height+u[1]*2;if(w.height<1){w.height=1;w.top=Math.floor((v.bottom+v.top)/2);w.bottom=w.top+1}w[1]=w.left}return w}l=function(w,v){var u,x;for(u=w.ancestor();u;u=u.ancestor()){x=u.getStyle("overflow");if(x!==""&&x!=="visible"){v=v||w.get("region");if(!w.inRegion(u,false,v)){return true}}}return false};function f(v){var u,w;if(!f.cache){f.cache=new b.CacheSimple()}u=f.cache;if(b.Lang.isString(v)){w=u.retrieve(v);if(w&&w.response&&(new Date()).getTime()<w.payload.expires){return w.response}else{return null}}else{return u}}function h(u,w){var v=500;if(!b.Lang.isString(u)){return false}f().add(u,w,{expires:(new Date()).getTime()+v});return true}o=function(x,u){var v,A,y,w,z;v=true;u=u?q(u):[0,0];y=x.toString();z=f(y);w=z||{};if(v){if(!b.Lang.isString(w.display)){w.display=x.getStyle("display")}if(!b.Lang.isNumber(w.offsetHeight)){w.offsetHeight=x.get("offsetHeight")}if(!b.Lang.isNumber(w.offsetWidth)){w.offsetWidth=x.get("offsetWidth")}if(w.display==="block"&&(w.offsetHeight===0||w.offsetWidth===0)){v=false}}if(v){A=j();if(!w.region){w.region=x.get("region")}if(!x.inRegion(m(A,u),false,w.region)){v=false}}if(v){if(!b.Lang.isBoolean(w.hidden_by_overflow)){w.hidden_by_overflow=l(x,w.region)}if(w.hidden_by_overflow){v=false}}if(!z){h(y,w)}return v};a=(function(){var u=false,w={},C,v,D,B,y,x,A,z;C=function(){if(!u){A=g.register("scroll",y);z=g.register("resize",y);u=true}};v=function(){if(u){A.detach();z.detach();u=false}};D=function(H){var E,G;if(w[H]){delete w[H];G=true;for(E in w){if(w.hasOwnProperty(E)){G=false;break}}if(G){v()}return true}return undefined};B=function(G){var E=w[G];if(b.Lang.isObject(E)){if(o(E.node,E.threshold)){E.callback.call(E.oScope,E.arg);D(G)}}};y=function(){for(var E in w){if(w.hasOwnProperty(E)){B(E)}}};x=function(H,G,E){if(b.Lang.isObject(w[H])){w[H][G]=E;return true}return undefined};return function(J,L,G,E,H){var I,K;J=b.one(J);if(!b.Lang.isObject(J)||!b.Lang.isFunction(L)){return false}G=G?q(G):[0,0];if(!E){E=J}if(H===true){H=E}if(!b.Lang.isObject(H)){H=window}C();I={node:J,callback:L,threshold:G,arg:E,oScope:H};K=b.guid();w[K]=I;b.later(0,window,B,K);return{cancel:function(){return D(K)},set:function(N,M){return x(K,N,M)},check:function(){return B(K)}}}}());q=function(u){if(b.Lang.isNumber(u)){u=[u,u]}if(!b.Lang.isArray(u)||!b.Lang.isNumber(u[0])||!b.Lang.isNumber(u[1])){u=[0,0]}return u};r=function(v,u,A,z,x){var w,B;if(!v instanceof b.Node){return false}if(!v.inViewportRegion(true)||x){if(typeof u==="object"){align_to_bottom=u.bottom;z=u.onfinish;u=u.top}else{u=!!u}A=b.Lang.isNumber(A)?A:0;e.setTimeout(function(){if(!b.Anim){v.scrollIntoView(u);if(z&&typeof z==="function"){z()}}else{if(u){B=v.getY()-A}else{if(align_to_bottom){B=v.getY()-v.get("winHeight")+5+(2*v.get("offsetHeight"))+A}else{B=v.getY()+v.get("offsetHeight")-v.get("winHeight")+5}}B-=s;w=new b.Anim({node:b.one("window"),to:{scroll:[0,B]},duration:0.3,easing:b.Easing.easeOut});w.on("end",function(){if(z&&typeof z==="function"){z()}});w.run()}},0)}return v};p=function(u){this._node=u.host};p.NS="vis";p.NAME="NodeVisibilityPlugin";p.prototype={isVisible:function(u){return o(this._node,u)},onVisible:function(x,v,u,w){return a(this._node,x,v,u,w)},animScrollIntoView:function(u,w,v){return r(this._node,u,w,null,v)},destroy:function(){}};b.Node.plug(p);b.NodeVisibility=p},"0.0.1",{requires:["node","node-pluginhost","better-throttle","cache-simple"],optional:["anim","anim-scroll"]});(function(){var a="retry-image-on-error";YUI.add(a,function(g){var f=5,c=250,e={};function d(k,l,j){var i=0,m=k.get("id");if(!m){m=g.guid();k.set("id",m)}e[m]=l;function h(){if(i===0){b(l,"error")}i++;if(i<=f){if(l===e[m]){g.later(c,null,function(){k.setAttribute("src",l)})}}}k.on("error",h);k.on("load",function(){if(i>0){b(l,"success")}});if(j){h()}}function b(k,i){var j,h;j=/^https?:\/\/farm(\d+)/.exec(k);if(j&&j[1]){h=j[1];g.use("flanal",function(l){l.flanal("flickr.retry_image.farm"+h+"_"+i,"farm"+h+"_"+i);l.flanal("flickr.retry_image."+i,i)})}}g.retryImageOnError=d},"0.0.1",{requires:F.config.modules[a].requires||[],optional:F.config.modules[a].optional||[]})}());(function(){var a="defer-images";YUI.add(a,function(d){var j,l,h,e,g,i,k,c,b,f;j="data-defer-src";l=function(m,n){if(d.Lang.isString(m)){m=d.all(m)}if(m instanceof d.Node){m=d.all([m._node])}if(!m instanceof d.NodeList||!m.size()){return false}if(!d.Lang.isObject(n)){n={}}if(!d.Lang.isNumber(n.threshold)){n.threshold=0}d.later(20,null,function(){m.each(function(q,p,o){q.onVisibleHandle=q.vis.onVisible(i,n.threshold,{node:q,tag:e(q),src:g(q)})})});return{unregister:function(){h(m)},load:function(){k(m)},loadVisible:function(){b(m)},setThreshold:function(o){f(m,o)}}};h=function(m){if(m instanceof d.Node){m=d.all([m._node])}m.each(function(p,o,n){if(d.Lang.isObject(p.onVisibleHandle)&&d.Lang.isFunction(p.onVisibleHandle.cancel)){p.onVisibleHandle.cancel()}p.removeAttribute(j)})};e=function(m){return m.get("tagName").toLowerCase()};g=function(m){return m.getAttribute(j)};i=function(m){c(m.node,m.tag,m.src)};k=function(m){if(m instanceof d.Node){m=d.all([m._node])}m.each(function(q,p,o){var n,r;n=e(q);r=g(q);c(q,n,r)})};c=function(o,m,p){if(o&&m&&p){if(m==="img"){d.retryImageOnError(o,p);var n=new Image();n.src=p;if(n.src.match(/farm[0-9]+\.staticflickr/)){o.setStyle("opacity","0");n.onload=function(){o.setStyle("transition","opacity .25s ease-in-out");if(!o.getAttribute("data-upscaled")){o.setAttribute("src",p)}o.setStyle("opacity",1);d.fire("deferImages:imageLoad",{src:p,node:o,type:"src"})}}else{o.setAttribute("src",p)}}else{o.setStyle("backgroundImage","url("+p+")");d.fire("deferImages:imageLoad",{src:p,node:o,type:"background"})}}h(o)};b=function(m){m.each(function(p,o,n){if(d.Lang.isFunction(p.onVisibleHandle.check)){p.onVisibleHandle.check()}})};f=function(m,n){m.each(function(q,p,o){if(d.Lang.isFunction(q.onVisibleHandle.set)){q.onVisibleHandle.set("threshold",n)}})};d.deferImages=l},"0.0.1",{requires:F.config.modules[a].requires||[],optional:F.config.modules[a].optional||[]})}());(function(){var a="flanal";YUI.add(a,function(c){function b(e,g,d){d=d||{};var f="/flanal_event.gne?target="+e+"&title="+g+("value" in d?"&value="+d.value:"")+("units" in d?"&units="+d.units:"")+"&rand="+Math.random();if(d.sync){c.use("io",function(h){h.io(f,{sync:true})})}else{(new Image()).src=f}c.log(e+" ("+g+")","info","flanal")}c.flanal=b},"0.0.1",{requires:F.config.modules[a].requires||[],optional:F.config.modules[a].optional||[]})}());/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("io-form",function(e,t){var n=encodeURIComponent;e.IO.stringify=function(t,n){n=n||{};var r=e.IO.prototype._serialize({id:t,useDisabled:n.useDisabled},n.extra&&typeof n.extra=="object"?e.QueryString.stringify(n.extra):n.extra);return r},e.mix(e.IO.prototype,{_serialize:function(t,r){var i=[],s=t.useDisabled||!1,o=0,u=typeof t.id=="string"?t.id:t.id.getAttribute("id"),a,f,l,c,h,p,d,v,m,g;u||(u=e.guid("io:"),t.id.setAttribute("id",u)),f=e.config.doc.getElementById(u);if(!f||!f.elements)return r||"";for(p=0,d=f.elements.length;p<d;++p){a=f.elements[p],h=a.disabled,l=a.name;if(s?l:l&&!h){l=n(l)+"=",c=n(a.value);switch(a.type){case"select-one":a.selectedIndex>-1&&(g=a.options[a.selectedIndex],i[o++]=l+n(g.attributes.value&&g.attributes.value.specified?g.value:g.text));break;case"select-multiple":if(a.selectedIndex>-1)for(v=a.selectedIndex,m=a.options.length;v<m;++v)g=a.options[v],g.selected&&(i[o++]=l+n(g.attributes.value&&g.attributes.value.specified?g.value:g.text));break;case"radio":case"checkbox":a.checked&&(i[o++]=l+c);break;case"file":case undefined:case"reset":case"button":break;case"submit":default:i[o++]=l+c}}}return r&&(i[o++]=r),i.join("&")}},!0)},"3.11.0",{requires:["io-base","node-base"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("io-upload-iframe",function(e,t){function u(t,n,r){var i=e.Node.create('<iframe src="#" id="io_iframe'+t.id+'" name="io_iframe'+t.id+'" />');i._node.style.position="absolute",i._node.style.top="-1000px",i._node.style.left="-1000px",e.one("body").appendChild(i),e.on("load",function(){r._uploadComplete(t,n)},"#io_iframe"+t.id)}function a(t){e.Event.purgeElement("#io_iframe"+t,!1),e.one("body").removeChild(e.one("#io_iframe"+t))}var n=e.config.win,r=e.config.doc,i=r.documentMode&&r.documentMode>=8,s=decodeURIComponent,o=e.IO.prototype.end;e.mix(e.IO.prototype,{_addData:function(t,n){e.Lang.isObject(n)&&(n=e.QueryString.stringify(n));var i=[],o=n.split("="),u,a;for(u=0,a=o.length-1;u<a;u++)i[u]=r.createElement("input"),i[u].type="hidden",i[u].name=s(o[u].substring(o[u].lastIndexOf("&")+1)),i[u].value=u+1===a?s(o[u+1]):s(o[u+1].substring(0,o[u+1].lastIndexOf("&"))),t.appendChild(i[u]);return i},_removeData:function(e,t){var n,r;for(n=0,r=t.length;n<r;n++)e.removeChild(t[n])},_setAttrs:function(t,n,r){this._originalFormAttrs={action:t.getAttribute("action"),target:t.getAttribute("target")},t.setAttribute("action",r),t.setAttribute("method","POST"),t.setAttribute("target","io_iframe"+n),t.setAttribute(e.UA.ie&&!i?"encoding":"enctype","multipart/form-data")},_resetAttrs:function(t,n){e.Object.each(n,function(e,n){e?t.setAttribute(n,e):t.removeAttribute(n)})},_startUploadTimeout:function(e,t){var r=this;r._timeout[e.id]=n.setTimeout(function(){e.status=0,e.statusText="timeout",r.complete(e,t),r.end(e,t)},t.timeout)},_clearUploadTimeout:function(e){var t=this;n.clearTimeout(t._timeout[e]),delete t._timeout[e]},_uploadComplete:function(t,r){var i=this,s=e.one("#io_iframe"+t.id).get("contentWindow.document"),o=s.one("body"),u;r.timeout&&i._clearUploadTimeout(t.id);try{o?(u=o.one("pre:first-child"),t.c.responseText=u?u.get("text"):o.get("text")):t.c.responseXML=s._node}catch(f){t.e="upload failure"}i.complete(t,r),i.end(t,r),n.setTimeout(function(){a(t.id)},0)},_upload:function(t,n,i){var s=this,o=typeof i.form.id=="string"?r.getElementById(i.form.id):i.form.id,u;return s._setAttrs(o,t.id,n),i.data&&(u=s._addData(o,i.data)),i.timeout&&s._startUploadTimeout(t,i),o.submit(),s.start(t,i),i.data&&s._removeData(o,u),{id:t.id,abort:function(){t.status=0,t.statusText="abort";if(!e.one("#io_iframe"+t.id))return!1;a(t.id),s.complete(t,i),s.end(t,i)},isInProgress:function(){return e.one("#io_iframe"+t.id)?!0:!1},io:s}},upload:function(e,t,n){return u(e,n,this),this._upload(e,t,n)},end:function(e,t){var n,i;return t&&(n=t.form,n&&n.upload&&(i=this,n=typeof n.id=="string"?r.getElementById(n.id):n.id,i._resetAttrs(n,this._originalFormAttrs))),o.call(this,e,t)}},!0)},"3.11.0",{requires:["io-base","node-base"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("queue-promote",function(e,t){e.mix(e.Queue.prototype,{indexOf:function(t){return e.Array.indexOf(this._q,t)},promote:function(e){var t=this.indexOf(e);t>-1&&this._q.unshift(this._q.splice(t,1)[0])},remove:function(e){var t=this.indexOf(e);t>-1&&this._q.splice(t,1)}})},"3.11.0",{requires:["yui-base"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("io-queue",function(e,t){function r(e,t){return n.queue.apply(n,[e,t])}var n=e.io._map["io:0"]||new e.IO;e.mix(e.IO.prototype,{_q:new e.Queue,_qActiveId:null,_qInit:!1,_qState:1,_qShift:function(){var e=this,t=e._q.next();e._qActiveId=t.id,e._qState=0,e.send(t.uri,t.cfg,t.id)},queue:function(t,n){var r=this,i={uri:t,cfg:n,id:this._id++};return r._qInit||(e.on("io:complete",function(e,t){r._qNext(e)},r),r._qInit=!0),r._q.add(i),r._qState===1&&r._qShift(),i},_qNext:function(e){var t=this;t._qState=1,t._qActiveId===e&&t._q.size()>0&&t._qShift()},qPromote:function(e){this._q.promote(e)},qRemove:function(e){this._q.remove(e)},qEmpty:function(){this._q=new e.Queue},qStart:function(){var e=this;e._qState=1,e._q.size()>0&&e._qShift()},qStop:function(){this._qState=0},qSize:function(){return this._q.size()}},!0),r.start=function(){n.qStart()},r.stop=function(){n.qStop()},r.promote=function(e){n.qPromote(e)},r.remove=function(e){n.qRemove(e)},r.size=function(){n.qSize()},r.empty=function(){n.qEmpty()},e.io.queue=r},"3.11.0",{requires:["io-base","queue-promote"]});
/*!
murmurhash.js
Copyright (c) 2011 Gary Court
Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
YUI.add("murmurhash",function(b){function a(m,h){var n,o,k,d,g,c,e,l,j,f;n=m.length&3;o=m.length-n;k=h;g=3432918353;e=461845907;f=0;while(f<o){j=((m.charCodeAt(f)&255))|((m.charCodeAt(++f)&255)<<8)|((m.charCodeAt(++f)&255)<<16)|((m.charCodeAt(++f)&255)<<24);++f;j=((((j&65535)*g)+((((j>>>16)*g)&65535)<<16)))&4294967295;j=(j<<15)|(j>>>17);j=((((j&65535)*e)+((((j>>>16)*e)&65535)<<16)))&4294967295;k^=j;k=(k<<13)|(k>>>19);d=((((k&65535)*5)+((((k>>>16)*5)&65535)<<16)))&4294967295;k=(((d&65535)+27492)+((((d>>>16)+58964)&65535)<<16))}j=0;switch(n){case 3:j^=(m.charCodeAt(f+2)&255)<<16;case 2:j^=(m.charCodeAt(f+1)&255)<<8;case 1:j^=(m.charCodeAt(f)&255);j=(((j&65535)*g)+((((j>>>16)*g)&65535)<<16))&4294967295;j=(j<<15)|(j>>>17);j=(((j&65535)*e)+((((j>>>16)*e)&65535)<<16))&4294967295;k^=j}k^=m.length;k^=k>>>16;k=(((k&65535)*2246822507)+((((k>>>16)*2246822507)&65535)<<16))&4294967295;k^=k>>>13;k=((((k&65535)*3266489909)+((((k>>>16)*3266489909)&65535)<<16)))&4294967295;k^=k>>>16;return k>>>0}b.murmurhash=a},"0.0.1",{});YUI.add("pagination-keyboard-shortcuts-transjax",function(a){a.transjax.add("pagination-keyboard-shortcuts",{prev_page:'Go to the previous page',next_page:'Go to the next page'})},"0.0.1",{requires:F.config.modules["pagination-keyboard-shortcuts-transjax"].requires||[]});YUI.add("pagination-keyboard-shortcuts",function(b){function a(){var d=window.location,e=b.one(".Pages a.Prev"),c=b.one(".Pages a.Next");if(c){b.keyboardShortcutManager.register({keystring:"39",handler:function(f){f.preventDefault();d.href=c.getAttribute("href")},context:"",legend:{key:"&rarr;",description:b.transjax.get("pagination-keyboard-shortcuts","next_page"),group:b.transjax.get("keyboard-shortcut-legend","navigation"),order:20}})}else{if(b.config.flickr.flags.enable_keyboard_shortcut_legend&&b.keyboardShortcutLegend&&b.keyboardShortcutLegend.register){b.keyboardShortcutLegend.register({keyCodes:[39],key:"&rarr;",description:b.transjax.get("pagination-keyboard-shortcuts","next_page"),group:b.transjax.get("keyboard-shortcut-legend","navigation"),order:20})}}if(e){b.keyboardShortcutManager.register({keystring:"37",handler:function(f){f.preventDefault();d.href=e.getAttribute("href")},context:"",legend:{key:"&larr;",description:b.transjax.get("pagination-keyboard-shortcuts","prev_page"),group:b.transjax.get("keyboard-shortcut-legend","navigation"),order:20}})}else{if(b.config.flickr.flags.enable_keyboard_shortcut_legend&&b.keyboardShortcutLegend&&b.keyboardShortcutLegend.register){b.keyboardShortcutLegend.register({keyCodes:[37],key:"&larr;",description:b.transjax.get("pagination-keyboard-shortcuts","prev_page"),group:b.transjax.get("keyboard-shortcut-legend","navigation"),order:20})}}}b.paginationKeyboardShortcuts=a},"0.0.1",{requires:F.config.modules["pagination-keyboard-shortcuts"].requires||[],optional:F.config.modules["pagination-keyboard-shortcuts"].optional||[]});/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("json-stringify",function(e,t){var n=":",r=e.config.global.JSON;e.mix(e.namespace("JSON"),{dateToString:function(e){function t(e){return e<10?"0"+e:e}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+n+t(e.getUTCMinutes())+n+t(e.getUTCSeconds())+"Z"},stringify:function(){return r.stringify.apply(r,arguments)},charCacheThreshold:100})},"3.11.0",{requires:["yui-base"]});
YUI.add("gallery-storage-lite",function(b){var s=b.config.doc,j=b.config.win,c=b.JSON,r=b.namespace("StorageLite"),i="yui_storage_lite",v="YUI StorageLite data",y=1048576,p="1.0",t="ready",x=0,h=1,a=2,m=3,k=4,f="yui_storage_lite",l="data",u={},n,g;try{if(j.localStorage){g=h}else{if(j.globalStorage){g=a;var o=j.globalStorage[j.location.hostname]}else{if(j.openDatabase&&navigator.userAgent.indexOf("Chrome")===-1){g=m}else{if(b.UA.ie>=5){g=k}else{g=x}}}}}catch(q){g=x}b.StorageFullError=function(d){b.StorageFullError.superclass.constructor.call(d);this.name="StorageFullError";this.message=d||"Maximum storage capacity reached";if(b.UA.ie){this.description=this.message}};b.extend(b.StorageFullError,Error);b.augment(r,b.EventTarget,true,null,{emitFacade:true,prefix:"storage-lite",preventable:false});r.publish(t,{fireOnce:true});b.mix(r,{clear:function(){},getItem:function(e,d){return null},length:function(){return 0},removeItem:function(d){},setItem:function(d,e){}});if(g===h||g===a){b.mix(r,{length:function(){return n.length},removeItem:function(d){n.removeItem(d)},setItem:function(e,w,d){n.setItem(e,d?c.stringify(w):w)}},true);if(g===h){n=j.localStorage;b.mix(r,{clear:function(){n.clear()},getItem:function(w,e){try{return e?c.parse(n.getItem(w)):n.getItem(w)}catch(d){return null}}},true)}else{if(g===a){n=j.globalStorage[j.location.hostname];b.mix(r,{clear:function(){for(var d in n){if(n.hasOwnProperty(d)){n.removeItem(d);delete n[d]}}},getItem:function(w,e){try{return e?c.parse(n[w].value):n[w].value}catch(d){return null}}},true)}}r.fire(t)}else{if(g===m||g===k){b.mix(r,{clear:function(){u={};r._save()},getItem:function(e,d){return u.hasOwnProperty(e)?u[e]:null},length:function(){var e=0,d;for(d in u){if(u.hasOwnProperty(d)){e+=1}}return e},removeItem:function(d){if(u){delete u[d];r._save()}else{u={}}},setItem:function(e,w,d){u[e]=w;r._save()}},true);if(g===m){n=j.openDatabase(i,p,v,y);b.mix(r,{_save:function(){n.transaction(function(d){d.executeSql("REPLACE INTO "+i+" (name, value) VALUES ('data', ?)",[c.stringify(u)])})}},true);n.transaction(function(d){d.executeSql("CREATE TABLE IF NOT EXISTS "+i+"(name TEXT PRIMARY KEY, value TEXT NOT NULL)");d.executeSql("SELECT value FROM "+i+" WHERE name = 'data'",[],function(z,w){if(w.rows.length){try{u=c.parse(w.rows.item(0).value)}catch(e){u={}}}r.fire(t)})})}else{if(g===k){n=s.createElement("span");n.addBehavior("#default#userData");b.mix(r,{_save:function(){var e=c.stringify(u);try{n.setAttribute(l,e);n.save(f)}catch(d){throw new b.StorageFullError()}}},true);b.on("domready",function(){s.body.appendChild(n);n.load(f);try{u=c.parse(n.getAttribute(l))}catch(d){u={}}r.fire(t)})}}}else{r.fire(t)}}},"1.0.0",{requires:["event-base","event-custom","event-custom-complex","json"]});YUI.add("occult",function(e){if(typeof window.FLICKR==="undefined"){window.FLICKR={};var d=window.FLICKR}function c(){var f=arguments,l=null,h,g,k;for(h=0;h<f.length;h=h+1){k=(""+f[h]).split(".");l=FLICKR;for(g=(k[0]=="FLICKR")?1:0;g<k.length;g=g+1){l[k[g]]=l[k[g]]||{};l=l[k[g]]}}return l}function b(h,l){c(h);var g=h.split("."),f=g.length,k=FLICKR;for(var j=0;j<g.length-1;j++){k=k[g[j]]}k[g[f-1]]=l}function a(f,g){return d[f]}e.occult={register:b,get:a}},"0.0.1",{});(function(){var a="urls";YUI.add(a,function(b){var h={photo:/^\/photos\/([^\/]+)\/(\d+)(?:\/in\/([^\/]+))?(?:(?:\/page(\d+))|(?:\/(lightbox))|(?:\/(tour)))?/,photostream:/^\/photos\/([^\/]+)(?:\/page(\d+))?(?:\/with\/(\d+))?\/?(lightbox\/?)?/,delete_photo:/^\/photos\/([^\/]+)\/?\?delete=(\d+)(?:&context=([^&]+))?/,faves:/^\/photos\/([^\/]+)\/favorites(?:\/from\/([^\/]+))?(?:\/page(\d+))?(?:\/with\/(\d+))?(?:\/(lightbox))?\/?(?:\?(?:[^&]*&)?view=([^&]+))?/,explore:/^\/explore\/?(\d{4}\/\d{2}\/\d{2})?(?:\/?with\/([0-9]+))?\/?(lightbox\/?)?/,group_pool:/^\/groups\/([^\/]+)\/?(?:pool)?(?:\/((?:(?!with|page|lightbox)[^\/\?])+))?(?:\/with\/(\d+))?(?:\/page(\d+))?(\/lightbox)?\/?(?:\?(?:[^&]*&)?view=([^&]+))?/,gallery:/^\/photos\/([^\/]+)\/galleries\/([0-9]+)(?:\/page(\d+))?(?:\/with\/(\d+))?(?:\/(lightbox))?/,contacts:/^\/photos\/(?:friends|contacts)(?:\/page(\d+))?(?:\/with\/(\d+))?(?:\/(lightbox))?\/?(?:\?(?:[^&]*&)?view=([^&]+))?/,contactsfaves:/^\/photos\/contacts\/favorites(?:\/page(\d+))?(?:\/with\/(\d+))?(?:\/(lightbox))?\/?(?:\?(?:[^&]*&)?view=([^&]+))?/};function e(r,t){var q,s={};if(!h[r]){b.log('[urls] no regex found for page_type "'+r+'"');return}q=h[r].exec(t);switch(r){case"photo":s.path_alias=q[1]&&decodeURIComponent(q[1]);s.photo_id=q[2];s.context_id=q[3]&&decodeURIComponent(q[3]);s.page=q[4];s.lightbox=q[5]?true:false;s.tour=q[6]?true:false;break;case"photostream":s.path_alias=q[1]&&decodeURIComponent(q[1]);s.page=q[2];s.photo_id=q[3];s.lightbox=q[4]?true:false;break;case"delete_photo":s.path_alias=q[1]&&decodeURIComponent(q[1]);s.photo_id=q[2];s.context_id=q[3];break;case"faves":s.path_alias=q[1]&&decodeURIComponent(q[1]);s.from=q[2]&&decodeURIComponent(q[2]);s.page=q[3];s.photo_id=q[4];s.lightbox=q[5]?true:false;s.view_mode=q[6];break;case"group_pool":s.group_id=q[1]&&decodeURIComponent(q[1]);s.owner_id=q[2]&&decodeURIComponent(q[2]);s.photo_id=q[3];s.page=q[4];s.lightbox=q[5]?true:false;s.view_mode=q[6];break;case"gallery":s.path_alias=q[1]&&decodeURIComponent(q[1]);s.gallery_id=q[2]&&decodeURIComponent(q[2]);s.page=q[3];s.photo_id=q[4];s.lightbox=q[5]?true:false;break;case"contacts":s.page=q[1];s.photo_id=q[2];s.lightbox=q[3]?true:false;s.view_mode=q[4];break;case"contactsfaves":s.page=q[1];s.photo_id=q[2];s.lightbox=q[3]?true:false;s.view_mode=q[4];break;case"explore":s.date=q[1];s.photo_id=q[2];s.lightbox=q[3]}return s}function c(s,r){var q;r=r||{};if(r.photo&&b.Lang.isString(r.photo)){r.photo_id=r.photo;if(b.PhotoData){r.photo=b.PhotoData.get(r.photo)}if(!b.Lang.isObject(r.photo)){r.photo=undefined;delete r.photo}}if(b.Lang.isObject(r.photo)){r.photo_id=r.photo.get("id")}switch(s){case"photo":q=p(r);break;case"photostream":q=l(r);break;case"delete_photo":q=o(r);break;case"faves":q=n(r);break;case"group_pool":q=i(r);break;case"gallery":q=d(r);break;case"contacts":q=m(r);break;case"contactsfaves":q=k(r);break;case"explore":q=g(r);break}return q}function p(v){var s,t,u,r,z,x,B,y,A,w,q;s=v.photo;t=v.photo_id;u=v.path_alias;if(!b.Lang.isObject(s)&&!t){b.log("[urls] missing photo object or ID");return}if(!b.Lang.isObject(s)&&!u){b.log("[urls] missing photo object or path alias");return}t=t||s.get("id");u=u||s.get("pathalias")||s.get("owner");if(v.context){if(b.Lang.isString(v.context)){r=v.context}else{if(b.Lang.isObject(v.context)&&b.Lang.isString(v.context.id)){r=v.context.id}}}if(v.page){z=parseInt(v.page,10);if(z===1||!b.Lang.isNumber(z)){z=false}}x=b.Lang.isBoolean(v.lightbox)?v.lightbox:false;B=(b.Lang.isBoolean(v.sizes)||b.Lang.isString(v.sizes))?v.sizes:false;y=b.Lang.isString(v.hash)?v.hash:false;A=b.Lang.isBoolean(v.exif)?v.exif:false;w=b.Lang.isBoolean(v.faves)?v.faves:false;q=b.Lang.isBoolean(v.details)?v.details:false;return"/photos/"+u+"/"+t+"/"+(B?"sizes/"+(b.Lang.isString(B)?B+"/":""):"")+(A?"meta/":"")+(w?"favorites/":"")+(q?"edit-details/":"")+(r?("in/"+r+"/"):"")+(z?"page"+z+"/":"")+(x?"lightbox/":"")+(y?"#"+y:"")}function l(r){var s,q;if(r.photo){r.path_alias=r.photo.get("pathalias")||r.photo.get("owner")}s=r.path_alias;if(!s){b.log("[urls] missing path_alias");return}q="/photos/"+s+"/";if(r.person){q+="people/"+r.person+"/"}else{if(r.tag){if(b.Lang.isArray(r.tag)){r.tag=r.tag.join(",")}q+="tags/"+r.tag+"/"}else{if(r.photo_id){q+="with/"+r.photo_id+"/"}}}if(r.lightbox){q+="lightbox/"}return q}function o(r){var s,q;s=r.path_alias;if(!s){b.log("[urls] missing path_alias");return}photo_id=r.photo_id;if(!photo_id){b.log("[urls] missing photo_id");return}context_id=r.context_id;q="/photos/"+s+"/?delete="+photo_id+(context_id?"&context="+context_id:"")+"&magic_cookie="+b.config.flickr.magic_cookie;return q}function n(r){var s,q;s=r.path_alias;if(!s){b.log("[urls] missing path_alias");return}q="/photos/"+s+"/favorites/";if(r.from){q+="from/"+r.from+"/"}if(r.page){q+="page"+r.page+"/"}if(r.photo_id){q+="with/"+r.photo_id+"/"}if(r.lightbox){q+="lightbox/"}if(r.view_mode){q+="?view="+r.view_mode}return q}function i(r){var s,q;s=r.group_id;if(!s){b.log("[urls] missing group_id");return}q="/groups/"+s+"/pool/";if(r.owner_id){q+=r.owner_id+"/"}if(r.photo_id){q+="with/"+r.photo_id+"/"}if(r.page){q+="page"+r.page+"/"}if(r.lightbox){q+="lightbox/"}if(r.view_mode){q+="?view="+r.view_mode}return q}function m(r){var q;q="/photos/friends/";if(r.page){q+="page"+r.page+"/"}if(r.photo_id){q+="with/"+r.photo_id+"/"}if(r.lightbox){q+="lightbox/"}if(r.view_mode){q+="?view="+r.view_mode}return q}function k(r){var q;q="/photos/contacts/favorites/";if(r.page){q+="page"+r.page+"/"}if(r.photo_id){q+="with/"+r.photo_id+"/"}if(r.lightbox){q+="lightbox/"}if(r.view_mode){q+="?view="+r.view_mode}return q}function d(s){var t,q,r;t=s.path_alias;q=s.gallery_id;if(!t){b.log("[urls] missing path_alias");return}if(!q){b.log("[urls] missing gallery_id");return}r="/photos/"+t+"/galleries/"+q+"/";if(s.photo_id){r+="with/"+s.photo_id+"/"}if(s.lightbox){r+="lightbox/"}return r}function g(s){var r,t,q;r=s.date;t=s.with_id;q="/explore";if(r){q+="/"+r}if(t){q+="/with/"+t}if(s.lightbox){q+="lightbox/"}return q}function j(r){if(!b.Lang.isNumber(r)){r=parseInt(r,10)}var q="",t="123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ";var u=r,s;while(r>=58){u=r/58;s=r-(58*Math.floor(u));q=""+t.substr(s,1)+q;r=Math.floor(u)}return(u)?""+t.substr(u,1)+q:q}function f(v){var u="123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ";var r=v.length;var q=0;var t=1;for(var s=(r-1);s>=0;s--){q=q+t*u.indexOf(v[s]);t=t*u.length}return q}b.urls={get:c,parse:e,getShortID:j,getLongID:f,regexes:h}},"0.0.1",{requires:F.config.modules[a].requires||[],optional:F.config.modules[a].optional||[]})}());YUI.add("photo-transjax",function(a){a.transjax.add("photo",{your_favorites:'Your favorites',untitled:'Untitled',window_title:'%s | Flickr - Photo Sharing!'})},"0.0.1",{requires:["transjax-base"]});(function(){var a="type-cast";YUI.add(a,function(h){function e(i){if(h.Lang.isNumber(i)){i=i+""}return h.Lang.isString(i)?i:""}function c(i){if(i==="0"){i=0}return !!i}function d(i){i=parseInt(i,10);if(!h.Lang.isNumber(i)){return undefined}return i}function f(i){i=d(i);if(!h.Lang.isNumber(i)||i<0||i>3){return undefined}return i}function b(i){return h.Lang.isArray(i)?i:[]}function g(i){return h.Lang.isObject(i)?i:{}}h.TypeCast={string:e,bool:c,integer:d,integer0123:f,arr:b,obj:g}},"0.0.1",{requires:F.config.modules[a].requires||[],optional:F.config.modules[a].optional||[]})}());YUI.add("photo-data",function(g){var b={},a=g.TypeCast;function f(i){var h;if(i instanceof d){h=i}else{if(b[i.id]){h=b[i.id];h.merge_data(i)}else{h=new d(i);b[i.id]=h}}return h}function c(h){if(typeof h==="undefined"){return b}else{return b[h]}}function e(h){return g.Lang.isNumber(h)&&parseInt(h,10)===h}g.PhotoData={add:f,get:c};function d(h){d.superclass.constructor.apply(this,arguments)}d.NAME="PhotoData";d.ATTRS={id:{value:""},title:{broadcast:1,value:"",setter:function(i,h){i=a.string(i);return i.replace(/^\s+$/,"")}},description:{broadcast:1,value:"",setter:a.string},owner:{value:"",setter:function(h){if(!g.Lang.isString(h)){if(g.Lang.isObject(h)&&h.nsid){h=h.nsid}else{h=""}}return h}},ownername:{value:""},pathalias:{value:""},iconserver:{value:""},iconfarm:{value:""},url:{value:"",getter:function(i,h){return g.urls.get("photo",{photo:this})}},date_posted:{broadcast:1,getter:a.integer},is_public:{broadcast:1,getter:a.bool},is_friend:{broadcast:1,getter:a.bool},is_family:{broadcast:1,getter:a.bool},perm_comment:{broadcast:1,getter:a.integer0123},perm_addmeta:{broadcast:1,getter:a.integer0123},perms:{getter:function(){return{is_public:this.get("is_public"),is_friend:this.get("is_friend"),is_family:this.get("is_family"),perm_comment:this.get("perm_comment"),perm_addmeta:this.get("perm_addmeta")}}},license:{broadcast:1,getter:a.integer,setter:a.integer},safety_level:{broadcast:1,getter:a.integer,setter:a.integer},needs_interstitial:{broadcast:1,value:false,getter:a.bool,setter:a.bool},media:{broadcast:1,value:"photo"},is_video:{getter:function(){return(this.get("media")==="video")}},secret:{value:""},deleted:{value:false},dmca_takedown:{value:false},geo:{broadcast:1,getter:function(h){if(!g.Lang.isObject(h)){h={}}return h}},has_geo:{getter:function(){var h=this.get("geo");return(h&&h.latitude&&h.longitude&&h.accuracy)}},exif_latlong:{},perm_viewgeo:{broadcast:1,value:false},is_bad:{broadcast:1,getter:a.integer,setter:a.integer},content_type:{broadcast:1,getter:a.integer,setter:a.integer},is_fave:{broadcast:1,value:false,setter:function(j,h){j=a.bool(j);var i=this.get(h);if(j!==i){if(j){this.increment("fave_count")}else{this.decrement("fave_count")}}if(this.get("fave_changes_pending")===0){this.set("is_confirmed_fave",j)}return j},getter:a.bool},is_confirmed_fave:{value:undefined},fave_changes_pending:{value:0},fave_count:{broadcast:1,value:0,getter:a.integer,setter:a.integer},comment_count:{broadcast:1,value:0,getter:a.integer,setter:a.integer},can_addmeta:{value:false,getter:a.bool},can_comment:{value:false,getter:a.bool},can_fave:{value:false,getter:function(){if(this.get("is_ignored")){return false}if(this.get("dmca_takedown")){return false}if(this.get("is_owner")){return false}if(!g.config.flickr.user.nsid&&!g.config.flickr.flags.enable_grease){return false}return true}},group_count:{broadcast:1,getter:a.integer,setter:a.integer},people_count:{broadcast:1,getter:a.integer,setter:a.integer},guestpass_count:{broadcast:1,getter:a.integer,setter:a.integer},is_owner:{value:false,getter:function(){return g.config.flickr.user.nsid&&g.config.flickr.user.nsid===this.get("owner")}},is_ignored:{value:false},tags:{broadcast:1,getter:a.arr},sizes:{value:{},getter:function(m,i){var j,l,h,k;m=a.obj(m);if(g.config.flickr.flags.enable_2048_images){j=m.o||m.l||m.z;if(j&&(j.width>=2048||j.height>=2048)){l=j.width/j.height;if(l>1){k=2048;h=Math.round(2048/l)}else{h=2048;k=Math.round(2048*l)}m["2048"]={url:m.t.url.replace("_t","_2048"),height:h+"",width:k+"",label:"2048"}}}return m}}};g.extend(d,g.Base,{initializer:function(h){this.merge_data(h)},merge_data:function(i){var j,h;if(typeof i.id!=="undefined"&&i.id!==this.get("id")){this.set("id",i.id)}if(typeof i.title!=="undefined"&&i.title!==this.get("title")){this.set("title",i.title)}if(typeof i.description!=="undefined"&&i.description!==this.get("description")){this.set("description",i.description)}if(typeof i.owner!=="undefined"&&i.owner!==this.get("owner")){this.set("owner",i.owner)}if(typeof i.ownername!=="undefined"&&i.ownername!==this.get("ownername")){this.set("ownername",i.ownername)}if(typeof i.pathalias!=="undefined"&&i.pathalias!==this.get("pathalias")){this.set("pathalias",i.pathalias)}if(typeof i.iconserver!=="undefined"&&i.iconserver!==this.get("iconserver")){this.set("iconserver",i.iconserver)}if(typeof i.iconfarm!=="undefined"&&i.iconfarm!==this.get("iconfarm")){this.set("iconfarm",i.iconfarm)}if(typeof i.url!=="undefined"&&i.url!==this.get("url")){this.set("url",i.url)}if(typeof i.date_posted!=="undefined"&&i.date_posted!==this.get("date_posted")){this.set("date_posted",i.date_posted)}if(typeof i.date_taken!=="undefined"&&i.date_taken!==this.get("date_taken")){this.set("date_taken",i.date_taken)}if(typeof i.is_public!=="undefined"&&i.is_public!==this.get("is_public")){this.set("is_public",i.is_public)}if(typeof i.is_friend!=="undefined"&&i.is_friend!==this.get("is_friend")){this.set("is_friend",i.is_friend)}if(typeof i.is_family!=="undefined"&&i.is_family!==this.get("is_family")){this.set("is_family",i.is_family)}if(typeof i.can_comment!=="undefined"&&i.can_comment!==this.get("can_comment")){this.set("can_comment",i.can_comment)}if(typeof i.can_addmeta!=="undefined"&&i.can_addmeta!==this.get("can_addmeta")){this.set("can_addmeta",i.can_addmeta)}if(typeof i.perm_comment!=="undefined"&&i.perm_comment!==this.get("perm_comment")){this.set("perm_comment",i.perm_comment)}if(typeof i.perm_addmeta!=="undefined"&&i.perm_addmeta!==this.get("perm_addmeta")){this.set("perm_addmeta",i.perm_addmeta)}if(typeof i.license!=="undefined"&&i.license!==this.get("license")){this.set("license",i.license)}if(typeof i.needs_interstitial!=="undefined"&&i.needs_interstitial!==this.get("needs_interstitial")){this.set("needs_interstitial",i.needs_interstitial)}if(typeof i.safety_level!=="undefined"&&i.safety_level!==this.get("safety_level")){this.set("safety_level",i.safety_level)}if(typeof i.media!=="undefined"&&i.media!==this.get("media")){this.set("media",i.media)}if(typeof i.secret!=="undefined"&&i.secret!==this.get("secret")){this.set("secret",i.secret)}if(typeof i.is_bad!=="undefined"&&i.is_bad!==this.get("is_bad")){this.set("is_bad",i.is_bad)}if(typeof i.content_type!=="undefined"&&i.content_type!==this.get("content_type")){this.set("content_type",i.content_type)}if(typeof i.is_faved!=="undefined"&&i.is_faved!==this.get("is_fave")){this.set("is_fave",i.is_faved)}if(typeof i.is_fave!=="undefined"&&i.is_fave!==this.get("is_fave")){this.set("is_fave",i.is_fave)}if(typeof i.fave_count!=="undefined"&&i.fave_count!==this.get("fave_count")){this.set("fave_count",i.fave_count)}if(typeof i.count_faves!=="undefined"&&i.count_faves!==this.get("fave_count")){this.set("fave_count",i.count_faves)}if(typeof i.comment_count!=="undefined"&&i.comment_count!==this.get("comment_count")){this.set("comment_count",i.comment_count)}if(typeof i.count_comments!=="undefined"&&i.count_comments!==this.get("comment_count")){this.set("comment_count",i.count_comments)}if(typeof i.geo!=="undefined"&&i.geo!==this.get("geo")){this.set("geo",i.geo)}if(typeof i.exif_latlong!=="undefined"&&i.exif_latlong!==this.get("exif_latlong")){this.set("exif_latlong",i.exif_latlong)}if(typeof i.perm_viewgeo!=="undefined"&&i.perm_viewgeo!==this.get("perm_viewgeo")){this.set("perm_viewgeo",i.perm_viewgeo)}if(typeof i.woe!=="undefined"&&i.woe!==this.get("woe")){this.set("woe",i.woe)}if(typeof i.tags!=="undefined"&&i.tags!==this.get("tags")){this.set("tags",i.tags)}if(typeof i.group_count!=="undefined"&&i.group_count!==this.get("group_count")){this.set("group_count",i.group_count)}if(typeof i.people_count!=="undefined"&&i.people_count!==this.get("people_count")){this.set("people_count",i.people_count)}if(typeof i.guestpass_count!=="undefined"&&i.guestpass_count!==this.get("guestpass_count")){this.set("guestpass_count",i.guestpass_count)}if(i.sizes&&g.Lang.isObject(i.sizes)){j=i.sizes}else{j={};if(i.url_sq){j.sq={url:i.url_sq,width:parseInt(i.width_sq,10),height:parseInt(i.height_sq,10)}}if(i.url_t){j.t={url:i.url_t,width:parseInt(i.width_t,10),height:parseInt(i.height_t,10)}}if(i.url_s){j.s={url:i.url_s,width:parseInt(i.width_s,10),height:parseInt(i.height_s,10)}}if(i.url_m){j.m={url:i.url_m,width:parseInt(i.width_m,10),height:parseInt(i.height_m,10)}}if(i.url_z){j.z={url:i.url_z,width:parseInt(i.width_z,10),height:parseInt(i.height_z,10)}}if(i.url_l){j.l={url:i.url_l,width:parseInt(i.width_l,10),height:parseInt(i.height_l,10)}}if(i.url_h){j.h={url:i.url_h,width:parseInt(i.width_h,10),height:parseInt(i.height_h,10)}}if(i.url_k){j.k={url:i.url_k,width:parseInt(i.width_k,10),height:parseInt(i.height_k,10)}}if(i.url_o){j.o={url:i.url_o,width:parseInt(i.width_o,10),height:parseInt(i.height_o,10)}}if(i.media==="video"){if(i.height_v){j.v={width:parseInt(i.width_v,10),height:parseInt(i.height_v,10)}}}}if(g.Object.size(j)){h=this.get("sizes")||{};g.Object.each(h,function(k,l){if(j[l]){j[l]=g.merge(k,j[l])}});this.set("sizes",g.merge(h,j))}},toggle_fave:function(j){var i=this,h,m,k,l;if(!this.get("can_fave")){return}if(g.config.flickr.flags.enable_grease&&!g.config.flickr.user.nsid){g.grease.addFave(this.get("id"));g.grease.authenticate();return}h=!this.get("is_fave");m="flickr.favorites."+(h?"add":"remove");k={photo_id:this.get("id")};l={success:function(){var n,o,p,q;n=i.get("id");i.decrement("fave_changes_pending");i.set("is_confirmed_fave",h);if(i.get("fave_changes_pending")===0){i.set("is_fave",h)}o="faves-"+(g.config.flickr.user.pathalias?g.config.flickr.user.pathalias:g.config.flickr.user.nsid);p=g.ContextData.getContext(o);if(p){q=p.getPhotoPosition(n)}if(h){if(p){if(g.ContextData.getPrevLimit(o)===q){g.ContextData.unremovePhoto(o,q)}else{g.ContextData.invalidate(o)}}else{if(g.config.flickr.page_type==="photo"&&i.get("id")===g.photo.getCurrentPhoto().get("id")){g.ContextData.add({id:o,user_id:g.config.flickr.user.nsid,type:"faves",title:g.transjax.get("photo","your_favorites"),url:g.config.flickr.user.photos_url+"favorites/",photos:[{position:"0",photo:i}]})}}}else{if(p&&g.Lang.isNumber(q)){g.ContextData.removePhoto(o,q)}}},failure:function(){i.decrement("fave_changes_pending");if(i.get("fave_changes_pending")===0){i.set("is_fave",i.get("is_confirmed_fave"))}}};this.set("is_fave",h);this.increment("fave_changes_pending");g.flickrAPI.callMethod(m,k,l)},record_interstitial_clickthrough:function(){var h=this.get("owner");g.Object.each(b,function(i,j){if(i.get("owner")===h){i.set("needs_interstitial",false)}});g.flickrAPI.callMethod("flickr.people.recordInterstitialClickthrough",{user_id:h},function(){})},updateWoeAttributeByeId:function(i){var h=this;g.use("flickr-geo",function(j){j.flickrGeo.getWoeById(i,function(k){if(k.success&&j.Lang.isObject(k.woe)){h.set("woe",k.woe)}else{j.log("Unable to update WOE. Expected data was not received from the API.","error","photo-data")}},this)})},increment:function(h){if(!e(this.get(h))){return false}return this.add(h,1)},decrement:function(h){if(!e(this.get(h))){return false}return this.add(h,-1)},add:function(i,j){var k=this.get(i),h;if(!g.Lang.isNumber(k)||!g.Lang.isNumber(j)){return false}h=k+j;if(this.set(i,h)){return h}else{return false}}})},"0.0.1",{requires:F.config.modules["photo-data"].requires||[],optional:F.config.modules["photo-data"].optional||[]});(function(){var a="grease";YUI.add(a,function(d){var X=false,S,al,P=d.StorageLite,T=false,s,t,z,Q,W,E="pc",y="pic",u="pf",g="pct",R="ps",Z="ps3",j="pp",q="pps",aa="/photo_grease_postlogin.gne",x="fave",ad="contact",ae="share",G="share_v3",h="comment",e=/cookie_session=[^;]+/gi,l=";",an=3,O=1000,L=[E,y,R,Z,u,g,u,j,q];if(d.config.flickr.flags.enable_grease){X=true}Q=d.global_dialog;function p(){d.Array.each(L,function(Y){P.removeItem(Y)})}var ah=(function(){var Y=null,ay=false,aq=0,at=false,ar=false;function aw(){O=(O>=10000)?O:O*2;return O}function ax(){if(ar){if(Y){Q.remove_existing_dialog();Y.cancel();ay=false}ar=false}}function au(){ar=false;if(Y){Y.cancel()}ax();Q.remove_existing_dialog();ay=false;Y=null;at=false;aq=0;O=1000;at=false}function ap(){if(Y){Y.cancel()}at=true;d.fire("grease:cancel")}function av(){if(at){return}if(Y){Y.cancel();Y=null}var az={method:"post",data:"random=0",on:{success:function(aC,aB,aA){if(aB&&aB.responseText.substring(0,1)==="1"){d.fire("grease:authenticated")}else{if(aq++<an){m();if(!Y){Y=d.later(aw(),this,av)}}}},failure:function(){if(aq++<1){if(!Y){Y=d.later(aw(),this,av)}}}}};d.io("/fragment.gne?name=social-auth-fragment",az)}return{start:function(){if(!ar){ar=true;av()}else{O=50;Y&&Y.cancel();av();return}},stop:ax,cancel:ap,pause:function(){Y&&Y.cancel();O=1000000},canceled:at,reset:au}}());function af(Y){if(!X){return}if(Y&&d.config.flickr.user.nsid){P.on("storage-lite:ready",function(){var aq=ag(E),av=ag(y),aB=ag(u),at=ag(g),ax=ag(R,true),aw=ag(Z,true),ap=ag(j),aA=ag(q);if(aq){z="comment";var az=aq.indexOf(";"),ar=aq.substring(0,az),ay=aq.substring(az+1);if(ar===d.photo.getCurrentPhoto().get("id")){ab(ay)}}else{if(av){z="comment";var az=av.indexOf(";"),ar=av.substring(0,az),ay=av.substring(az+1);C(ay,ar)}else{if(aB){z="fave";V(aB)}else{if(at){z="contact";o(at)}else{if(ax){z="share";I(ax)}else{if(aw){z="sharev3";aj(aw)}else{var au=d.one("#global-dialog-background");if(au){au.setStyle("display","none")}p()}}}}}}})}else{P.on("storage-lite:ready",function(){p()})}}function c(){d.detach("grease|*");S=false;m();W(false);ah.reset()}function f(Y){if(Y.target.hasClass("close-x")||Y.target.hasClass("Butt")){Y.preventDefault();Y.halt();d.global_dialog.hide()}}function A(){Q.show({loading:true,modal:true})}function m(){Q.hide()}function ak(ap){var aq=d.one("body");var Y=aq.create('<img height="1" width="1" src="'+ap+'">');aq.appendChild(Y)}function J(){Q.create_dialog(d.one("#grease-confirm-"+z).get("innerHTML"),{width:355}).show({loading:false,modal:true});d.one("#global_dialog").on("click",f,this);d.later(10000,this,d.global_dialog.hide);if(d.config.flickr.flags.enable_rapid_tracking&&d.one("#reg-tour")){d.use("rapid-tracker",function(ap){ap.rapidTracker.addModules("grease-conversion-tracker");ap.rapidTracker.beaconClick("grease-conversion-tracker",z);switch(z){case x:ak("https://pclick.internal.yahoo.com/p/s=2143640346&t="+Math.random());break;case ad:ak("https://pclick.internal.yahoo.com/p/s=2143640345&t="+Math.random());break;case ae:ak("https://pclick.internal.yahoo.com/p/s=2143640344&t="+Math.random());break;default:ak("https://pclick.internal.yahoo.com/p/s=2143640343&t="+Math.random())}})}}function V(ap){var at,Y,au,aq,ar=true;if(d.photo&&d.photo.getCurrentPhoto&&d.photo.getCurrentPhoto()&&d.photo.getCurrentPhoto().get("is_owner")){if(Q){Q.remove_existing_dialog()}aq=d.one("#global-dialog-background");if(aq){aq.setStyle("display","none")}p();return}if(d.PhotoData){at=d.PhotoData.get(ap);if(at){if(!at.get("is_fave")){at.toggle_fave()}J();p()}else{if(typeof d.FlickrAppExplore!=="undefined"){au=d.FlickrAppExplore.getListModel();if(au){au.toggleFave(ap);ar=false}}if(typeof d.FlickrAppPhotostream!=="undefined"){au=d.FlickrAppPhotostream.getListModel();if(au){au.toggleFave(ap);neeedsAPI=false}}if(ar){d.flickrAPI.callMethod("flickr.favorites.add",{photo_id:ap})}J();p()}}}function I(Y){A();p();d.flickrAPI.callMethod("flickr.sharing.share",Y,{success:function(ap){m();J()},failure:r})}function aj(Y){A();p();Y.magic_cookie=d.config.flickr.magic_cookie;Y.from_grease=1;d.use("share-this-v3-dialog",function(ap){ap.shareThisV3Dialog.do_share_action(Y)})}function r(){p();Q.create_dialog(d.one("#grease-error").get("innerHTML")).show({loading:false,modal:true,width:355,style:"grease-error"});d.one("#global_dialog").on("click",f,this);d.later(5000,this,d.global_dialog.hide)}function o(Y){A();contactArr=Y.split(";");d.flickrAPI.callMethod("flickr.contacts.add",{user_id:contactArr[0],friend:contactArr[1],family:contactArr[2]},{success:function(ap){m();J();p()},failure:r})}function n(){if(document.cookie.match(e)){S=false;A();ah.start()}else{d.later(20,this,n)}}function ab(aq){A();p();var ap=d.one("#message");if(!ap){r();return}d.one("#message").set("innerHTML",aq);var Y={method:"post",data:"preview=0",form:{id:d.one(".add-comment-form form")},on:{success:function(aw,av,at){m();J();var ar=d.one("#comments");ar.set("innerHTML",av.responseText);var au=ar.one(".Problem");if(au){Q.create_alert_dialog(au.get("innerHTML"),function(){ar.one("#message").scrollIntoView()})}}}};d.io("/photo_comments_fragment.gne",Y)}function C(ar,aq){p();var Y="magic_cookie="+d.config.flickr.magic_cookie+"&photo="+aq+"&addcomment=1flash_ver=unknown&offset="+(-1)+"&limit=4&show-chrome=true&view-more-count=20&hide-meta=true&message="+ar;var ap={method:"post",data:Y,on:{success:function(ay,ax,au){var at=d.one("div[data-photo-id="+aq+"]");if(at){var av=at.getAttribute("data-comments-total-count");av=av===""?0:parseInt(av,10);av++;at.setAttribute("data-comments-total-count",av);var aw=at.one(".comment-count");if(aw){if(av<100){aw.setHTML(av)}else{aw.setHTML("99+")}}}m()},failure:function(at,au){m();showError(d.transjax.get("photo-comments","error_add_generic"))}}};d.io("/photo_comments_fragment_2013.gne?cachebust="+(new Date()).getTime(),ap)}function B(ar){var aq;var aw=650;var at;if(d.config.flickr.flags.enable_ads_on_login_page){at=d.one(window).get("winWidth")||0;if(!isNaN(aw)){aw=Math.max(880,Math.min(1200,at))}}ah.reset();var ap=ar+"&popup=1&redir="+aa+"?d="+encodeURIComponent(window.location+"?reg=1")+"&src="+z;if(d.config.flickr.is_touch_device){aq=aa+"?d="+window.location+"&notpopup=1&src="+z+"&reg=1";window.location=ar+"&popup=0&redir="+encodeURIComponent(aq);return false}try{al=window.open(ap,"newWindow","width="+aw+",height=650,resizable=1,scrollbars=1,location=yes")}catch(av){return true}try{if(al.focus){al.focus()}}catch(Y){}if(!al||al.closed||typeof al.closed==="undefined"){aq=aa+"?d="+window.location+"&notpopup=1&src="+z+"&reg=1";window.location=ar+"&popup=0&redir="+encodeURIComponent(aq)}else{window.setTimeout(n,500)}var au=d.one("window");au.on("grease|focus",function(){if(!ah.canceled){ah.start()}if(!document.cookie.match(e)){m();W(false);n()}});d.on("grease:cancel",function(ax){S=false;c()});au.on("grease|blur",function(){if(!ah.canceled){ah.pause()}});au.on("grease:timeout",function(ax){S=false;c()});d.on("grease:authenticated",function(aB){if(al){try{al.close()}catch(az){}}A();S=false;W(true);var aC=(Z),ax=["reg=1","src="+z];if(aC){var aA=window.location.toString(),ay=aA.match(/\?/i);aA+=(!ay?"?":"&")+ax.join("&");if(aA.indexOf("#?")!==-1){aA=aA.replace("#","")}window.location=aA}else{window.location=d.urls.get("photo",{photo:d.photo.getCurrentPhoto()})+"?"+ax.join("&")}});return false}function b(aq,ar,ap){var Y=ap||false;P.setItem(aq,ar,Y)}function ag(Y,aq){var ap=aq||false;return P.getItem(Y,ap)}function H(Y){if(!S){ah.reset();W=Y||function(){};d.global_dialog.remove_existing_dialog();d.global_dialog.show({loading:true,modal:true});S=true;B("/signin?src="+z+"&reg=1")}else{c();H(Y)}}function M(ap,Y){Y=Y||d.photo.getCurrentPhoto().get("id");p();b(Y?y:E,Y+l+ap);z="comment"}function w(Y){p();b(u,Y);z="fave"}function ac(Y){p();if(d.Lang.isArray(Y)){b(g,Y.join(";"));z="contact"}}function U(Y){p();b(R,Y,true);z="share"}function ai(Y){p();b(Z,Y,true);z="sharev3"}function v(Y){p();b(j,Y);z="party"}function ao(Y){p();b(q,d.JSON.stringify(Y));z="partyStart"}d.grease={init:af,enabled:X,authenticate:H,postComment:M,addFave:w,addContact:ac,share:U,shareV3:ai,photoParty:v,photoPartyStart:ao};if(d.config.flickr.user.admin_user==="saw"){d.occult.register("postComment",function(Y){ab(Y)});d.occult.register("showdialog",function(Y){z="fave";J()});d.occult.register("fakeerror",function(Y){r(Y)})}var i=d.one("#reg-tour");function k(){for(var Y=1;Y<4;Y++){am.removeClass(K+Y)}}function N(Y){Y.preventDefault();k();d.Event.purgeElement("#reg-tour");i.addClass("hidden")}function D(Y){if(Y.test("#reg-tour")){return}if(Y.test("ol li")){k();switch(Y.get("id")){case"step-1":am.addClass(K+1);break;case"step-2":am.addClass(K+2);break;case"step-3":am.addClass(K+3);break}}else{D(Y.get("parentNode"))}}if(i){var K="tour-step",am=d.one("body");i.one(".close-x").on("click",N);i.on("mouseover",function(Y){D(Y.target)});i.on("mouseout",function(Y){k()})}},"0.0.1",{requires:F.config.modules[a].requires||[],optional:F.config.modules[a].optional||[]})}());(function(){var a="photos-list-transjax";YUI.add(a,function(c){var b={confirm_remove_your_photo_from_specific_members_favorites:"Are you sure you want to remove your photo from %s favorites?",confirm_remove_your_photo_from_this_members_favorites:"Are you sure you want to remove your photo from this member's favorites?",confirm_remove_their_photo_from_your_favorites:'Are you sure you want to remove this photo from your favorites?',confirm_remove_your_photo_from_group_pool:'Are you sure you want to remove your photo from the pool?',confirm_remove_their_photo_from_group_pool:'Are you sure you want to remove your photo from the pool?',yes_remove_it:'YES, REMOVE IT',remove_fave_photo:'Remove this photo from your favorites?',remove_fave_video:'Remove this video from your favorites?',add_fave_photo:'Add this photo to your favorites?',add_fave_video:'Add this video to your favorites?',view_photos_in_lightbox:'View these photos in a light box',scroll_down:'Scroll down',scroll_up:'Scroll up',scroll_to_next_row:'Scroll to next row',scroll_to_prev_row:'Scroll to previous row',polling_found_more_photos:'More photos have been added at the beginning of the context. <a href="javascript:location.reload()">Reload to see them</a>'};c.transjax.add("photos-list",b)},"0.0.1",{requires:F.config.modules[a].requires||[],optional:F.config.modules[a].optional||[]})}());YUI.add("string-filters",function(d){function m(s){return s.replace(/\n/g,"<br>")}function o(s){s=d.Lang.trim(s);s="<p>"+s+"</p>";s=s.replace(/<blockquote>(.*?)<\/blockquote>/g,"</p><blockquote><p>$1</p></blockquote><p>");s=s.replace(/(?:\r?\n){2,}/g,"</p><p>");s=s.replace(/(?:\r?\n){1}/g,"<br>");s=s.replace(/<p><\/p>/g,"");s=s.replace(/<br><\/p>/g,"</p>");s=s.replace(/<p><br>/g,"<p>");return s}function k(u,t){var s={34:"quot",38:"amp",39:"apos",60:"lt",62:"gt",160:"nbsp",161:"iexcl",162:"cent",163:"pound",164:"curren",165:"yen",166:"brvbar",167:"sect",168:"uml",169:"copy",170:"ordf",171:"laquo",172:"not",173:"shy",174:"reg",175:"macr",176:"deg",177:"plusmn",178:"sup2",179:"sup3",180:"acute",181:"micro",182:"para",183:"middot",184:"cedil",185:"sup1",186:"ordm",187:"raquo",188:"frac14",189:"frac12",190:"frac34",191:"iquest",192:"Agrave",193:"Aacute",194:"Acirc",195:"Atilde",196:"Auml",197:"Aring",198:"AElig",199:"Ccedil",200:"Egrave",201:"Eacute",202:"Ecirc",203:"Euml",204:"Igrave",205:"Iacute",206:"Icirc",207:"Iuml",208:"ETH",209:"Ntilde",210:"Ograve",211:"Oacute",212:"Ocirc",213:"Otilde",214:"Ouml",215:"times",216:"Oslash",217:"Ugrave",218:"Uacute",219:"Ucirc",220:"Uuml",221:"Yacute",222:"THORN",223:"szlig",224:"agrave",225:"aacute",226:"acirc",227:"atilde",228:"auml",229:"aring",230:"aelig",231:"ccedil",232:"egrave",233:"eacute",234:"ecirc",235:"euml",236:"igrave",237:"iacute",238:"icirc",239:"iuml",240:"eth",241:"ntilde",242:"ograve",243:"oacute",244:"ocirc",245:"otilde",246:"ouml",247:"divide",248:"oslash",249:"ugrave",250:"uacute",251:"ucirc",252:"uuml",253:"yacute",254:"thorn",255:"yuml",338:"OElig",339:"oelig",352:"Scaron",353:"scaron",376:"Yuml",402:"fnof",710:"circ",732:"tilde",913:"Alpha",914:"Beta",915:"Gamma",916:"Delta",917:"Epsilon",918:"Zeta",919:"Eta",920:"Theta",921:"Iota",922:"Kappa",923:"Lambda",924:"Mu",925:"Nu",926:"Xi",927:"Omicron",928:"Pi",929:"Rho",931:"Sigma",932:"Tau",933:"Upsilon",934:"Phi",935:"Chi",936:"Psi",937:"Omega",945:"alpha",946:"beta",947:"gamma",948:"delta",949:"epsilon",950:"zeta",951:"eta",952:"theta",953:"iota",954:"kappa",955:"lambda",956:"mu",957:"nu",958:"xi",959:"omicron",960:"pi",961:"rho",962:"sigmaf",963:"sigma",964:"tau",965:"upsilon",966:"phi",967:"chi",968:"psi",969:"omega",977:"thetasym",978:"upsih",982:"piv",8194:"ensp",8195:"emsp",8201:"thinsp",8204:"zwnj",8205:"zwj",8206:"lrm",8207:"rlm",8211:"ndash",8212:"mdash",8216:"lsquo",8217:"rsquo",8218:"sbquo",8220:"ldquo",8221:"rdquo",8222:"bdquo",8224:"dagger",8225:"Dagger",8226:"bull",8230:"hellip",8240:"permil",8242:"prime",8243:"Prime",8249:"lsaquo",8254:"oline",8260:"frasl",8250:"rsaquo",8364:"euro",8472:"weierp",8465:"image",8476:"real",8482:"trade",8501:"alefsym",8592:"larr",8593:"uarr",8594:"rarr",8595:"darr",8596:"harr",8629:"crarr",8656:"lArr",8657:"uArr",8658:"rArr",8659:"dArr",8660:"hArr",8704:"forall",8706:"part",8707:"exist",8709:"empty",8711:"nabla",8712:"isin",8713:"notin",8715:"ni",8719:"prod",8721:"sum",8722:"minus",8727:"lowast",8730:"radic",8733:"prop",8734:"infin",8736:"ang",8743:"and",8744:"or",8745:"cap",8746:"cup",8747:"int",8756:"there4",8764:"sim",8773:"cong",8776:"asymp",8800:"ne",8801:"equiv",8804:"le",8805:"ge",8834:"sub",8835:"sup",8836:"nsub",8838:"sube",8839:"supe",8853:"oplus",8855:"otimes",8869:"perp",8901:"sdot",8968:"lceil",8969:"rceil",8970:"lfloor",8971:"rfloor",9001:"lang",9002:"rang",9674:"loz",9824:"spades",9827:"clubs",9829:"hearts",9830:"diams"};if(t){return u.replace(/[\u00A0-\u2666<>\&]/g,function(v){return"&"+(s[v.charCodeAt(0)]?s[v.charCodeAt(0)]:"#"+v.charCodeAt(0))+";"})}else{u=u.replace(/&/g,"&amp;");u=u.replace(/"/g,"&quot;");u=u.replace(/</g,"&lt;");u=u.replace(/>/g,"&gt;");return u}}function j(t,s){if(!t.match(/&/)){return t}if(s){var u=document.createElement("div");u.innerHTML=t;if(u.childNodes.length===0){return""}else{return u.childNodes[0].nodeValue===null?j(t,false):u.childNodes[0].nodeValue}return u.childNodes.length===0?"":u.childNodes[0].nodeValue}else{t=t.replace(/&amp;/g,"&");t=t.replace(/&quot;/g,'"');t=t.replace(/&lt;/g,"<");t=t.replace(/&gt;/g,">");return t}}function i(x,D,s){if(!s){s=" "}if(!D){D=""}D=D.replace(/\s/g,s);if(x.indexOf("http://")>-1){var A=x.split("\n");for(var z=0;z<A.length;z++){var v=A[z].split(" ");for(var C=0;C<v.length;C++){var E="";if(v[C].substr(0,1)==="("){v[C]=v[C].replace(/\(/g,"");E="("}if(v[C].substr(0,7)==="http://"){var u=v[C];var B="";if(u.substr(u.length-1,1)===")"){u=u.substr(0,u.length-1);B=")"}var w="";if(u.substr(u.length-1,1)==="."){u=u.substr(0,u.length-1);w="."}v[C]=('<a href="'+u+'" rel="nofollow" onclick="'+D+'">'+u+"</a>"+B+w).replace(/\s/g,s)}v[C]=E+v[C]}A[z]=v.join(" ")}x=A.join("\n")}return x}function b(s){if(d.config.flickr.lang&&d.config.flickr.lang!=="en-us"){return s}if(s.substr(s.length-1,1).toLowerCase()==="s"){return s+"'"}else{return s+"'s"}}function g(w,s,v,u){v=v||"\n";s=s||75;u=u||false;if(!w){return w}var t=".{1,"+s+"}(\\s|$)"+(u?"|.{"+s+"}|.+$":"|\\S+?(\\s|$)");return w.match(new RegExp(t,"g")).join(v)}function f(y,s,t,A){s=s||80;t=t||'<span class="breaking-non-space"> </span>';if(A!==false){A=true}var B=g(y,s,t,A);var z=B.split(t);if(z.length<=1){return y}var w="";for(var u=0,v=z.length,x=0;u<v-1;u++){x+=z[u].length;if(y[x]===" "){w+=z[u]+" ";x++}else{w+=z[u]+t}}w+=z[z.length-1];return w}function h(y){if(y===""||y===null||y===undefined){return""}y=y.toString();var t="";for(var w=0;w<y.length;w++){var z=y.charCodeAt(w);var v=[];if(z>65536){v[0]=240|((z&1835008)>>>18);v[1]=128|((z&258048)>>>12);v[2]=128|((z&4032)>>>6);v[3]=128|(z&63)}else{if(z>2048){v[0]=224|((z&61440)>>>12);v[1]=128|((z&4032)>>>6);v[2]=128|(z&63)}else{if(z>128){v[0]=192|((z&1984)>>>6);v[1]=128|(z&63)}else{v[0]=z}}}if(v.length>1){for(var u=0;u<v.length;u++){var s=v[u];var x=l((s&240)>>>4)+l(s&15);t+="%"+x}}else{if(encodeURIComponent&&typeof encodeURIComponent==="function"){t+=encodeURIComponent(String.fromCharCode(v[0]))}else{t+=(String.fromCharCode(v[0]))}}}return t}function n(w){if(w===""||w===null||w===undefined){return""}w=w.toString();var s="";for(var v=0;v<w.length;v++){var x=w.charCodeAt(v);var u=[];if(x>65536){u[0]=240|((x&1835008)>>>18);u[1]=128|((x&258048)>>>12);u[2]=128|((x&4032)>>>6);u[3]=128|(x&63)}else{if(x>2048){u[0]=224|((x&61440)>>>12);u[1]=128|((x&4032)>>>6);u[2]=128|(x&63)}else{if(x>128){u[0]=192|((x&1984)>>>6);u[1]=128|(x&63)}else{u[0]=x}}}if(u.length>1){for(var t=0;t<u.length;t++){s+=(String.fromCharCode(u[t]))}}else{s+=(String.fromCharCode(u[0]))}}return s}function l(s){var t="0123456789ABCDEF";return t.charAt(s)}function q(s){return s.replace(/<\w+(\s+("[^"]*"|'[^']*'|[^>])+)?>|<\/\w+>/gi,"")}function c(u,s,t){s=s||30;t=d.Lang.isString(t)?t:"...";if(u.length>s){u=u.slice(0,s-t.length)+t}return u}function a(v){var s,u,t;s=["(?:ae|æ)","(?:oe|œ)","(?:ss|ß)","(?:th|Þ)","[aáàâäãåấ]","[eéèêëě3]","[iíìîïǐ]","[oóòôöõǒỏơớờởỡợø]","[uúùûüǔǚưứừửữự]","[yýÿ]","[cçč]","[dÐ]","[fƒ]","[gǧ]","[hȟ]","[jǰ]","[kǩ]","[lľ]","[nñň]","[rř®]","[sšṧ]","[tť]","[zž]"];u=s.length;for(t=0;t<u;t++){v=v.replace(new RegExp(s[t],"gi"),s[t])}return v}function p(t){var s=/^[a-z_0-9\.\-\+]+@[a-z_0-9\.\-\+]+\.[a-z]/i;return s.test(t)}function r(u){if(!d.Lang.isString(u)||u.length===0){return""}var v=u.substring(1,u.length).toLowerCase().split(""),s="",t={a:"",e:"",i:"",o:"",u:"",b:1,f:1,p:1,v:1,c:2,g:2,j:2,k:2,q:2,s:2,x:2,z:2,d:3,t:3,l:4,m:5,n:5,r:6};v=d.Array.filter(v,function(x,w,y){return x!==y[w+1]});v=d.Array.map(v,function(w){return t[w]});s=u.charAt(0).toUpperCase()+v.join("");return(s+"000").slice(0,4)}function e(t,s){var u=3;if(!d.Lang.isString(t)||!d.Lang.isString(s)||t.length<4||s.length<4){return false}if(t===s){return true}while(t.charAt(u)==="0"||s.charAt(u)==="0"){t=t.slice(0,u);s=s.slice(0,u);if(t===s){return 4-u}u--}return false}d.StringFilters={nl2br:m,nl2p:o,escape_entities:k,unescape_entities:j,linkify:i,possess:b,wordwrap:g,zero_width_wordwrap:f,escape_utf8:h,escape_utf8_bytes:n,strip_tags:q,truncate:c,substitute_equivalent_chars:a,is_email_address:p,soundex:r,isEqualSoundex:e}},"0.0.1",{requires:F.config.modules["string-filters"].requires||[],optional:F.config.modules["string-filters"].optional||[]});/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("substitute",function(e,t){var n=e.Lang,r="dump",i=" ",s="{",o="}",u=/(~-(\d+)-~)/g,a=/\{LBRACE\}/g,f=/\{RBRACE\}/g,l=function(t,l,c,h){var p,d,v,m,g,y,b=[],w,E,S=t.length;for(;;){p=t.lastIndexOf(s,S);if(p<0)break;d=t.indexOf(o,p);if(p+1>=d)break;w=t.substring(p+1,d),m=w,y=null,v=m.indexOf(i),v>-1&&(y=m.substring(v+1),m=m.substring(0,v)),g=l[m],c&&(g=c(m,g,y)),n.isObject(g)?e.dump?n.isArray(g)?g=e.dump(g,parseInt(y,10)):(y=y||"",E=y.indexOf(r),E>-1&&(y=y.substring(4)),g.toString===Object.prototype.toString||E>-1?g=e.dump(g,parseInt(y,10)):g=g.toString()):g=g.toString():n.isUndefined(g)&&(g="~-"+b.length+"-~",b.push(w)),t=t.substring(0,p)+g+t.substring(d+1),h||(S=p-1)}return t.replace(u,function(e,t,n){return s+b[parseInt(n,10)]+o}).replace(a,s).replace(f,o)};e.substitute=l,n.substitute=l},"3.11.0",{requires:["yui-base"],optional:["dump"]});
YUI.add("flickr-dialog-base",function(f){f.FlickrDialog={};var d='<div class="flickr-dialog {dialogClass} hidden" role="{role}"><div class="flickr-dialog-container"><div class="flickr-dialog-content-wrapper">{dialogContentHTML}</div></div></div>',c='<div class="flickr-dialog-mask hidden"></div>',a=20001,b=20000,e=0.35;f.FlickrDialog.Base=function(g){f.Attribute.call(this,f.FlickrDialog.ATTRS,g);this._createAndInsertHTML();this._attachEvents()};f.extend(f.FlickrDialog.Base,f.Attribute);f.FlickrDialog.ATTRS={dialogContentHTML:{value:"",validator:f.Lang.isString},width:{value:330,validator:function(g){return(f.Lang.isNumber(g)||g==="auto")}},modal:{value:true,validator:f.Lang.isBoolean,writeOnce:"initOnly"},context:{valueFn:function(){return"flickr-dialog-"+f.guid()},validator:f.Lang.isString,writeOnce:"initOnly"},dialogClass:{value:"flickr-dialog-base",validator:f.Lang.isString},role:{value:"dialog",validator:f.Lang.isString,writeOnce:"initOnly"},allowClicksOnMaskToHide:{value:false,validator:f.Lang.isBoolean,writeOnce:"initOnly"},allowReturnKeyToConfirm:{value:false,validator:f.Lang.isBoolean,writeOnce:"initOnly"},allowEscKeyToCancel:{value:true,validator:f.Lang.isBoolean},allowEventsToPropagate:{value:true,validator:f.Lang.isBoolean,writeOnce:"initOnly"},allowFocusOnFirstElement:{value:true,validator:f.Lang.isBoolean,writeOnce:"initOnly"},restoreFocusOnHide:{value:true,validator:f.Lang.isBoolean,writeOnce:"initOnly"},setAriaLabelledby:{value:true,validator:f.Lang.isBoolean,writeOnce:"initOnly"},allowModalToShrink:{value:false,validator:f.Lang.isBoolean,writeOnce:"initOnly"},shrunkWidth:{value:280,validator:f.Lang.isNumber},shrunkClass:{value:"flickr-dialog-shrunk",validator:f.Lang.isString},autoCenter:{value:true,validator:f.Lang.isNumber},resizeDetectionThrottle:{value:50,validator:f.Lang.isNumber},dialogNode:{value:null},maskNode:{value:null},primaryControl:{value:null},timestamp:{value:null,validator:f.Lang.isNumber},showing:{value:false,validator:f.Lang.isBoolean},stackingOrder:{value:0,validator:f.Lang.isNumber}};f.FlickrDialog.Base.prototype._createAndInsertHTML=function(){var h,g;this.set("timestamp",(new Date()).getTime());this.set("dialogNode",f.Node.create(f.substitute(d,{dialogClass:this.get("dialogClass"),role:this.get("role"),dialogContentHTML:this.get("dialogContentHTML")})));f.one("body").append(this.get("dialogNode"));this.set("maskNode",f.Node.create(c));f.one("body").append(this.get("maskNode"));this.set("primaryControl",(this.get("dialogNode").one("input, button, textarea")||this.get("dialogNode")));this.get("dialogNode").setStyle("width",(this.get("width")==="auto"?this.get("width"):this.get("width")+"px"));if(this.get("setAriaLabelledby")){h=this.get("dialogNode").one(".hd h1, .hd h2, .hd h3, .hd h4, .hd h5, .hd h6");if(h){g=h.generateID();this.get("dialogNode").setAttribute("aria-labelledby",g)}}};f.FlickrDialog.Base.prototype._attachEvents=function(){if(this.get("allowClicksOnMaskToHide")){this.get("maskNode").on("click",this._hideAdapter,this)}if(this.get("allowReturnKeyToConfirm")){f.keyboardShortcutManager.register({keystring:"13",handler:this._confirmAdapter,context:this.get("context"),scope:this})}f.keyboardShortcutManager.register({keystring:"27",handler:this._hideAdapter,context:this.get("context"),scope:this});if(this.get("modal")){f.on(["FlickrDialog:show","FlickrDialog:hide"],this._adjustMaskOpacity,this)}this.after("dialogContentHTMLChange",function(g){this.get("dialogNode").one(".flickr-dialog-content-wrapper").set("innerHTML",g.newVal)});this.after(["widthChange","shrunkWidthChange"],function(g){this.get("dialogNode").setStyle("width",(this.get("width")==="auto"?this.get("width"):this.get("width")+"px"));if(this.get("autoCenter")){if(this.get("allowModalToShrink")){this._modalWidth=this.get("dialogNode").get("offsetWidth");this._modalHeight=this.get("dialogNode").get("offsetHeight");this._checkWindowSize({widthWasChanged:true})}else{this.center()}}});this.after("dialogClassChange",function(g){this.get("dialogNode").removeClass(g.prevVal).addClass(g.newVal)});this.after("shrunkClassChange",function(g){if(this._currentlyShrunk){this.get("dialogNode").removeClass(g.prevVal).addClass(g.newVal)}})};f.FlickrDialog.Base.prototype._hideAdapter=function(g){if(g.charCode===27&&!this.get("allowEscKeyToCancel")){return}if(!this.get("allowEventsToPropagate")){g.stopPropagation()}this.hide()};f.FlickrDialog.Base.prototype._confirmAdapter=function(g){var h=f.focusTracker.get();if(!h||!h.hasClass("CancelButt")){this.hide(true)}};f.FlickrDialog.Base.prototype._stack=function(g){this.get("dialogNode").setStyle("zIndex",a+(2*f.FlickrDialog.Base.visibleDialogs));this.get("maskNode").setStyle("zIndex",b+(2*f.FlickrDialog.Base.visibleDialogs))};f.FlickrDialog.Base.prototype._unstack=function(g){this.get("dialogNode").setStyle("zIndex","");this.get("maskNode").setStyle("zIndex","")};f.FlickrDialog.Base.prototype._adjustMaskOpacity=function(j){var g,i,h;if(!this.get("showing")){return}if(this.get("stackingOrder")===0||f.FlickrDialog.Base.visibleModalDialogs===1){this.get("maskNode").setStyle("opacity",e)}else{g=1-e;i=Math.pow(g,1/f.FlickrDialog.Base.visibleModalDialogs);h=1-i;this.get("maskNode").setStyle("opacity",h)}};f.FlickrDialog.Base.prototype._enforceModality=function(g){if(this.isTopDialog()&&!this.get("dialogNode").contains(g.target)){this.get("primaryControl").focus()}};f.FlickrDialog.Base.prototype._checkWindowSize=function(k){var g=f.DOM.winWidth(),h=f.DOM.winHeight(),i=(!this._currentlyShrunk&&(this._modalWidth>g||this._modalHeight>h))||(this._currentlyShrunk&&(this._modalWidth<=g&&this._modalHeight<=h)),j=k.widthWasChanged;if(this.get("allowModalToShrink")&&(i||j)){if((!this._currentlyShrunk||j)&&(this._modalWidth>g||this._modalHeight>h)){this.get("dialogNode").setStyle("width",(this.get("shrunkWidth")==="auto"?this.get("shrunkWidth"):this.get("shrunkWidth")+"px"));this.get("dialogNode").addClass(this.get("shrunkClass"));this._currentlyShrunk=true;this.fire("shrunk")}else{this.get("dialogNode").setStyle("width",this.get("width")==="auto"?this.get("width"):this.get("width")+"px");this.get("dialogNode").removeClass(this.get("shrunkClass"));this._currentlyShrunk=false;this.fire("unshrunk")}if(this.get("autoCenter")){this.center()}}this.fire("viewportResized",{viewportHeight:h,viewportWidth:g,hasChanged:i,modalHeight:this._modalHeight,modalWidth:this._modalWidth})};f.FlickrDialog.Base.prototype.show=function(g){if(this.get("showing")){return}if(this.get("restoreFocusOnHide")){this._previouslySelectedNode=f.focusTracker.get()}this.get("dialogNode").removeClass("hidden");this.center();this._stack();if(this.get("modal")){this.get("maskNode").removeClass("hidden");this._modalityHandler=f.one(f.config.doc).on("focus",this._enforceModality,this)}this._modalWidth=this.get("dialogNode").get("offsetWidth");this._modalHeight=this.get("dialogNode").get("offsetHeight");this._windowResizeHandler=f.on("resize",f.betterThrottle(this._checkWindowSize,this.get("resizeDetectionThrottle"),this));f.PageContext.set(this.get("context"));this.set("showing",true);f.FlickrDialog.Base.visibleDialogs++;if(this.get("modal")){f.FlickrDialog.Base.visibleModalDialogs++}this.set("stackingOrder",f.FlickrDialog.Base.visibleDialogs);this.fire("show",g);f.fire("FlickrDialog:show");if(this.get("allowFocusOnFirstElement")){f.focusTracker.blur();this.get("primaryControl").focus()}};f.FlickrDialog.Base.prototype.hide=function(g){if(!this.get("showing")){return}if(this.get("modal")){this._modalityHandler.detach()}if(this.get("allowModalToShrink")){this._windowResizeHandler.detach()}if(f.focusTracker.isInput()){f.focusTracker.blur()}this.get("dialogNode").addClass("hidden");this.get("maskNode").addClass("hidden");if(this._previouslySelectedNode){f.later(0,this._previouslySelectedNode,this._previouslySelectedNode.focus)}f.PageContext.unset(this.get("context"));this._unstack();this.set("showing",false);f.FlickrDialog.Base.visibleDialogs--;if(this.get("modal")){f.FlickrDialog.Base.visibleModalDialogs--}this.set("stackingOrder",0);this.fire("hide",g);f.fire("FlickrDialog:hide")};f.FlickrDialog.Base.prototype.center=function(){var g=this.get("dialogNode").get("offsetWidth"),i=this.get("dialogNode").get("offsetHeight");this.get("dialogNode").setStyle("marginLeft",-(g/2)+"px");this.get("dialogNode").setStyle("marginTop",-(i/2)+"px");this.fire("center")};f.FlickrDialog.Base.prototype.isTopDialog=function(){return(this.get("stackingOrder")===f.FlickrDialog.Base.visibleDialogs)};f.FlickrDialog.Base.prototype.destroy=function(g){this.hide();this.get("dialogNode").empty();this.get("maskNode").empty();this.get("dialogNode").remove(true);this.get("maskNode").remove(true);this.fire("destroy",g);f.fire("FlickrDialog:destroy")};f.FlickrDialog.Base.visibleDialogs=0;f.FlickrDialog.Base.visibleModalDialogs=0},"0.0.1",{requires:F.config.modules["flickr-dialog-base"].requires||[],optional:F.config.modules["flickr-dialog-base"].optional||[]});YUI.add("flickr-dialog-alert",function(d){var c='<div class="hd">{message}</div><div class="bd button-container"><input type="button" class="{confirmButtonClass}" value="{confirmButtonText}" id="{confirmButtonId}"></div>';d.FlickrDialog.Alert=function(e){var f,g;f={message:"",confirmButtonText:d.transjax.get("global-dialog","button_confirm"),confirmButtonClass:"Butt",confirmButtonId:d.guid(),callback:function(h){},dialogClass:"flickr-dialog-alert",role:"alertdialog",allowReturnKeyToConfirm:true};e=d.mix(e||{},f);e.dialogContentHTML=d.substitute(c,e);d.FlickrDialog.Alert.superclass.constructor.call(this,e);g={message:{value:f.message,validator:d.Lang.isString,writeOnce:"initOnly"},confirmButtonText:{value:f.confirmButtonText,validator:d.Lang.isString,writeOnce:"initOnly"},confirmButtonClass:{value:f.confirmButtonClass,validator:d.Lang.isString,writeOnce:"initOnly"},confirmButtonId:{value:f.confirmButtonId,validator:d.Lang.isString,writeOnce:"initOnly"},callback:{value:f.callback,validator:d.Lang.isFunction,writeOnce:"initOnly"}};this.addAttrs(g,e);d.one("#"+this.get("confirmButtonId")).on("click",this.hide,this);this.on("hide",this.get("callback"),this)};var a={},b={};d.extend(d.FlickrDialog.Alert,d.FlickrDialog.Base,a,b)},"0.0.1",{requires:F.config.modules["flickr-dialog-alert"].requires||[],optional:F.config.modules["flickr-dialog-alert"].optional||[]});YUI.add("flickr-dialog-confirmation",function(c){var e='{titleHTML}<div class="bd">{message}{photoHTML}</div><div class="bd button-container"><input type="button" class="{confirmButtonClass}" value="{confirmButtonText}" id="{confirmButtonId}"> <input type="button" class="{cancelButtonClass}" value="{cancelButtonText}" id="{cancelButtonId}"></div>',d='<div class="hd"><h3>{title}</h3></div>';PHOTO_TEMPLATE='<div class="photo-container"><img src="{url}" width="{width}" height="{height}"></div>';c.FlickrDialog.ConfirmationDialog=function(f){var g,h;g={title:"",message:"",photo:null,confirmButtonText:c.transjax.get("global-dialog","button_confirm"),confirmButtonClass:"Butt",confirmButtonId:c.guid(),cancelButtonText:c.transjax.get("global-dialog","button_cancel"),cancelButtonClass:"CancelButt",cancelButtonId:c.guid(),callback:function(i){},dialogClass:"flickr-dialog-confirmation",role:"alertdialog",allowReturnKeyToConfirm:true};f=c.mix(f||{},g);f.titleHTML=(f.title)?c.substitute(d,f):"";f.photoHTML=(f.photo)?c.substitute(PHOTO_TEMPLATE,f.photo):"";f.dialogContentHTML=c.substitute(e,f);c.FlickrDialog.ConfirmationDialog.superclass.constructor.call(this,f);h={title:{value:g.title,validator:c.Lang.isString,writeOnce:"initOnly"},message:{value:g.message,validator:c.Lang.isString,writeOnce:"initOnly"},photo:{value:g.photo,writeOnce:"initOnly"},confirmButtonText:{value:g.confirmButtonText,validator:c.Lang.isString,writeOnce:"initOnly"},confirmButtonClass:{value:g.confirmButtonClass,validator:c.Lang.isString,writeOnce:"initOnly"},confirmButtonId:{value:g.confirmButtonId,validator:c.Lang.isString,writeOnce:"initOnly"},cancelButtonText:{value:g.cancelButtonText,validator:c.Lang.isString,writeOnce:"initOnly"},cancelButtonClass:{value:g.cancelButtonClass,validator:c.Lang.isString,writeOnce:"initOnly"},cancelButtonId:{value:g.cancelButtonId,validator:c.Lang.isString,writeOnce:"initOnly"},callback:{value:g.callback,writeOnce:"initOnly"}};this.addAttrs(h,f);c.one("#"+this.get("confirmButtonId")).on("click",this._checkConfirmationAndHide,this,true);c.one("#"+this.get("cancelButtonId")).on("click",this._checkConfirmationAndHide,this);this.on("hide",this._invokeCallback,this)};var a={},b={};a._checkConfirmationAndHide=function(f,g){this.hide(g)};a._invokeCallback=function(f,g){if(typeof this.get("callback")==="function"){this.get("callback")(g)}else{if(g&&typeof this.get("callback").confirmed==="function"){this.get("callback").confirmed()}else{if(!g&&typeof this.get("callback").cancelled==="function"){this.get("callback").cancelled()}}}};c.extend(c.FlickrDialog.ConfirmationDialog,c.FlickrDialog.Base,a,b)},"0.0.1",{requires:F.config.modules["flickr-dialog-confirmation"].requires||[],optional:F.config.modules["flickr-dialog-confirmation"].optional||[]});YUI.add("flickr-dialog-destructive-confirmation",function(c){c.FlickrDialog.DestructiveConfirmationDialog=function(d){var e;e={confirmButtonClass:"DeleteButt"};d=c.mix(d||{},e);c.FlickrDialog.DestructiveConfirmationDialog.superclass.constructor.call(this,d);this.set("primaryControl",c.one("#"+this.get("cancelButtonId")))};var a={},b={};c.extend(c.FlickrDialog.DestructiveConfirmationDialog,c.FlickrDialog.ConfirmationDialog,a,b)},"0.0.1",{requires:F.config.modules["flickr-dialog-destructive-confirmation"].requires||[],optional:F.config.modules["flickr-dialog-destructive-confirmation"].optional||[]});YUI.add("flickr-dialog-frame",function(c){c.FlickrDialog.Frame=function(d){var e={dialogClass:"flickr-dialog-frame"};d=c.mix(d||{},e);c.FlickrDialog.Frame.superclass.constructor.call(this,d)};var a={},b={};c.extend(c.FlickrDialog.Frame,c.FlickrDialog.Base,a,b)},"0.0.1",{requires:F.config.modules["flickr-dialog-frame"].requires||[],optional:F.config.modules["flickr-dialog-frame"].optional||[]});YUI.add("flickr-dialog-short-message",function(d){var a='<span class="short-msg-{type}"></span>{message}';d.FlickrDialog.ShortMessage=function(e){var f,g;f={message:"",width:"auto",type:"no-icon",callback:function(h){},dialogClass:"flickr-dialog-short-message",role:"alertdialog",allowClicksOnMaskToHide:true,allowReturnKeyToConfirm:true,timeToHide:4000};e=d.mix(e||{},f);e.dialogContentHTML=d.substitute(a,e);d.FlickrDialog.ShortMessage.superclass.constructor.call(this,e);g={message:{value:f.message,validator:d.Lang.isString,writeOnce:"initOnly"},callback:{value:f.callback,writeOnce:"initOnly"},timeToHide:{value:f.timeToHide,validator:d.Lang.isNumber,writeOnce:"initOnly"}};this.addAttrs(g,e);this.on("hide",this.get("callback"),this);if(this.get("timeToHide")){this.on("show",this._startFinalCountdown,this);this.on("hide",this._cancelFinalCountdown,this)}};var b={},c={};b._startFinalCountdown=function(){this._timer=d.later(this.get("timeToHide"),this,this.hide)};b._cancelFinalCountdown=function(){this._timer.cancel()};d.extend(d.FlickrDialog.ShortMessage,d.FlickrDialog.Base,b,c)},"0.0.1",{requires:F.config.modules["flickr-dialog-short-message"].requires||[],optional:F.config.modules["flickr-dialog-short-message"].optional||[]});YUI.add("flickr-dialog-spinner",function(c){c.FlickrDialog.Spinner=function(d){var e={dialogClass:"flickr-dialog-spinner",width:"auto",allowEscKeyToCancel:false};d=c.mix(d||{},e);c.FlickrDialog.Spinner.superclass.constructor.call(this,d)};var a={},b={};c.extend(c.FlickrDialog.Spinner,c.FlickrDialog.Base,a,b)},"0.0.1",{requires:F.config.modules["flickr-dialog-spinner"].requires||[],optional:F.config.modules["flickr-dialog-spinner"].optional||[]});YUI.add("flickr-dialog",function(a){},"0.0.1",{requires:F.config.modules["flickr-dialog"].requires||[],optional:F.config.modules["flickr-dialog"].optional||[]});YUI.add("photo-comments-transjax",function(a){a.transjax.add("photo-comments",{error_delete_permission:"Sorry, but you don\'t have permission to delete that comment, or you aren\'t signed into Flickr.",error_delete_generic:'Sorry, but there was a problem deleting the comment.',error_edit_getting:'Sorry, but there was a problem getting the comment to edit.',error_edit_generic:'Sorry, but there was a problem editing the comment.',error_add_rate_limit:'Slow down, partner! To protect the Flickr community against spam, we place a few restrictions on new accounts. You can read more about these restrictions in <a href="/help/website/#870679">this FAQ</a>.',error_add_generic:'We had a problem saving your comment.',error_getting_comments:'Sorry, but there was a problem getting the comments for this photo.',error_empty_body:"An empty comment box? That won't work!",reply_wipe_confirmation:'You already started typing a comment. If you continue, that text will be lost!',reply_button_confirm:'OKAY',reply_button_cancel:'CANCEL',delete_confirmation:'Are you sure you want to delete this comment?',delete_button_confirm:'YES, DELETE IT',delete_button_cancel:'CANCEL',hide_formatting_tips:'Hide formatting tips',faves_rollup_placeholder:'...and %s more favorites',block_user:'Block this user from commenting on your stuff in the future.',user_blocked:'You are currently blocking this Flickr member. They cannot add any more comments to any of your stuff. You can remove this via the blocked list on your "Contacts" page.',deleting:'Deleting...',trigger_recompile:"",bert_lorem_ipsum:"Lorem Ip\'sum lorem"})},"0.0.1",{requires:["transjax-base"]});YUI.add("fb-reco",function(c){function a(){var d=c.one(".connect-card .fb-butt");if(!d){return}d.on("click",this.getAccessToken,this)}a.prototype={getAccessToken:function(f){f.halt();if(!FB){cb.call(ref,false);return}var d=this;FB.getLoginStatus(function(e){if(e.status==="connected"){window.location.href="/friends/facebook/"}else{if(e.status==="not_authorized"){}else{FB.login(function(g){if(g.authResponse){var h=FB.getAuthResponse()["accessToken"];window.location.href="/friends/facebook/"}},{scope:"offline_access,read_stream,publish_stream,publish_actions"})}}})}};var b=new a();c.fbReco=b},"0.0.1",{requires:F.config.modules["fb-reco"].requires||[]});(function(){var a="refresh-sihp-friendfinder";YUI.add(a,function(c){var d=c.flickrAPI,k={},b=[],f,n=4,j=0,e=4;function l(v){var r=v.length,u,s;while(r){s=Math.floor(Math.random()*r--);u=v[r];v[r]=v[s];v[s]=u}return v}function o(u){var r,s,t;if(u.length>0){r=u.length;while(r--){s=u[r];if(!k[s.nsid]){k[s.nsid]={isUsed:false};t={name:c.StringFilters.escape_entities(s.realname||s.username),nsid:s.nsid,buddyIcon:s.iconurls["default"],photosUrl:"/photos/"+(s.path_alias||s.nsid),relationshipUrl:"/people/"+(s.path_alias||s.nsid+"/")+"relationship/"};b.push(t)}}b=l(b)}}function i(r){var u,s,t;if(r){u="flickr.contacts.import.facebook";s={user_id:F.config.flickr.user.nsid,limit:20,lite:1,extras:"icon_urls_deep"}}else{u="flickr.contacts.getSuggestions";s={user_id:F.config.flickr.user.nsid,extras:"icon_urls_deep",count:20}}t={success:function(v){var x,w;try{if(r){x=v.data["import"].members.contact}else{x=v.data.suggestions.suggestion}}catch(y){x=null}if(x){o(x)}if((!x||b.length<4)&&j<e){j++;i();return}f.one("#fb-loading-balls").remove();for(w=0;w<n;w++){h(q())}c.refreshSIHPSidebar.updateConfig()},failure:function(v){f.remove();c.refreshSIHPSidebar.updateConfig()}};d.callMethod(u,s,t)}function q(){var t=0,r=b.length,u,s;while(t<r){s=k[b[t].nsid];if(s&&!s.isUsed){s.isUsed=true;u=b.shift();return u}else{t++}}return null}function h(r){var s=f.one(".peopleYouMayKnow");if(r){s.append(c.Node.create(['<li class="suggestion clearfix" data-user-nsid='+r.nsid+">",'<a href="'+r.photosUrl+'" class="buddyicon-link"><img src="'+r.buddyIcon+'" alt="" width="32" height="32"></a>','<span class="username"><a href="'+r.photosUrl+'">'+c.StringFilters.truncate(c.StringFilters.escape_entities(r.name),25)+"</a></span>",'<div class="friendfinder-btn-wrapper">','<span class="is-a-contact">'+c.transjax.get("refresh-sihp","added_contact")+"</span>",'<a href="'+r.relationshipUrl+'" data-user-nsid="'+r.nsid+'" data-track="addContact" class="addNewContact add-as-a-contact-link">'+c.transjax.get("refresh-sihp","add_contact")+"</a>","</div>","</li>"].join("")))}}function g(v,r){var y,w,x,s,t,u;y="flickr.contacts.add";w={user_id:r,friend:0,family:0};x={success:function(z){t.hide();u=s.one(".is-a-contact");u.removeClass("is-a-contact");u.addClass("is-a-contact-success");setTimeout(function(){if(s.ancestor("ul").all("li").size()>1){s.ancestor("li").remove();h(q())}else{f.remove()}c.refreshSIHPSidebar.updateConfig()},1000)},failure:function(z){t.hide();v.show()}};s=v.ancestor();t=s.one(".friendfinder-spinner");if(!t){t=c.Node.create('<div class="html5-balls"><span class="blueball"></span><span class="pinkball"></span></div>')}else{t.show()}s.append(t);v.hide();d.callMethod(y,w,x)}function m(s){var r=s.target;if(r.hasClass("add-as-a-contact-link")){s.halt();g(r,r.getAttribute("data-user-nsid"))}}function p(r){f=r.sidebarNode.one("#sihp-friendfinder");if(c.config.flickr.flags.enable_hermes_sihp_fb_friendfinder&&f&&!f.one("#sihp-fb-empty")){i(true)}if(f){f.on("click",m)}var s=c.one("#sihp-fb-empty .fb-butt");if(s){s.on("click",c.fbReco.getAccessToken)}}c.refreshSIHPFriendFinder={init:p}},"0.0.1",{requires:F.config.modules[a].requires||[],optional:F.config.modules[a].optional||[]})}());(function(){var a="refresh-sihp-transjax";YUI.add(a,function(c){var b={remove_fave_photo:'Remove this photo from your favorites?',remove_fave_video:'Remove this video from your favorites?',add_fave_photo:'Add this photo to your favorites?',add_fave_video:'Add this video to your favorites?',added_contact:c.config.flickr.flags.enable_follow_theme?'Following':'Added!',add_contact:c.config.flickr.flags.enable_follow_theme?'Follow':'+ Add',scroll_down:'Scroll down',scroll_up:'Scroll up',scroll_to_next_photo:'Scroll to next photo',scroll_to_prev_photo:'Scroll to previous photo',shortcut_description:'Show all keyboard shortcuts',esc_description:'Close a dialog, like this one'};c.transjax.add("refresh-sihp",b)},"0.0.1",{requires:F.config.modules[a].requires||[],optional:F.config.modules[a].optional||[]})}());(function(){var a="refresh-sihp-sidebar";YUI.add(a,function(d){var l=0,h=0,c=0,b=0,e=0,i=0,j=0,p=0,u=0,g=10,o=0,f=0,k=this;var s={body:d.one(document.body),main:d.one("#main"),nav:d.one("#global-nav"),feed:d.one("#activityFeed"),sidebar:d.one("#sidebar"),billboardAd:d.one("#ad-container-billboard")};function n(){var w={spaceID:792600147,position:"MAST"};var x=F.adHelper;if(x){x.onScheduledAd(w,function(){v({includeNav:true});q()})}}function t(){var w="magic_cookie="+d.config.flickr.magic_cookie,x={method:"get",data:w,on:{success:function(B,A,y){var z=A.responseText.replace(/[\t\n]+/g,"");s.sidebar.append(z);r();d.deferImages(s.sidebar.all("img.defer"),{threshold:d.DOM.winHeight()});n()},failure:function(y,z){n()}}};d.io("/refresh_sihp_sidebar_fragment.gne?cachebust="+(new Date()).getTime(),x)}function r(w){w=w||{};w.sidebarNode=s.sidebar;v({includeNav:true,includeFoot:true});if(!d.one("#no-friends")){p=d.one("#see-more-button-wrap").get("offsetHeight")-g}q();d.refreshSIHPFriendFinder.init(w);d.once("refreshAnnouncement:close",function(){v({includeNav:true});q()});d.once("nofriends:close",m);d.once("photobooksbanner:close",m);d.on("SIHP:appended",m);d.on("Liquid:resize",d.betterThrottle(m,100,k))}function v(w){w=w||{};l=d.one("window").get("winHeight");h=s.body.get("docHeight");e=s.feed.get("offsetHeight");i=s.sidebar.get("offsetHeight");f=s.feed.get("offsetWidth");o=s.feed.getX()+f+20;if(s.billboardAd&&f<970){u=s.billboardAd.get("offsetHeight");if(isNaN(u)){u=0}}else{u=0}if(w.includeNav){c=s.nav.get("offsetHeight")+s.nav.get("offsetTop")+g}if(w.includeFoot){b=d.one("#foot")?d.one("#foot").get("offsetHeight"):0;if(d.one("#footer_admin_info_div")){b+=d.one("#footer_admin_info_div").get("offsetHeight")}}}function q(x,w){if(!w){if(document.documentElement&&document.documentElement.scrollTop){w=document.documentElement.scrollTop}else{w=document.body.scrollTop}}if(i<l-c){if(w+c+i>h-b){s.sidebar.setStyles({position:"absolute",top:"auto",bottom:0,left:"auto"})}else{if(w<=u){s.sidebar.setStyles({position:"absolute",top:u,bottom:"auto",left:"auto"})}else{s.sidebar.setStyles({position:"fixed",top:c,bottom:"auto",left:o})}}}else{if(w+c+i>h-b){s.sidebar.setStyles({position:"absolute",top:"auto",bottom:0,left:"auto"})}else{if(w<=Math.abs(l-c-u-i)){s.sidebar.setStyles({position:"absolute",top:u,bottom:"auto",left:"auto"})}else{s.sidebar.setStyles({position:"fixed",top:"auto",bottom:0,left:o})}}}}function m(){v();q()}d.refreshSIHPSidebar={init:r,scrollHandler:q,updateConfig:v,loadSidebar:t}},"0.0.1",{requires:F.config.modules[a].requires||[],optional:F.config.modules[a].optional||[]})}());YUI.add("share-menu-transjax",function(b){var a=null;b.transjax.add("share-menu",{menu_fragment_error:"Sorry, there was a problem loading the sharing menu.",services_fragment_error:"Sorry, we couldn't find any services for you to share with.",grab_the_link_fragment_error:'There was an error',share_blog_no_blogs:"Sorry, we couldn't find any blogs for your account.",share_blog_choose_blog:"Choose a blog below:",sharing_email_error:"Oops! That doesn't look like a real email address. Try again?",sharing_no_contact:"Hmm... we couldn't find %s in your contacts list. Do you want to try entering their email address instead?",sharing_no_member:"Hmm... we couldn't find %s on Flickr. Do you want to try entering their email address instead?",uber_contact_list_default_text:"screen name, real name, or email",uber_contact_list_max_results:"Showing [results_shown] of [total_results] results. <a href='[url]'>See all...</a>",uber_contact_list_no_realname:"No real name given",generating_guest_pass_msg:"Generating Guest Pass...",sharing_initial_instructions:"Enter email addresses or a contact's screen name",sharing_instructions_one_added:"1 recipient so far... add another?",sharing_instructions_many_added:"%s recipients so far... add another?",sharing_msg_over_limit:"Please limit your message to %s characters or fewer.",spam_url_warning:"Hey! A URL or phrase that you tried to post has been used for abuse on Flickr before. (ex. SPAM) If that's you, stop it! If that's not you, sorry, but you can't post it.",spam_share_warning:"Slow down, partner! To protect the Flickr community against spam, we place a few restrictions on new accounts. You can read more about these restrictions in <a href=\'/help/website/#870679\'>this FAQ</a>.",status_sending_msg:"Sending message..."})},"0.0.1",{requires:["transjax-base"]});YUI.add("share-this-v3-dialog-transjax",function(a){a.transjax.add("share-this-v3-dialog",{try_again_later:"D'oh! That didn't work. Please try again later.",following_flickr_waiting:"Following...",following_flickr_success:"Awesome, you're following <a href='http://twitter.com/Flickr' target='_blank'>@Flickr</a>!"})},"0.0.1",{requires:["transjax-base"]});/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("array-extras",function(e,t){var n=e.Array,r=e.Lang,i=Array.prototype;n.lastIndexOf=r._isNative(i.lastIndexOf)?function(e,t,n){return n||n===0?e.lastIndexOf(t,n):e.lastIndexOf(t)}:function(e,t,n){var r=e.length,i=r-1;if(n||n===0)i=Math.min(n<0?r+n:n,r);if(i>-1&&r>0)for(;i>-1;--i)if(i in e&&e[i]===t)return i;return-1},n.unique=function(e,t){var n=0,r=e.length,i=[],s,o,u,a;e:for(;n<r;n++){a=e[n];for(s=0,u=i.length;s<u;s++){o=i[s];if(t){if(t.call(e,a,o,n,e))continue e}else if(a===o)continue e}i.push(a)}return i},n.filter=r._isNative(i.filter)?function(e,t,n){return i.filter.call(e,t,n)}:function(e,t,n){var r=0,i=e.length,s=[],o;for(;r<i;++r)r in e&&(o=e[r],t.call(n,o,r,e)&&s.push(o));return s},n.reject=function(e,t,r){return n.filter(e,function(e,n,i){return!t.call(r,e,n,i)})},n.every=r._isNative(i.every)?function(e,t,n){return i.every.call(e,t,n)}:function(e,t,n){for(var r=0,i=e.length;r<i;++r)if(r in e&&!t.call(n,e[r],r,e))return!1;return!0},n.map=r._isNative(i.map)?function(e,t,n){return i.map.call(e,t,n)}:function(e,t,n){var r=0,s=e.length,o=i.concat.call(e);for(;r<s;++r)r in e&&(o[r]=t.call(n,e[r],r,e));return o},n.reduce=r._isNative(i.reduce)?function(e,t,n,r){return i.reduce.call(e,function(e,t,i,s){return n.call(r,e,t,i,s)},t)}:function(e,t,n,r){var i=0,s=e.length,o=t;for(;i<s;++i)i in e&&(o=n.call(r,o,e[i],i,e));return o},n.find=function(e,t,n){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r,e))return e[r];return null},n.grep=function(e,t){return n.filter(e,function(e,n){return t.test(e)})},n.partition=function(e,t,r){var i={matches:[],rejects:[]};return n.each(e,function(n,s){var u=t.call(r,n,s,e)?i.matches:i.rejects;u.push(n)}),i},n.zip=function(e,t){var r=[];return n.each(e,function(e,n){r.push([e,t[n]])}),r},n.flatten=function(e){var t=[],i,s,o;if(!e)return t;for(i=0,s=e.length;i<s;++i)o=e[i],r.isArray(o)?t.push.apply(t,n.flatten(o)):t.push(o);return t}},"3.11.0",{requires:["yui-base"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("escape",function(e,t){var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&#x60;"},r={html:function(e){return(e+"").replace(/[&<>"'\/`]/g,r._htmlReplacer)},regex:function(e){return(e+"").replace(/[\-$\^*()+\[\]{}|\\,.?\s]/g,"\\$&")},_htmlReplacer:function(e){return n[e]}};r.regexp=r.regex,e.Escape=r},"3.11.0",{requires:["yui-base"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("autocomplete-base",function(e,t){function T(){}var n=e.Escape,r=e.Lang,i=e.Array,s=e.Object,o=r.isFunction,u=r.isString,a=r.trim,f=e.Attribute.INVALID_VALUE,l="_functionValidator",c="_sourceSuccess",h="allowBrowserAutocomplete",p="inputNode",d="query",v="queryDelimiter",m="requestTemplate",g="results",y="resultListLocator",b="value",w="valueChange",E="clear",S=d,x=g;T.prototype={initializer:function(){e.before(this._bindUIACBase,this,"bindUI"),e.before(this._syncUIACBase,this,"syncUI"),this.publish(E,{defaultFn:this._defClearFn}),this.publish(S,{defaultFn:this._defQueryFn}),this.publish(x,{defaultFn:this._defResultsFn})},destructor:function(){this._acBaseEvents&&this._acBaseEvents.detach(),delete this._acBaseEvents,delete this._cache,delete this._inputNode,delete this._rawSource},clearCache:function(){return this._cache&&(this._cache={}),this},sendRequest:function(t,n){var r,i=this.get("source");return t||t===""?this._set(d,t):t=this.get(d)||"",i&&(n||(n=this.get(m)),r=n?n.call(this,t):t,i.sendRequest({query:t,request:r,callback:{success:e.bind(this._onResponse,this,t)}})),this},_bindUIACBase:function(){var t=this.get(p),n=t&&t.tokenInput;n&&(t=n.get(p),this._set("tokenInput",n));if(!t){e.error("No inputNode specified.");return}this._inputNode=t,this._acBaseEvents=new e.EventHandle([t.on(w,this._onInputValueChange,this),t.on("blur",this._onInputBlur,this),this.after(h+"Change",this._syncBrowserAutocomplete),this.after("sourceTypeChange",this._afterSourceTypeChange),this.after(w,this._afterValueChange)])},_syncUIACBase:function(){this._syncBrowserAutocomplete(),this.set(b,this.get(p).get(b))},_createArraySource:function(e){var t=this;return{type:"array",sendRequest:function(n){t[c](e.concat(),n)}}},_createFunctionSource:function(e){var t=this;return{type:"function",sendRequest:function(n){function i(e){t[c](e||[],n)}var r;(r=e(n.query,i))&&i(r)}}},_createObjectSource:function(e){var t=this;return{type:"object",sendRequest:function(n){var r=n.query;t[c](s.owns(e,r)?e[r]:[],n)}}},_functionValidator:function(e){return e===null||o(e)},_getObjectValue:function(e,t){if(!e)return;for(var n=0,r=t.length;e&&n<r;n++)e=e[t[n]];return e},_parseResponse:function(e,t,r){var i={data:r,query:e,results:[]},s=this.get(y),o=[],u=t&&t.results,a,f,l,c,h,p,d,v,m,g,b;u&&s&&(u=s.call(this,u));if(u&&u.length){a=this.get("resultFilters"),b=this.get("resultTextLocator");for(p=0,d=u.length;p<d;++p)m=u[p],g=b?b.call(this,m):m.toString(),o.push({display:n.html(g),raw:m,text:g});for(p=0,d=a.length;p<d;++p){o=a[p].call(this,e,o.concat());if(!o)return;if(!o.length)break}if(o.length){l=this.get("resultFormatter"),h=this.get("resultHighlighter"),v=this.get("maxResults"),v&&v>0&&o.length>v&&(o.length=v);if(h){c=h.call(this,e,o.concat());if(!c)return;for(p=0,d=c.length;p<d;++p)m=o[p],m.highlighted=c[p],m.display=m.highlighted}if(l){f=l.call(this,e,o.concat());if(!f)return;for(p=0,d=f.length;p<d;++p)o[p].display=f[p]}}}i.results=o,this.fire(x,i)},_parseValue:function(e){var t=this.get(v);return t&&(e=e.split(t),e=e[e.length-1]),r.trimLeft(e)},_setEnableCache:function(e){this._cache=e?{}:null},_setLocator:function(e){if(this[l](e))return e;var t=this;return e=e.toString().split("."),function(n){return n&&t._getObjectValue(n,e)}},_setRequestTemplate:function(e){return this[l](e)?e:(e=e.toString(),function(t){return r.sub(e,{query:encodeURIComponent(t)})})},_setResultFilters:function(t){var n,s;return t===null?[]:(n=e.AutoCompleteFilters,s=function(e){return o(e)?e:u(e)&&n&&o(n[e])?n[e]:!1},r.isArray(t)?(t=i.map(t,s),i.every(t,function(e){return!!e})?t:f):(t=s(t),t?[t]:f))},_setResultHighlighter:function(t){var n;return this[l](t)?t:(n=e.AutoCompleteHighlighters,u(t)&&n&&o(n[t])?n[t]:f)},_setSource:function(t){var n=this.get("sourceType")||r.type(t),i;return t&&o(t.sendRequest)||t===null||n==="datasource"?(this._rawSource=t,t):(i=T.SOURCE_TYPES[n])?(this._rawSource=t,r.isString(i)?this[i](t):i(t)):(e.error("Unsupported source type '"+n+"'. Maybe autocomplete-sources isn't loaded?"),f)},_sourceSuccess:function(e,t){t.callback.success({data:e,response:{results:e}})},_syncBrowserAutocomplete:function(){var e=this.get(p);e.get("nodeName").toLowerCase()==="input"&&e.setAttribute("autocomplete",this.get(h)?"on":"off")},_updateValue:function(e){var t=this.get(v),n,s,o;e=r.trimLeft(e),t&&(n=a(t),o=i.map(a(this.get(b)).split(t),a),s=o.length,s>1&&(o[s-1]=e,e=o.join(n+" ")),e=e+n+" "),this.set(b,e)},_afterSourceTypeChange:function(e){this._rawSource&&this.set("source",this._rawSource)},_afterValueChange:function(e){var t=e.newVal,n=this,r=e.src===T.UI_SRC,i,s,o,u;r||n._inputNode.set(b,t),o=n.get("minQueryLength"),u=n._parseValue(t)||"",o>=0&&u.length>=o?r?(i=n.get("queryDelay"),s=function(){n.fire(S,{inputValue:t,query:u,src:e.src})},i?(clearTimeout(n._delay),n._delay=setTimeout(s,i)):s()):n._set(d,u):(clearTimeout(n._delay),n.fire(E,{prevVal:e.prevVal?n._parseValue(e.prevVal):null,src:e.src}))},_onInputBlur:function(e){var t=this.get(v),n,i,s;if(t&&!this.get("allowTrailingDelimiter")){t=r.trimRight(t),s=i=this._inputNode.get(b);if(t)while((i=r.trimRight(i))&&(n=i.length-t.length)&&i.lastIndexOf(t)===n)i=i.substring(0,n);else i=r.trimRight(i);i!==s&&this.set(b,i)}},_onInputValueChange:function(e){var t=e.newVal;t!==this.get(b)&&this.set(b,t,{src:T.UI_SRC})},_onResponse:function(e,t){e===(this.get(d)||"")&&this._parseResponse(e||"",t.response,t.data)},_defClearFn:function(){this._set(d,null),this._set(g,[])},_defQueryFn:function(e){this.sendRequest(e.query)},_defResultsFn:function(e){this._set(g,e[g])}},T.ATTRS={allowBrowserAutocomplete:{value:!1},allowTrailingDelimiter:{value:!1},enableCache:{lazyAdd:!1,setter:"_setEnableCache",value:!0},inputNode:{setter:e.one,writeOnce:"initOnly"},maxResults:{value:0},minQueryLength:{value:1},query:{readOnly:!0,value:null},queryDelay:{value:100},queryDelimiter:{value:null},requestTemplate:{setter:"_setRequestTemplate",value:null},resultFilters:{setter:"_setResultFilters",value:[]},resultFormatter
:{validator:l,value:null},resultHighlighter:{setter:"_setResultHighlighter",value:null},resultListLocator:{setter:"_setLocator",value:null},results:{readOnly:!0,value:[]},resultTextLocator:{setter:"_setLocator",value:null},source:{setter:"_setSource",value:null},sourceType:{value:null},tokenInput:{readOnly:!0},value:{value:""}},T._buildCfg={aggregates:["SOURCE_TYPES"],statics:["UI_SRC"]},T.SOURCE_TYPES={array:"_createArraySource","function":"_createFunctionSource",object:"_createObjectSource"},T.UI_SRC=e.Widget&&e.Widget.UI_SRC||"ui",e.AutoCompleteBase=T},"3.11.0",{optional:["autocomplete-sources"],requires:["array-extras","base-build","escape","event-valuechange","node-base"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("autocomplete-sources",function(e,t){var n=e.AutoCompleteBase,r=e.Lang,i="_sourceSuccess",s="maxResults",o="requestTemplate",u="resultListLocator";e.mix(n.prototype,{_YQL_SOURCE_REGEX:/^(?:select|set|use)\s+/i,_beforeCreateObjectSource:function(t){return t instanceof e.Node&&t.get("nodeName").toLowerCase()==="select"?this._createSelectSource(t):e.JSONPRequest&&t instanceof e.JSONPRequest?this._createJSONPSource(t):this._createObjectSource(t)},_createIOSource:function(t){function a(n){var o=n.request;if(r._cache&&o in r._cache){r[i](r._cache[o],n);return}s&&s.isInProgress()&&s.abort(),s=e.io(r._getXHRUrl(t,n),{on:{success:function(t,s){var u;try{u=e.JSON.parse(s.responseText)}catch(a){e.error("JSON parse error",a)}u&&(r._cache&&(r._cache[o]=u),r[i](u,n))}}})}var n={type:"io"},r=this,s,o,u;return n.sendRequest=function(t){o=t;if(u)return;u=!0,e.use("io-base","json-parse",function(){n.sendRequest=a,a(o)})},n},_createJSONPSource:function(t){function u(e){var n=e.request,s=e.query;if(r._cache&&n in r._cache){r[i](r._cache[n],e);return}t._config.on.success=function(t){r._cache&&(r._cache[n]=t),r[i](t,e)},t.send(s)}var n={type:"jsonp"},r=this,s,o;return n.sendRequest=function(i){s=i;if(o)return;o=!0,e.use("jsonp",function(){t instanceof e.JSONPRequest||(t=new e.JSONPRequest(t,{format:e.bind(r._jsonpFormatter,r)})),n.sendRequest=u,u(s)})},n},_createSelectSource:function(e){var t=this;return{type:"select",sendRequest:function(n){var r=[];e.get("options").each(function(e){r.push({html:e.get("innerHTML"),index:e.get("index"),node:e,selected:e.get("selected"),text:e.get("text"),value:e.get("value")})}),t[i](r,n)}}},_createStringSource:function(e){return this._YQL_SOURCE_REGEX.test(e)?this._createYQLSource(e):e.indexOf("{callback}")!==-1?this._createJSONPSource(e):this._createIOSource(e)},_createYQLSource:function(t){function c(o){var u=o.query,a=n.get("yqlEnv"),f=n.get(s),c,h,p;p=r.sub(t,{maxResults:f>0?f:1e3,request:o.request,query:u});if(n._cache&&p in n._cache){n[i](n._cache[p],o);return}c=function(e){n._cache&&(n._cache[p]=e),n[i](e,o)},h={proto:n.get("yqlProtocol")},l?(l._callback=c,l._opts=h,l._params.q=p,a&&(l._params.env=a)):l=new e.YQLRequest(p,{on:{success:c},allowCache:!1},a?{env:a}:null,h),l.send()}var n=this,o={type:"yql"},a,f,l;return n.get(u)||n.set(u,n._defaultYQLLocator),o.sendRequest=function(t){a=t,f||(f=!0,e.use("yql",function(){o.sendRequest=c,c(a)}))},o},_defaultYQLLocator:function(t){var n=t&&t.query&&t.query.results,i;return n&&r.isObject(n)?(i=e.Object.values(n)||[],n=i.length===1?i[0]:i,r.isArray(n)||(n=[n])):n=[],n},_getXHRUrl:function(e,t){var n=this.get(s);return t.query!==t.request&&(e+=t.request),r.sub(e,{maxResults:n>0?n:1e3,query:encodeURIComponent(t.query)})},_jsonpFormatter:function(e,t,n){var i=this.get(s),u=this.get(o);return u&&(e+=u(n)),r.sub(e,{callback:t,maxResults:i>0?i:1e3,query:encodeURIComponent(n)})}}),e.mix(n.ATTRS,{yqlEnv:{value:null},yqlProtocol:{value:"http"}}),e.mix(n.SOURCE_TYPES,{io:"_createIOSource",jsonp:"_createJSONPSource",object:"_beforeCreateObjectSource",select:"_createSelectSource",string:"_createStringSource",yql:"_createYQLSource"},!0)},"3.11.0",{optional:["io-base","json-parse","jsonp","yql"],requires:["autocomplete-base"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("lang/autocomplete-list_en",function(e){e.Intl.add("autocomplete-list","en",{item_selected:"{item} selected.",items_available:"Suggestions are available. Use up and down arrows to select."})},"3.11.0");
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("selector-css2",function(e,t){var n="parentNode",r="tagName",i="attributes",s="combinator",o="pseudos",u=e.Selector,a={_reRegExpTokens:/([\^\$\?\[\]\*\+\-\.\(\)\|\\])/,SORT_RESULTS:!0,_isXML:function(){var t=e.config.doc.createElement("div").tagName!=="DIV";return t}(),shorthand:{"\\#(-?[_a-z0-9]+[-\\w\\uE000]*)":"[id=$1]","\\.(-?[_a-z]+[-\\w\\uE000]*)":"[className~=$1]"},operators:{"":function(t,n){return e.DOM.getAttribute(t,n)!==""},"~=":"(?:^|\\s+){val}(?:\\s+|$)","|=":"^{val}-?"},pseudos:{"first-child":function(t){return e.DOM._children(t[n])[0]===t}},_bruteQuery:function(t,n,r){var i=[],s=[],o,a=u._tokenize(t),f=a[a.length-1],l=e.DOM._getDoc(n),c,h,p,d,v;if(f){h=f.id,p=f.className,d=f.tagName||"*";if(n.getElementsByTagName)h&&(n.all||n.nodeType===9||e.DOM.inDoc(n))?s=e.DOM.allById(h,n):p?s=n.getElementsByClassName(p):s=n.getElementsByTagName(d);else{o=[],c=n.firstChild,v=d==="*";while(c){while(c)c.tagName>"@"&&(v||c.tagName===d)&&s.push(c),o.push(c),c=c.firstChild;while(o.length>0&&!c)c=o.pop().nextSibling}}s.length&&(i=u._filterNodes(s,a,r))}return i},_filterNodes:function(t,n,r){var i=0,s,o=n.length,a=o-1,f=[],l=t[0],c=l,h=e.Selector.getters,p,d,v,m,g,y,b,w;for(i=0;c=l=t[i++];){a=o-1,m=null;e:while(c&&c.tagName){v=n[a],b=v.tests,s=b.length;if(s&&!g)while(w=b[--s]){p=w[1],h[w[0]]?y=h[w[0]](c,w[0]):(y=c[w[0]],w[0]==="tagName"&&!u._isXML&&(y=y.toUpperCase()),typeof y!="string"&&y!==undefined&&y.toString?y=y.toString():y===undefined&&c.getAttribute&&(y=c.getAttribute(w[0],2)));if(p==="="&&y!==w[2]||typeof p!="string"&&p.test&&!p.test(y)||!p.test&&typeof p=="function"&&!p(c,w[0],w[2])){if(c=c[m])while(c&&(!c.tagName||v.tagName&&v.tagName!==c.tagName))c=c[m];continue e}}a--;if(!!g||!(d=v.combinator)){f.push(l);if(r)return f;break}m=d.axis,c=c[m];while(c&&!c.tagName)c=c[m];d.direct&&(m=null)}}return l=c=null,f},combinators:{" ":{axis:"parentNode"},">":{axis:"parentNode",direct:!0},"+":{axis:"previousSibling",direct:!0}},_parsers:[{name:i,re:/^\uE003(-?[a-z]+[\w\-]*)+([~\|\^\$\*!=]=?)?['"]?([^\uE004'"]*)['"]?\uE004/i,fn:function(t,n){var r=t[2]||"",i=u.operators,s=t[3]?t[3].replace(/\\/g,""):"",o;if(t[1]==="id"&&r==="="||t[1]==="className"&&e.config.doc.documentElement.getElementsByClassName&&(r==="~="||r==="="))n.prefilter=t[1],t[3]=s,n[t[1]]=t[1]==="id"?t[3]:s;r in i&&(o=i[r],typeof o=="string"&&(t[3]=s.replace(u._reRegExpTokens,"\\$1"),o=new RegExp(o.replace("{val}",t[3]))),t[2]=o);if(!n.last||n.prefilter!==t[1])return t.slice(1)}},{name:r,re:/^((?:-?[_a-z]+[\w-]*)|\*)/i,fn:function(e,t){var n=e[1];u._isXML||(n=n.toUpperCase()),t.tagName=n;if(n!=="*"&&(!t.last||t.prefilter))return[r,"=",n];t.prefilter||(t.prefilter="tagName")}},{name:s,re:/^\s*([>+~]|\s)\s*/,fn:function(e,t){}},{name:o,re:/^:([\-\w]+)(?:\uE005['"]?([^\uE005]*)['"]?\uE006)*/i,fn:function(e,t){var n=u[o][e[1]];return n?(e[2]&&(e[2]=e[2].replace(/\\/g,"")),[e[2],n]):!1}}],_getToken:function(e){return{tagName:null,id:null,className:null,attributes:{},combinator:null,tests:[]}},_tokenize:function(t){t=t||"",t=u._parseSelector(e.Lang.trim(t));var n=u._getToken(),r=t,i=[],o=!1,a,f,l,c;e:do{o=!1;for(l=0;c=u._parsers[l++];)if(a=c.re.exec(t)){c.name!==s&&(n.selector=t),t=t.replace(a[0],""),t.length||(n.last=!0),u._attrFilters[a[1]]&&(a[1]=u._attrFilters[a[1]]),f=c.fn(a,n);if(f===!1){o=!1;break e}f&&n.tests.push(f);if(!t.length||c.name===s)i.push(n),n=u._getToken(n),c.name===s&&(n.combinator=e.Selector.combinators[a[1]]);o=!0}}while(o&&t.length);if(!o||t.length)i=[];return i},_replaceMarkers:function(e){return e=e.replace(/\[/g,"\ue003"),e=e.replace(/\]/g,"\ue004"),e=e.replace(/\(/g,"\ue005"),e=e.replace(/\)/g,"\ue006"),e},_replaceShorthand:function(t){var n=e.Selector.shorthand,r;for(r in n)n.hasOwnProperty(r)&&(t=t.replace(new RegExp(r,"gi"),n[r]));return t},_parseSelector:function(t){var n=e.Selector._replaceSelector(t),t=n.selector;return t=e.Selector._replaceShorthand(t),t=e.Selector._restore("attr",t,n.attrs),t=e.Selector._restore("pseudo",t,n.pseudos),t=e.Selector._replaceMarkers(t),t=e.Selector._restore("esc",t,n.esc),t},_attrFilters:{"class":"className","for":"htmlFor"},getters:{href:function(t,n){return e.DOM.getAttribute(t,n)},id:function(t,n){return e.DOM.getId(t)}}};e.mix(e.Selector,a,!0),e.Selector.getters.src=e.Selector.getters.rel=e.Selector.getters.href,e.Selector.useNative&&e.config.doc.querySelector&&(e.Selector.shorthand["\\.(-?[_a-z]+[-\\w]*)"]="[class~=$1]")},"3.11.0",{requires:["selector-native"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("selector-css3",function(e,t){e.Selector._reNth=/^(?:([\-]?\d*)(n){1}|(odd|even)$)*([\-+]?\d*)$/,e.Selector._getNth=function(t,n,r,i){e.Selector._reNth.test(n);var s=parseInt(RegExp.$1,10),o=RegExp.$2,u=RegExp.$3,a=parseInt(RegExp.$4,10)||0,f=[],l=e.DOM._children(t.parentNode,r),c;u?(s=2,c="+",o="n",a=u==="odd"?1:0):isNaN(s)&&(s=o?1:0);if(s===0)return i&&(a=l.length-a+1),l[a-1]===t?!0:!1;s<0&&(i=!!i,s=Math.abs(s));if(!i){for(var h=a-1,p=l.length;h<p;h+=s)if(h>=0&&l[h]===t)return!0}else for(var h=l.length-a,p=l.length;h>=0;h-=s)if(h<p&&l[h]===t)return!0;return!1},e.mix(e.Selector.pseudos,{root:function(e){return e===e.ownerDocument.documentElement},"nth-child":function(t,n){return e.Selector._getNth(t,n)},"nth-last-child":function(t,n){return e.Selector._getNth(t,n,null,!0)},"nth-of-type":function(t,n){return e.Selector._getNth(t,n,t.tagName)},"nth-last-of-type":function(t,n){return e.Selector._getNth(t,n,t.tagName,!0)},"last-child":function(t){var n=e.DOM._children(t.parentNode);return n[n.length-1]===t},"first-of-type":function(t){return e.DOM._children(t.parentNode,t.tagName)[0]===t},"last-of-type":function(t){var n=e.DOM._children(t.parentNode,t.tagName);return n[n.length-1]===t},"only-child":function(t){var n=e.DOM._children(t.parentNode);return n.length===1&&n[0]===t},"only-of-type":function(t){var n=e.DOM._children(t.parentNode,t.tagName);return n.length===1&&n[0]===t},empty:function(e){return e.childNodes.length===0},not:function(t,n){return!e.Selector.test(t,n)},contains:function(e,t){var n=e.innerText||e.textContent||"";return n.indexOf(t)>-1},checked:function(e){return e.checked===!0||e.selected===!0},enabled:function(e){return e.disabled!==undefined&&!e.disabled},disabled:function(e){return e.disabled}}),e.mix(e.Selector.operators,{"^=":"^{val}","$=":"{val}$","*=":"{val}"}),e.Selector.combinators["~"]={axis:"previousSibling"}},"3.11.0",{requires:["selector-native","selector-css2"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("shim-plugin",function(e,t){function n(e){this.init(e)}n.CLASS_NAME="yui-node-shim",n.TEMPLATE='<iframe class="'+n.CLASS_NAME+'" frameborder="0" title="Node Stacking Shim"'+'src="javascript:false" tabindex="-1" role="presentation"'+'style="position:absolute; z-index:-1;"></iframe>',n.prototype={init:function(e){this._host=e.host,this.initEvents(),this.insert(),this.sync()},initEvents:function(){this._resizeHandle=this._host.on("resize",this.sync,this)},getShim:function(){return this._shim||(this._shim=e.Node.create(n.TEMPLATE,this._host.get("ownerDocument")))},insert:function(){var e=this._host;this._shim=e.insertBefore(this.getShim(),e.get("firstChild"))},sync:function(){var e=this._shim,t=this._host;e&&e.setAttrs({width:t.getStyle("width"),height:t.getStyle("height")})},destroy:function(){var e=this._shim;e&&e.remove(!0),this._resizeHandle.detach()}},n.NAME="Shim",n.NS="shim",e.namespace("Plugin"),e.Plugin.Shim=n},"3.11.0",{requires:["node-style","node-pluginhost"]});
